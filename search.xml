<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Swift全局状态监听小技巧（**willSet**,didSet）</title>
      <link href="/2020/05/23/Swift%E5%85%A8%E5%B1%80%E7%8A%B6%E6%80%81%E7%9B%91%E5%90%AC%E5%B0%8F%E6%8A%80%E5%B7%A7%EF%BC%88willSet,didSet%EF%BC%89/"/>
      <url>/2020/05/23/Swift%E5%85%A8%E5%B1%80%E7%8A%B6%E6%80%81%E7%9B%91%E5%90%AC%E5%B0%8F%E6%8A%80%E5%B7%A7%EF%BC%88willSet,didSet%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<h4 id="Swift全局状态监听小技巧（willSet-didSet）"><a href="#Swift全局状态监听小技巧（willSet-didSet）" class="headerlink" title="Swift全局状态监听小技巧（willSet,didSet）"></a>Swift全局状态监听小技巧（willSet,didSet）</h4><h5 id="封装：便于统一管理，方便使用"><a href="#封装：便于统一管理，方便使用" class="headerlink" title="封装：便于统一管理，方便使用"></a>封装：便于统一管理，方便使用</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">FyAppObserverName</span>:<span class="title">String</span></span>&#123;</span><br><span class="line">    <span class="keyword">case</span> isLogin  = <span class="string">"isLogin"</span>   <span class="comment">//是否是登录状态</span></span><br><span class="line">    <span class="keyword">case</span> isVip    = <span class="string">"isVip"</span>    <span class="comment">//是否是Vip</span></span><br><span class="line">    <span class="keyword">case</span> timeLength = <span class="string">"timeLength"</span>  <span class="comment">//时长</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FyAppStatusManger</span>:<span class="title">NSObject</span></span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> shared = <span class="type">FyAppStatusManger</span>.<span class="keyword">init</span>()</span><br><span class="line">    <span class="keyword">var</span> valueChanged:((<span class="number">_</span> observerName:<span class="type">FyAppObserverName</span>,<span class="number">_</span> oldValue:<span class="type">Any?</span>,<span class="number">_</span> newValue:<span class="type">Any?</span>) -&gt;())?</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">init</span>()&#123;</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>()</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//需要监听变化的值</span></span><br><span class="line">    <span class="keyword">var</span> isLogin:<span class="type">Bool</span> = <span class="literal">false</span>&#123;</span><br><span class="line">        <span class="keyword">didSet</span>&#123;</span><br><span class="line">            valueChanged?(.isLogin, oldValue, isLogin)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> isVip:<span class="type">Bool</span> = <span class="literal">false</span>&#123;</span><br><span class="line">        <span class="keyword">didSet</span>&#123;</span><br><span class="line">            valueChanged?(.isVip, oldValue, isLogin)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> timeLength:<span class="type">Int</span>  = <span class="number">0</span>&#123;</span><br><span class="line">        <span class="keyword">didSet</span>&#123;</span><br><span class="line">            valueChanged?(.timeLength, oldValue, isLogin)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="使用："><a href="#使用：" class="headerlink" title="使用："></a>使用：</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">FyAppStatusManger</span>.shared.valueChanged =  &#123;(observerName,oldValue ,newValue) <span class="keyword">in</span></span><br><span class="line">            <span class="comment">//可以在app需要的地方调用，需求监听的状态可以根据实际情况自由搭配</span></span><br><span class="line">    <span class="keyword">switch</span> observerName&#123;</span><br><span class="line">    <span class="keyword">case</span> .isLogin:</span><br><span class="line">      <span class="comment">//登录状态发生改变</span></span><br><span class="line">       <span class="keyword">break</span></span><br><span class="line">     <span class="keyword">case</span> .isVip:</span><br><span class="line">      <span class="comment">//会员状态发生改变</span></span><br><span class="line">          <span class="keyword">break</span></span><br><span class="line">      <span class="keyword">default</span>:</span><br><span class="line">          <span class="keyword">break</span></span><br><span class="line">    &#125;          </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Swift </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> didSet </tag>
            
            <tag> willSet </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mac下移动硬盘无法读取解决方案(以前是可以读取的)</title>
      <link href="/2020/05/08/Mac%E4%B8%8B%E7%A7%BB%E5%8A%A8%E7%A1%AC%E7%9B%98%E6%97%A0%E6%B3%95%E8%AF%BB%E5%8F%96%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/"/>
      <url>/2020/05/08/Mac%E4%B8%8B%E7%A7%BB%E5%8A%A8%E7%A1%AC%E7%9B%98%E6%97%A0%E6%B3%95%E8%AF%BB%E5%8F%96%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/</url>
      
        <content type="html"><![CDATA[<h4 id="Mac下移动硬盘无法读取-以前是可以读取的"><a href="#Mac下移动硬盘无法读取-以前是可以读取的" class="headerlink" title="Mac下移动硬盘无法读取(以前是可以读取的)"></a>Mac下移动硬盘无法读取(以前是可以读取的)</h4><blockquote><p>不进行处理的话，一般连接移动硬盘半个小时左右就会显示了；不想等待的话就执行以下命令，强制加载</p></blockquote><p>可以在终端中执行以下命令：<code>diskutil list</code>  ,控制台输出信息如下：</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">@ls--MacBook-Air  ~ $ diskutil list</span><br><span class="line">/dev/disk<span class="number">0</span> (internal, physical)<span class="symbol">:</span></span><br><span class="line">   <span class="comment">#:                       TYPE NAME                    SIZE       IDENTIFIER</span></span><br><span class="line">   <span class="number">0</span>:      GUID_partition_scheme                        *<span class="number">121.3</span> GB   disk<span class="number">0</span></span><br><span class="line">   <span class="number">1</span>:                        EFI EFI                     <span class="number">209.7</span> MB   disk0s1</span><br><span class="line">   <span class="number">2</span>:                 Apple_APFS Container disk1         <span class="number">121.1</span> GB   disk0s2</span><br><span class="line"></span><br><span class="line">/dev/disk1 (synthesized)<span class="symbol">:</span></span><br><span class="line">   <span class="comment">#:                       TYPE NAME                    SIZE       IDENTIFIER</span></span><br><span class="line">   <span class="number">0</span>:      APFS Container Scheme -                      +<span class="number">121.1</span> GB   disk1</span><br><span class="line">                                 Physical Store disk0s2</span><br><span class="line">   <span class="number">1</span>:                APFS Volume Macintosh HD - 数据     <span class="number">95.8</span> GB    disk1s1</span><br><span class="line">   <span class="number">2</span>:                APFS Volume Preboot                 <span class="number">82.4</span> MB    disk1s2</span><br><span class="line">   <span class="number">3</span>:                APFS Volume Recovery                <span class="number">528.5</span> MB   disk1s3</span><br><span class="line">   <span class="number">4</span>:                APFS Volume VM                      <span class="number">3.2</span> GB     disk1s4</span><br><span class="line">   <span class="number">5</span>:                APFS Volume Macintosh HD            <span class="number">10.9</span> GB    disk1s5</span><br><span class="line"></span><br><span class="line">/dev/disk2 (external, physical)<span class="symbol">:</span></span><br><span class="line">   <span class="comment">#:                       TYPE NAME                    SIZE       IDENTIFIER</span></span><br><span class="line">   <span class="number">0</span>:      GUID_partition_scheme                        *<span class="number">1.0</span> TB     disk2</span><br><span class="line">   <span class="number">1</span>:                        EFI EFI                     <span class="number">209.7</span> MB   disk2s1</span><br><span class="line">   <span class="number">2</span>:       Microsoft Basic Data LPF                     <span class="number">1000.0</span> GB  disk2s2</span><br></pre></td></tr></table></figure><p>通过以上输出信息，可以找到移动硬盘挂载路径：<code>/dev/disk2</code> ,根据输出显示实际挂载路径填写。</p><p>执行命令：<code>sudo diskutil mount /dev/disk2</code> ，控制台输出信息如下：</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@ls-MacBook-Air  ~ $ sudo diskutil mountDisk /dev/disk2</span><br><span class="line">Volume(s) mounted successfully</span><br></pre></td></tr></table></figure><p>输出以上信息表示移动硬盘挂载成功了，如果输出以下信息：</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> @ls-MacBook-Air  ~ $ sudo diskutil mount /dev/disk2</span><br><span class="line"><span class="symbol">Password:</span></span><br><span class="line">Volume on disk2 failed to mount</span><br><span class="line">Perhaps the operation is <span class="keyword">not</span> supported (kDAReturnUnsupported)</span><br><span class="line">If it has a partitioning scheme, use <span class="string">"diskutil mountDisk"</span></span><br><span class="line">If you think the volume is supported but damaged, try the <span class="string">"readOnly"</span> option</span><br></pre></td></tr></table></figure><p>输出以上信息表示不支持 <code>sudo diskutil mount /dev/disk2</code> 这种装载方式，使用以下方式进行装载</p><p>执行命令： <code>sudo diskutil mountDisk /dev/disk2</code> , 而不是  <code>sudo diskutil mount /dev/disk2</code></p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@ls-MacBook-Air  ~ $ sudo diskutil mountDisk /dev/disk2</span><br><span class="line">Volume(s) mounted successfully</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Mac </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Mac </tag>
            
            <tag> 移动硬盘 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>各类文件MIME_TYPE对照表和Apple官方指定文件类型</title>
      <link href="/2020/04/30/%E5%90%84%E7%B1%BB%E6%96%87%E4%BB%B6MIME_TYPE%E5%AF%B9%E7%85%A7%E8%A1%A8%E5%92%8CApple%E5%AE%98%E6%96%B9%E6%8C%87%E5%AE%9A%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B/"/>
      <url>/2020/04/30/%E5%90%84%E7%B1%BB%E6%96%87%E4%BB%B6MIME_TYPE%E5%AF%B9%E7%85%A7%E8%A1%A8%E5%92%8CApple%E5%AE%98%E6%96%B9%E6%8C%87%E5%AE%9A%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">".3gp"</span>,    <span class="string">"video/3gpp"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".apk"</span>,    <span class="string">"application/vnd.android.package-archive"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".asf"</span>,    <span class="string">"video/x-ms-asf"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".avi"</span>,    <span class="string">"video/x-msvideo"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".bin"</span>,    <span class="string">"application/octet-stream"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".bmp"</span>,    <span class="string">"image/bmp"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".c"</span>,  <span class="string">"text/plain"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".class"</span>,  <span class="string">"application/octet-stream"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".conf"</span>,   <span class="string">"text/plain"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".cpp"</span>,    <span class="string">"text/plain"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".doc"</span>,    <span class="string">"application/msword"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".docx"</span>,   <span class="string">"application/vnd.openxmlformats-officedocument.wordprocessingml.document"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".xls"</span>,    <span class="string">"application/vnd.ms-excel"</span>&#125;,    </span><br><span class="line">&#123;<span class="string">".xlsx"</span>,   <span class="string">"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".exe"</span>,    <span class="string">"application/octet-stream"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".gif"</span>,    <span class="string">"image/gif"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".gtar"</span>,   <span class="string">"application/x-gtar"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".gz"</span>, <span class="string">"application/x-gzip"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".h"</span>,  <span class="string">"text/plain"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".htm"</span>,    <span class="string">"text/html"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".html"</span>,   <span class="string">"text/html"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".jar"</span>,    <span class="string">"application/java-archive"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".java"</span>,   <span class="string">"text/plain"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".jpeg"</span>,   <span class="string">"image/jpeg"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".jpg"</span>,    <span class="string">"image/jpeg"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".js"</span>, <span class="string">"application/x-javascript"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".log"</span>,    <span class="string">"text/plain"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".m3u"</span>,    <span class="string">"audio/x-mpegurl"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".m4a"</span>,    <span class="string">"audio/mp4a-latm"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".m4b"</span>,    <span class="string">"audio/mp4a-latm"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".m4p"</span>,    <span class="string">"audio/mp4a-latm"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".m4u"</span>,    <span class="string">"video/vnd.mpegurl"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".m4v"</span>,    <span class="string">"video/x-m4v"</span>&#125;,    </span><br><span class="line">&#123;<span class="string">".mov"</span>,    <span class="string">"video/quicktime"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".mp2"</span>,    <span class="string">"audio/x-mpeg"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".mp3"</span>,    <span class="string">"audio/x-mpeg"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".mp4"</span>,    <span class="string">"video/mp4"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".mpc"</span>,    <span class="string">"application/vnd.mpohun.certificate"</span>&#125;,          </span><br><span class="line">&#123;<span class="string">".mpe"</span>,    <span class="string">"video/mpeg"</span>&#125;,     </span><br><span class="line">&#123;<span class="string">".mpeg"</span>,   <span class="string">"video/mpeg"</span>&#125;,     </span><br><span class="line">&#123;<span class="string">".mpg"</span>,    <span class="string">"video/mpeg"</span>&#125;,     </span><br><span class="line">&#123;<span class="string">".mpg4"</span>,   <span class="string">"video/mp4"</span>&#125;,      </span><br><span class="line">&#123;<span class="string">".mpga"</span>,   <span class="string">"audio/mpeg"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".msg"</span>,    <span class="string">"application/vnd.ms-outlook"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".ogg"</span>,    <span class="string">"audio/ogg"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".pdf"</span>,    <span class="string">"application/pdf"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".png"</span>,    <span class="string">"image/png"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".pps"</span>,    <span class="string">"application/vnd.ms-powerpoint"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".ppt"</span>,    <span class="string">"application/vnd.ms-powerpoint"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".pptx"</span>,   <span class="string">"application/vnd.openxmlformats-officedocument.presentationml.presentation"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".prop"</span>,   <span class="string">"text/plain"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".rc"</span>, <span class="string">"text/plain"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".rmvb"</span>,   <span class="string">"audio/x-pn-realaudio"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".rtf"</span>,    <span class="string">"application/rtf"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".sh"</span>, <span class="string">"text/plain"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".tar"</span>,    <span class="string">"application/x-tar"</span>&#125;,      </span><br><span class="line">&#123;<span class="string">".tgz"</span>,    <span class="string">"application/x-compressed"</span>&#125;,    </span><br><span class="line">&#123;<span class="string">".txt"</span>,    <span class="string">"text/plain"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".wav"</span>,    <span class="string">"audio/x-wav"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".wma"</span>,    <span class="string">"audio/x-ms-wma"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".wmv"</span>,    <span class="string">"audio/x-ms-wmv"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".wps"</span>,    <span class="string">"application/vnd.ms-works"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".xml"</span>,    <span class="string">"text/plain"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".z"</span>,  <span class="string">"application/x-compress"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">".zip"</span>,    <span class="string">"application/x-zip-compressed"</span>&#125;,   </span><br><span class="line">&#123;<span class="string">""</span>,        <span class="string">"*/*"</span>&#125;</span><br></pre></td></tr></table></figure><h4 id="官方指定的文件类型-Document-Content-Type-UTIs"><a href="#官方指定的文件类型-Document-Content-Type-UTIs" class="headerlink" title="官方指定的文件类型 Document Content Type UTIs"></a>官方指定的文件类型 Document Content Type UTIs</h4><p><a href="https://developer.apple.com/library/ios/documentation/Miscellaneous/Reference/UTIRef/Articles/System-DeclaredUniformTypeIdentifiers.html#//apple_ref/doc/uid/TP40009259-SW1" target="_blank" rel="noopener">官方指定的文件类型</a></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>CFBundleTypeRole<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>Viewer<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>LSHandlerRank<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>Owner<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>CFBundleTypeIconFiles<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">array</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>CFBundleTypeName<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>文件共享<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>LSItemContentTypes<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>public.data<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>com.microsoft.excel.xls<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>public.text<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>public.plain-text <span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>public.image<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>public.jpeg<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>public.png<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>com.microsoft.bmp <span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>com.compuserve.gif <span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>com.adobe.pdf<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>com.microsoft.powerpoint.ppt<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>com.microsoft.word.doc<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 收藏 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MIME_TYPE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>收藏的网站</title>
      <link href="/2020/04/27/collectUrl/"/>
      <url>/2020/04/27/collectUrl/</url>
      
        <content type="html"><![CDATA[<div style="box-shadow: 5px 5px 2px #AAAAAA;background-color:#f6f6f6;vertical-align:middle;margin:auto;text-align:center;">  <table border="1">  <tbody>    <!-- -------------------------------------------Flutter相关技术网站---------------------------------------- -->   <!-- 分类标题 -->    <tr align="center" valign="center">      <th colspan="3" style="color:#8A2BE2"><strong>Flutter相关技术网站</strong></th>    </tr>    <!-- 网站图标 -->    <tr>      <td align="center" valign="center">        <img src="https://cdn.jsdelivr.net/gh/flutterchina/website@1.0/images/flutter-mark-square-100.png" title="图片Title" style="width:100px">      </td>       <td align="center" valign="center">           <img src="https://flutter.cn/favicon.ico" style="width:100px">      </td>       <td align="center" valign="center">           <img src="https://cdn.jsdelivr.net/gh/flutterchina/website@1.0/images/flutter-mark-square-100.png" style="width:100px">      </td>     </tr>    <!-- 网站名称 -->    <tr style="background-color:#ffffff;">      <td>        <div style="padding:10px"><center><a href="https://flutterchina.club" target="_blank" rel="noopener">Flutter中文网</a></center></div>      </td>       <td>        <div style="padding:10px"><center><a href="https://www.flutter-io.cn" target="_blank" rel="noopener">Flutter 社区中文资源</a></center></div>      </td>      <td>        <div style="padding:10px"><center><a href="https://pub.flutter-io.cn" target="_blank" rel="noopener">Dart packages</a></center></div>      </td>     </tr>    <!-- 网站图标 -->    <tr>      <td align="center" valign="center">        <img src="https://cdn.jsdelivr.net/gh/flutterchina/website@1.0/images/flutter-mark-square-100.png" title="图片Title" style="width:100px">      </td>      <td align="center" valign="center">           <img src="https://cdn.jsdelivr.net/gh/flutterchina/website@1.0/images/flutter-mark-square-100.png" style="width:100px">      </td>     </tr>    <!-- 网站名称 -->    <tr style="background-color:#ffffff;">      <td>        <div style="padding:10px"><center><a href="https://flutter.dev" target="_blank" rel="noopener">Flutter官网</a></center></div>      </td>      <td>        <div style="padding:10px"><center><a href="https://javiercbk.github.io/json_to_dart/" target="_blank" rel="noopener">json_to_dart</a></center></div>      </td>     </tr>  <!-- -------------------------------------------iOS开发相关技术网站---------------------------------------- -->   <!-- 分类标题 -->    <tr align="center" valign="center">      <th colspan="3" style="color:#8A2BE2"><strong>iOS开发相关技术网站</strong></th>    </tr>    <!-- 网站图标 -->    <tr>      <td align="center" valign="center">        <img src="https://jdi.cocosbcx.net/image/cocoachina/new_logo.png" title="图片Title" style="width:100px">      </td>       <td align="center" valign="center">           <img src="http://www.code4app.com/template/dean_flyi_170116/deancss/logo.png" style="width:100px">      </td>       <td align="center" valign="center">           <img src="http://www.swift51.com/favicon.ico" style="width:100px">      </td>     </tr>    <!-- 网站名称 -->    <tr style="background-color:#ffffff;">      <td>        <div style="padding:10px"><center><a href="http://www.cocoachina.com" target="_blank" rel="noopener">CocoaChina</a></center></div>      </td>       <td>        <div style="padding:10px"><center><a href="http://www.code4app.com" target="_blank" rel="noopener">Code4app</a></center></div>      </td>      <td>        <div style="padding:10px"><center><a href="http://www.swift51.com/swift4.0/chapter2/22_Protocols.html" target="_blank" rel="noopener">Swift 编程</a></center></div>      </td>     </tr>           <!-- -------------------------------------------技术社区网站---------------------------------------- -->   <!-- 分类标题 -->    <tr align="center" valign="center">      <th colspan="3" style="color:#8A2BE2"><strong>技术社区网站</strong></th>    </tr>    <!-- 网站图标 -->    <tr>      <td align="center" valign="center">        <img src="https://cdn.sstatic.net/Sites/stackoverflow/img/apple-touch-icon.png?v=c78bd457575a" title="图片Title" style="width:100px">      </td>       <td align="center" valign="center">           <img src="https://b-gold-cdn.xitu.io/v3/static/img/logo.a7995ad.svg" style="width:100px">      </td>       <td align="center" valign="center">           <img src="https://static.oschina.net/new-osc/img/logo_osc_new.svg" style="width:100px">      </td>     </tr>    <!-- 网站名称 -->    <tr style="background-color:#ffffff;">      <td>        <div style="padding:10px"><center><a href="https://stackoverflow.com" target="_blank" rel="noopener">stackoverflow</a></center></div>      </td>       <td>        <div style="padding:10px"><center><a href="https://juejin.im" target="_blank" rel="noopener">掘金</a></center></div>      </td>      <td>        <div style="padding:10px"><center><a href="https://www.oschina.net" target="_blank" rel="noopener">中文开源技术交流社区</a></center></div>      </td>     </tr>        <!-- 网站图标 -->    <tr>      <td align="center" valign="center">        <img src="https://cdn2.jianshu.io/assets/web/nav-logo-4c7bbafe27adc892f3046e6978459bac.png" title="图片Title" style="width:100px">      </td>       <td align="center" valign="center">           <img src="https://github.githubassets.com/images/modules/site/home-illo-team-tools.svg" style="width:100px">      </td>       <td align="center" valign="center">           <img src="https://cdn.segmentfault.com/v-5e8d8dec/global/img/touch-icon.png" style="width:100px">      </td>     </tr>    <!-- 网站名称 -->    <tr style="background-color:#ffffff;">      <td>        <div style="padding:10px"><center><a href="https://www.jianshu.com" target="_blank" rel="noopener">简书</a></center></div>      </td>       <td>        <div style="padding:10px"><center><a href="https://github.com" target="_blank" rel="noopener">Github</a></center></div>      </td>      <td>        <div style="padding:10px"><center><a href="https://segmentfault.com" target="_blank" rel="noopener">思否</a></center></div>      </td>     </tr>    <!-- 网站图标 -->    <tr>      <td align="center" valign="center">        <img src="https://www.w3school.com.cn/ui2019/logo-180.png" title="图片Title" style="width:100px">      </td>       <td align="center" valign="center">           <img src="https://www.w3cschool.cn/statics/images/favicon.ico?v=2.2" style="width:100px">      </td>       <td align="center" valign="center">           <img src="https://static.zhihu.com/static/favicon.ico" style="width:100px">      </td>     </tr>    <!-- 网站名称 -->    <tr style="background-color:#ffffff;">      <td>        <div style="padding:10px"><center><a href="https://www.w3school.com.cn" target="_blank" rel="noopener">W3school</a></center></div>      </td>       <td>        <div style="padding:10px"><center><a href="https://www.w3cschool.cn" target="_blank" rel="noopener">W3Cschool</a></center></div>      </td>      <td>        <div style="padding:10px"><center><a href="https://www.zhihu.com/signin?next=%2F" target="_blank" rel="noopener">知乎</a></center></div>      </td>     </tr>    <!-- 网站图标 -->    <tr>      <td align="center" valign="center">        <img src="https://gitee.com/static/images/logo-black.svg?t=158106664" title="图片Title" style="width:100px">      </td>       <td align="center" valign="center">           <img src="https://csdnimg.cn/cdn/content-toolbar/csdn-logo.png?v=20200416.1" style="width:100px">      </td>       <td align="center" valign="center">           <img src="https://www.cnblogs.com/images/logo_small.gif" style="width:100px">      </td>     </tr>    <!-- 网站名称 -->    <tr style="background-color:#ffffff;">      <td>        <div style="padding:10px"><center><a href="https://gitee.com" target="_blank" rel="noopener">码云</a></center></div>      </td>       <td>        <div style="padding:10px"><center><a href="https://www.csdn.net" target="_blank" rel="noopener">CSDN</a></center></div>      </td>      <td>        <div style="padding:10px"><center><a href="https://www.cnblogs.com" target="_blank" rel="noopener">博客园</a></center></div>      </td>     </tr>    <!-- 网站图标 -->    <tr>      <td align="center" valign="center">        <img src="http://static.codeceo.com/asset/css/img/logo-new.png" title="图片Title" style="width:100px">      </td>       <td align="center" valign="center">           <img src="https://www.runoob.com/wp-content/themes/runoob/assets/img/runoob-logo.png" style="width:100px">      </td>       <td align="center" valign="center">           <img src="https://www.51zxw.net/Contents/Images/logo.png" style="width:100px">      </td>     </tr>    <!-- 网站名称 -->    <tr style="background-color:#ffffff;">      <td>        <div style="padding:10px"><center><a href="http://www.codeceo.com" target="_blank" rel="noopener">码农网</a></center></div>      </td>       <td>        <div style="padding:10px"><center><a href="https://www.runoob.com" target="_blank" rel="noopener">菜鸟教程</a></center></div>      </td>      <td>        <div style="padding:10px"><center><a href="https://www.51zxw.net" target="_blank" rel="noopener">我要自学网</a></center></div>      </td>     </tr>         <!-- -------------------------------------------视频教程网站---------------------------------------- -->   <!-- 分类标题 -->    <tr align="center" valign="center">      <th colspan="3" style="color:#8A2BE2"><strong>视频教程网站</strong></th>    </tr>    <!-- 网站图标 -->    <tr>      <td align="center" valign="center">        <img src="https://8.url.cn/edu/edu_modules/edu-ui/img/bg/logo192-3x.e89120ba.png" title="图片Title" style="width:100px">      </td>       <td align="center" valign="center">           <img src="https://edu-image.nosdn.127.net/51373455cc3e4a96a802e89387cb868c.png?imageView&quality=100" style="width:100px">      </td>       <td align="center" valign="center">           <img src="https://activity.hdslb.com/zzjs/20160608appDownload/img/pc/tittle.png" style="width:100px">      </td>     </tr>    <!-- 网站名称 -->    <tr style="background-color:#ffffff;">      <td>        <div style="padding:10px"><center><a href="https://ke.qq.com" target="_blank" rel="noopener">腾讯课堂</a></center></div>      </td>       <td>        <div style="padding:10px"><center><a href="https://study.163.com" target="_blank" rel="noopener">网易云课堂</a></center></div>      </td>      <td>        <div style="padding:10px"><center><a href="https://www.bilibili.com" target="_blank" rel="noopener">哔哩哔哩</a></center></div>      </td>     </tr>        <!-- 网站图标 -->    <tr>      <td align="center" valign="center">        <img src="https://www.imooc.com/static/img/index/logo.png" title="图片Title" style="width:100px">      </td>       <td align="center" valign="center">           <img src="http://yun.itheima.com/Root/images/logo.jpg" style="width:100px">      </td>       <td align="center" valign="center">           <img src="https://boxueio.com/assets/images/bx-logo-v4@2x.png" style="width:100px">      </td>     </tr>    <!-- 网站名称 -->    <tr style="background-color:#ffffff;">      <td>        <div style="padding:10px"><center><a href="https://www.imooc.com" target="_blank" rel="noopener">慕课网</a></center></div>      </td>       <td>        <div style="padding:10px"><center><a href="http://yun.itheima.com" target="_blank" rel="noopener">黑马程序员</a></center></div>      </td>      <td>        <div style="padding:10px"><center><a href="https://boxueio.com" target="_blank" rel="noopener">泊学</a></center></div>      </td>     </tr>       <!-- -------------------------------------------开发辅助网站---------------------------------------- -->   <!-- 分类标题 -->    <tr align="center" valign="center">      <th colspan="3" style="color:#8A2BE2"><strong>开发辅助网站</strong></th>    </tr>    <!-- 网站图标 -->    <tr>      <td align="center" valign="center">        <img src="http://www.makeicon.cc/Content/imgs/icon.png" title="图片Title" style="width:100px">      </td>       <td align="center" valign="center">           <img src="https://icon.wuruihong.com/favicon.ico" style="width:100px">      </td>       <td align="center" valign="center">           <img src="https://tinypng.com/images/apng/panda-waving.png" style="width:100px">      </td>     </tr>    <!-- 网站名称 -->    <tr style="background-color:#ffffff;">      <td>        <div style="padding:10px"><center><a href="http://www.makeicon.cc" target="_blank" rel="noopener">App图标制作</a>（图标制作）</center></div>      </td>       <td>        <div style="padding:10px"><center><a href="https://icon.wuruihong.com/" target="_blank" rel="noopener">图标工厂</a>（图标制作） </center></div>      </td>      <td>        <div style="padding:10px"><center><a href="https://tinypng.com" target="_blank" rel="noopener">TinyPNG</a>(图片压缩) </center></div>      </td>     </tr>        <!-- 网站图标 -->    <tr>      <td align="center" valign="center">        <img src="https://www.easy-mock.com/public/images/easy-mock.png" title="图片Title" style="width:100px">      </td>       <td align="center" valign="center">           <img src="https://material.io/resources/icons/static/ic_material_192px_light.svg" style="width:100px">      </td>       <td align="center" valign="center">           <img src="https://img.alicdn.com/tfs/TB1td1qB5rpK1RjSZFhXXXSdXXa-60-30.png" style="width:100px">      </td>     </tr>    <!-- 网站名称 -->    <tr style="background-color:#ffffff;">      <td>        <div style="padding:10px"><center><a href="https://www.easy-mock.com/login" target="_blank" rel="noopener">Easy Mock</a>（伪造数据）</center></div>      </td>       <td>        <div style="padding:10px"><center><a href="https://material.io/resources/icons/?icon=sd_storage&style=baseline" target="_blank" rel="noopener">Icons</a>(Icons图标)</center></div>      </td>      <td>        <div style="padding:10px"><center><a href="https://www.iconfont.cn" target="_blank" rel="noopener">Iconfont</a>(Icons图标)</center></div>      </td>     </tr>     <!-- -------------------------------------------常用在线工具网站---------------------------------------- -->   <!-- 分类标题 -->    <tr align="center" valign="center">      <th colspan="3" style="color:#8A2BE2"><strong>常用在线工具网站</strong></th>    </tr>    <!-- 网站图标 -->    <tr>      <td align="center" valign="center">        <img src="https://qn11.tool.lu/201710/15/103320SbM84Ql4tETjg49a_28x28.png" title="图片Title" style="width:100px">      </td>       <td align="center" valign="center">           <img src="https://qn11.tool.lu/201710/15/103320SbM84Ql4tETjg49a_28x28.png" style="width:100px">      </td>       <td align="center" valign="center">           <img src="https://www.uupoop.com/images/logo.svg" style="width:100px">      </td>     </tr>    <!-- 网站名称 -->    <tr style="background-color:#ffffff;">      <td>        <div style="padding:10px"><center><a href="https://tool.lu" target="_blank" rel="noopener">在线工具</a></center></div>      </td>       <td>        <div style="padding:10px"><center><a href="https://www.json.cn" target="_blank" rel="noopener">JSON在线解析</a></center></div>      </td>      <td>        <div style="padding:10px"><center><a href="https://www.uupoop.com" target="_blank" rel="noopener">在线PS</a></center></div>      </td>     </tr>   <!-- -------------------------------------------软件下载平台---------------------------------------- -->   <!-- 分类标题 -->    <tr align="center" valign="center">      <th colspan="3" style="color:#8A2BE2"><strong>软件下载平台</strong></th>    </tr>    <!-- 网站图标 -->    <tr>      <td align="center" valign="center">        <img src="https://www.zdfans.com/images/logo.png" title="图片Title" style="width:100px">      </td>       <td align="center" valign="center">           <img src="http://www.windowszj.com/d/imgs/pic/logo.png" style="width:100px">      </td>       <td align="center" valign="center">           <img style="color:red" src="https://static.3d66.com/softv2/images/logo.png">      </td>     </tr>    <!-- 网站名称 -->    <tr style="background-color:#ffffff;">      <td>        <div style="padding:10px"><center><a href="https://www.zdfans.com" target="_blank" rel="noopener">ZD423</a></center></div>      </td>       <td>        <div style="padding:10px"><center><a href="http://www.windowszj.com" target="_blank" rel="noopener">Windows系统之家</a></center></div>      </td>      <td>        <div style="padding:10px"><center><a href="https://zixue.3d66.com/popsoft.html" target="_blank" rel="noopener">3D溜溜网</a></center></div>      </td>     </tr>        <!-- 多行  -->        <tr>      <td align="center" valign="center">           <img src="https://getitfree.cn/wp-content/uploads/site_logo.png" style="width:100px">      </td>     </tr>    <tr style="background-color:#ffffff;">        <td>        <div style="padding:10px"><center><a href="https://getitfree.cn" target="_blank" rel="noopener">正版中国</a>（正版软件限时免费）</center></div>      </td>      </tr>    <!-- -------------------------------------------搜索工具---------------------------------------- -->    <!-- 分类标题 -->    <tr align="center" valign="center">      <th colspan="3" style="color:#8A2BE2"><strong>搜索工具</strong></th>    </tr>    <!-- 网站图标 -->    <tr>      <td align="center" valign="center">        <img src="https://www5.jiumodiary.com/images/front/eleps.png" title="图片Title" style="width:100px">      </td>       <td align="center" valign="center">           <img src="https://cupfox-1252826939.file.myqcloud.com/cupfox/logo-4fb5c3e3d6.svg" style="width:100px">      </td>       <td align="center" valign="center">           <img src="https://assets.asklib.com/asset/pc/images/logo_w.svg" style="width:100px">      </td>     </tr>    <!-- 网站名称 -->    <tr style="background-color:#ffffff;">      <td>        <div style="padding:10px"><center><a href="https://www.jiumodiary.com" target="_blank" rel="noopener">鸠摩搜索</a>(文档搜索引擎)</center></div>      </td>       <td>        <div style="padding:10px"><center><a href="https://www.cupfox.com" target="_blank" rel="noopener">茶杯狐</a>(影视搜索引擎)</center></div>      </td>      <td>        <div style="padding:10px"><center><a href="https://www.asklib.com" target="_blank" rel="noopener">问答库</a>(题库问答平台)</center></div>      </td>      <!-- 多行  -->    </tr>        <tr>      <td align="center" valign="center">           <img src="https://librestock.com/static/images/logo.png" style="width:100px">      </td>     </tr>    <tr style="background-color:#ffffff;">        <td>        <div style="padding:10px"><center><a href="https://librestock.com" target="_blank" rel="noopener">LibreStock</a>(搜索免费图片及视频素材)</center></div>      </td>      </tr>  </tbody></table></div>]]></content>
      
      
      <categories>
          
          <category> 收藏 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 收藏网站 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue脚手架</title>
      <link href="/2020/04/24/Vue%E8%84%9A%E6%89%8B%E6%9E%B6/"/>
      <url>/2020/04/24/Vue%E8%84%9A%E6%89%8B%E6%9E%B6/</url>
      
        <content type="html"><![CDATA[<p>Vue脚手架</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br></pre></td><td class="code"><pre><span class="line">Last <span class="symbol">login:</span> Fri Apr <span class="number">24</span> 09<span class="symbol">:</span><span class="number">31</span><span class="symbol">:</span><span class="number">11</span> on console</span><br><span class="line"> l@ls-MacBook-Air  ~  npm -v</span><br><span class="line"><span class="number">6.14</span>.<span class="number">4</span></span><br><span class="line"> l@ls-MacBook-Air  ~  webpack -v</span><br><span class="line"><span class="number">3.6</span>.<span class="number">0</span></span><br><span class="line"> l@ls-MacBook-Air  ~  npm install -g @vue/cli</span><br><span class="line">npm WARN deprecated request@2.<span class="number">88.2</span>: request has been deprecated, see <span class="symbol">https:</span>/<span class="regexp">/github.com/request</span><span class="regexp">/request/issues</span><span class="regexp">/3142</span></span><br><span class="line"><span class="regexp">npm WARN deprecated fsevents@1.2.12: fsevents 1 will break on node v14+. Upgrade to fsevents 2 with massive improvements.</span></span><br><span class="line"><span class="regexp">/usr</span><span class="regexp">/local/bin</span><span class="regexp">/vue -&gt; /usr</span><span class="regexp">/local/lib</span><span class="regexp">/node_modules/</span>@vue/cli/bin/vue.js</span><br><span class="line"></span><br><span class="line">&gt; fsevents@1.<span class="number">2.12</span> install /usr/local/lib/node_modules/@vue/cli/node_modules/fsevents</span><br><span class="line">&gt; node-gyp rebuild</span><br><span class="line"></span><br><span class="line">  SOLINK_MODULE(target) Release/.node</span><br><span class="line">  CXX(target) Release/obj.target/fse/fsevents.o</span><br><span class="line">  SOLINK_MODULE(target) Release/fse.node</span><br><span class="line"></span><br><span class="line">&gt; core-js@3.<span class="number">6.5</span> postinstall /usr/local/lib/node_modules/@vue/cli/node_modules/core-js</span><br><span class="line">&gt; node -e <span class="string">"try&#123;require('./postinstall')&#125;catch(e)&#123;&#125;"</span></span><br><span class="line"></span><br><span class="line">Thank you <span class="keyword">for</span> using core-js ( <span class="symbol">https:</span>/<span class="regexp">/github.com/zloirock</span><span class="regexp">/core-js ) for polyfilling JavaScript standard library!</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">The project needs your help! Please consider supporting of core-js on Open Collective or Patreon:</span></span><br><span class="line"><span class="regexp">&gt; https:/</span><span class="regexp">/opencollective.com/core</span>-js</span><br><span class="line">&gt; <span class="symbol">https:</span>/<span class="regexp">/www.patreon.com/zloirock</span></span><br><span class="line"></span><br><span class="line">Also, the author of core-js ( <span class="symbol">https:</span>/<span class="regexp">/github.com/zloirock</span> ) is looking <span class="keyword">for</span> a good job -)</span><br><span class="line"></span><br><span class="line">+ @vue/cli@4.<span class="number">3.1</span></span><br><span class="line">added <span class="number">100</span> packages from <span class="number">50</span> contributors, removed <span class="number">18</span> packages, updated <span class="number">228</span> packages <span class="keyword">and</span> moved <span class="number">7</span> packages <span class="keyword">in</span> <span class="number">102.781</span>s</span><br><span class="line"> l@ls-MacBook-Air  ~  vue --version</span><br><span class="line">@vue/cli <span class="number">4.3</span>.<span class="number">1</span></span><br><span class="line"> l@ls-MacBook-Air  ~  npm install -g @vue/cli-init</span><br><span class="line">npm WARN deprecated vue-cli@2.<span class="number">9.6</span>: This package has been deprecated <span class="keyword">in</span> favour of @vue/cli</span><br><span class="line">npm WARN deprecated request@2.<span class="number">88.2</span>: request has been deprecated, see <span class="symbol">https:</span>/<span class="regexp">/github.com/request</span><span class="regexp">/request/issues</span><span class="regexp">/3142</span></span><br><span class="line"><span class="regexp">npm WARN deprecated coffee-script@1.12.7: CoffeeScript on NPM has moved to "coffeescript" (no hyphen)</span></span><br><span class="line"><span class="regexp">+ @vue/cli</span>-init@4.<span class="number">3.1</span></span><br><span class="line">added <span class="number">254</span> packages from <span class="number">207</span> contributors <span class="keyword">in</span> <span class="number">19.423</span>s</span><br><span class="line"> l@ls-MacBook-Air  ~  cd /Users/l/Desktop/VueTemp/vueDemo</span><br><span class="line"> l@ls-MacBook-Air  ~<span class="regexp">/Desktop/</span>VueTemp/vueDemo  vue init webpack vuedemo001</span><br><span class="line"></span><br><span class="line">? Project name vuedemo001</span><br><span class="line">? Project description test vue demo <span class="number">001</span></span><br><span class="line">? Author ifeiyv <span class="number">719507339</span>@qq.com</span><br><span class="line">? Vue build standalone</span><br><span class="line">? Install vue-router? No</span><br><span class="line">? Use ESLint to lint your code? No</span><br><span class="line">? Set up unit tests No</span><br><span class="line">? Setup e2e tests with Nightwatch? No</span><br><span class="line">? Should we run <span class="string">`npm install`</span> <span class="keyword">for</span> you after the project has been created? (recommended) npm</span><br><span class="line"></span><br><span class="line">   vue-cli · Generated <span class="string">"vuedemo001"</span>.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Installing project dependencies ...</span></span><br><span class="line"><span class="comment"># ========================</span></span><br><span class="line"></span><br><span class="line">npm WARN deprecated extract-text-webpack-plugin@3.<span class="number">0</span>.<span class="number">2</span>: Deprecated. Please use <span class="symbol">https:</span>/<span class="regexp">/github.com/webpack</span>-contrib/mini-css-extract-plugin</span><br><span class="line">npm WARN deprecated browserslist@2.<span class="number">11.3</span>: Browserslist <span class="number">2</span> could fail on reading Browserslist &gt;<span class="number">3.0</span> config used <span class="keyword">in</span> other tools.</span><br><span class="line">npm WARN deprecated bfj-node4@5.<span class="number">3.1</span>: Switch to the <span class="string">`bfj`</span> package <span class="keyword">for</span> fixes <span class="keyword">and</span> new features!</span><br><span class="line">npm WARN deprecated core-js@2.<span class="number">6.11</span>: core-js@&lt;<span class="number">3</span> is no longer maintained <span class="keyword">and</span> <span class="keyword">not</span> recommended <span class="keyword">for</span> usage due to the number of issues. Please, upgrade your dependencies to the actual version of core-js@3.</span><br><span class="line">npm WARN deprecated fsevents@1.<span class="number">2.12</span>: fsevents <span class="number">1</span> will <span class="keyword">break</span> on node v14+. Upgrade to fsevents <span class="number">2</span> with massive improvements.</span><br><span class="line">npm WARN deprecated browserslist@1.<span class="number">7.7</span>: Browserslist <span class="number">2</span> could fail on reading Browserslist &gt;<span class="number">3.0</span> config used <span class="keyword">in</span> other tools.</span><br><span class="line"></span><br><span class="line">&gt; fsevents@1.<span class="number">2.12</span> install /Users/l/Desktop/VueTemp/vueDemo/vuedemo001/node_modules/fsevents</span><br><span class="line">&gt; node-gyp rebuild</span><br><span class="line"></span><br><span class="line">  SOLINK_MODULE(target) Release/.node</span><br><span class="line">  CXX(target) Release/obj.target/fse/fsevents.o</span><br><span class="line">  SOLINK_MODULE(target) Release/fse.node</span><br><span class="line"></span><br><span class="line">&gt; core-js@2.<span class="number">6.11</span> postinstall /Users/l/Desktop/VueTemp/vueDemo/vuedemo001/node_modules/core-js</span><br><span class="line">&gt; node -e <span class="string">"try&#123;require('./postinstall')&#125;catch(e)&#123;&#125;"</span></span><br><span class="line"></span><br><span class="line">Thank you <span class="keyword">for</span> using core-js ( <span class="symbol">https:</span>/<span class="regexp">/github.com/zloirock</span><span class="regexp">/core-js ) for polyfilling JavaScript standard library!</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">The project needs your help! Please consider supporting of core-js on Open Collective or Patreon:</span></span><br><span class="line"><span class="regexp">&gt; https:/</span><span class="regexp">/opencollective.com/core</span>-js</span><br><span class="line">&gt; <span class="symbol">https:</span>/<span class="regexp">/www.patreon.com/zloirock</span></span><br><span class="line"></span><br><span class="line">Also, the author of core-js ( <span class="symbol">https:</span>/<span class="regexp">/github.com/zloirock</span> ) is looking <span class="keyword">for</span> a good job -)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt; ejs@2.<span class="number">7.4</span> postinstall /Users/l/Desktop/VueTemp/vueDemo/vuedemo001/node_modules/ejs</span><br><span class="line">&gt; node ./postinstall.js</span><br><span class="line"></span><br><span class="line">Thank you <span class="keyword">for</span> installing <span class="symbol">EJS:</span> built with the Jake JavaScript build tool (<span class="symbol">https:</span>/<span class="regexp">/jakejs.com/</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt; uglifyjs-webpack-plugin@0.<span class="number">4.6</span> postinstall /Users/l/Desktop/VueTemp/vueDemo/vuedemo001/node_modules/webpack/node_modules/uglifyjs-webpack-plugin</span><br><span class="line">&gt; node lib/post_install.js</span><br><span class="line"></span><br><span class="line">npm notice created a lockfile as package-lock.json. You should commit this file.</span><br><span class="line">npm WARN ajv-keywords@3.<span class="number">4.1</span> requires a peer of ajv@^<span class="number">6.9</span>.<span class="number">1</span> but none is installed. You must install peer dependencies yourself.</span><br><span class="line"></span><br><span class="line">added <span class="number">1304</span> packages from <span class="number">688</span> contributors <span class="keyword">and</span> audited <span class="number">12074</span> packages <span class="keyword">in</span> <span class="number">73.643</span>s</span><br><span class="line"></span><br><span class="line"><span class="number">27</span> packages are looking <span class="keyword">for</span> funding</span><br><span class="line">  run <span class="string">`npm fund`</span> <span class="keyword">for</span> details</span><br><span class="line"></span><br><span class="line">found <span class="number">13</span> vulnerabilities (<span class="number">1</span> low, <span class="number">8</span> moderate, <span class="number">4</span> high)</span><br><span class="line">  run <span class="string">`npm audit fix`</span> to fix them, <span class="keyword">or</span> <span class="string">`npm audit`</span> <span class="keyword">for</span> details</span><br><span class="line"></span><br><span class="line"><span class="comment"># Project initialization finished!</span></span><br><span class="line"><span class="comment"># ========================</span></span><br><span class="line"></span><br><span class="line">To get <span class="symbol">started:</span></span><br><span class="line"></span><br><span class="line">  cd vuedemo001</span><br><span class="line">  npm run dev</span><br><span class="line"></span><br><span class="line">Documentation can be found at <span class="symbol">https:</span>/<span class="regexp">/vuejs-templates.github.io/webpack</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> l@ls-MacBook-Air  ~<span class="regexp">/Desktop/</span>VueTemp/vueDemo  cd vuedemo001</span><br><span class="line"> l@ls-MacBook-Air  ~<span class="regexp">/Desktop/</span>VueTemp/vueDemo/vuedemo001  npm run dev</span><br><span class="line"></span><br><span class="line">&gt; vuedemo001@1.<span class="number">0</span>.<span class="number">0</span> dev /Users/l/Desktop/VueTemp/vueDemo/vuedemo001</span><br><span class="line">&gt; webpack-dev-server --inline --progress --config build/webpack.dev.conf.js</span><br><span class="line"></span><br><span class="line"> <span class="number">12</span>% building modules <span class="number">21</span>/<span class="number">29</span> modules <span class="number">8</span> active ...ueTemp/vueDemo/vuedemo001/src/App.vue&#123; <span class="symbol">parser:</span> <span class="string">"babylon"</span> &#125; is deprecated; we now treat it as &#123; <span class="symbol">parser:</span> <span class="string">"babel"</span> &#125;.</span><br><span class="line"> <span class="number">95</span>% emitting</span><br><span class="line"></span><br><span class="line"> DONE  Compiled successfully <span class="keyword">in</span> <span class="number">8110</span>ms                                                           <span class="number">3</span><span class="symbol">:</span><span class="number">26</span><span class="symbol">:</span><span class="number">40</span> PM</span><br><span class="line"></span><br><span class="line"> I  Your application is running <span class="symbol">here:</span> <span class="symbol">http:</span>/<span class="regexp">/localhost:8080</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"> WAIT  Compiling...                                                                              3:27:53 PM</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"> 95% emitting</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"> DONE  Compiled successfully in 1213ms                                                           3:27:55 PM</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"> I  Your application is running here: http:/</span><span class="regexp">/localhost:8080</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>flutter常用pub库</title>
      <link href="/2020/04/24/flutter%E5%B8%B8%E7%94%A8pub%E5%BA%93/"/>
      <url>/2020/04/24/flutter%E5%B8%B8%E7%94%A8pub%E5%BA%93/</url>
      
        <content type="html"><![CDATA[<hr><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#https://github.com/flutterchina/dio/blob/master/README-ZH.md</span></span><br><span class="line"></span><br><span class="line"> <span class="attr">dio:</span> <span class="string">^3.0.9</span> <span class="comment">#网络请求框架</span></span><br><span class="line"></span><br><span class="line"> <span class="attr">cookie_jar:</span> <span class="string">^1.0.1</span></span><br><span class="line"></span><br><span class="line"> <span class="attr">dio_cookie_manager:</span> <span class="string">^1.0.0</span></span><br><span class="line"></span><br><span class="line"> <span class="attr">path_provider:</span> <span class="string">^1.6.7</span></span><br><span class="line"></span><br><span class="line"> <span class="attr">event_bus:</span> <span class="string">^1.1.1</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">#https://pub.flutter-io.cn/packages/connectivity</span></span><br><span class="line"></span><br><span class="line"> <span class="attr">connectivity:</span> <span class="string">^0.4.8+2</span> <span class="comment">#链接网络状态监测</span></span><br><span class="line"></span><br><span class="line"> <span class="attr">fluttertoast:</span> <span class="string">^4.0.1</span></span><br><span class="line"></span><br><span class="line"> <span class="attr">shared_preferences:</span> <span class="string">^0.5.6+3</span></span><br><span class="line"></span><br><span class="line"> <span class="attr">pull_to_refresh:</span> <span class="string">^1.5.7</span></span><br><span class="line"></span><br><span class="line"> <span class="attr">modal_progress_hud:</span> <span class="string">^0.1.3</span></span><br><span class="line"> </span><br><span class="line"> <span class="attr">webview_flutter:</span> <span class="string">^0.3.20+2</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> flutter库 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>flutter快捷开发-持续更新</title>
      <link href="/2020/04/24/flutter%E5%BF%AB%E6%8D%B7%E5%BC%80%E5%8F%91-%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0/"/>
      <url>/2020/04/24/flutter%E5%BF%AB%E6%8D%B7%E5%BC%80%E5%8F%91-%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0/</url>
      
        <content type="html"><![CDATA[<h4 id="1-封装Text-只向外提供常用的属性，根据需求适当需改"><a href="#1-封装Text-只向外提供常用的属性，根据需求适当需改" class="headerlink" title="1. 封装Text,只向外提供常用的属性，根据需求适当需改"></a>1. 封装Text,只向外提供常用的属性，根据需求适当需改</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> Widget text(<span class="built_in">String</span> data, &#123;</span><br><span class="line">    <span class="built_in">double</span> textScaleFactor = <span class="number">1.0</span>,</span><br><span class="line">    Color color = Colors.black, </span><br><span class="line">    <span class="built_in">double</span> fontSize = <span class="number">16</span>, </span><br><span class="line">    FontWeight fontWeight = FontWeight.normal, </span><br><span class="line">    FontStyle fontStyle = FontStyle.normal</span><br><span class="line">    &#125;)&#123;</span><br><span class="line">  <span class="keyword">return</span> Text(data,</span><br><span class="line">  textScaleFactor: textScaleFactor,</span><br><span class="line">  style: TextStyle(</span><br><span class="line">      color: color,</span><br><span class="line">      fontSize: fontSize,</span><br><span class="line">      fontWeight: fontWeight, </span><br><span class="line">      fontStyle: fontStyle,</span><br><span class="line">  ),);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-检测当前主题"><a href="#2-检测当前主题" class="headerlink" title="2. 检测当前主题"></a>2. 检测当前主题</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="built_in">bool</span> isDark(BuildContext context)&#123;</span><br><span class="line">  <span class="keyword">final</span> Brightness brightnessValue = Theme.of(context).brightness;</span><br><span class="line">  <span class="keyword">return</span> brightnessValue == Brightness.dark;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-根据主题设置颜色"><a href="#3-根据主题设置颜色" class="headerlink" title="3. 根据主题设置颜色"></a>3. 根据主题设置颜色</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//是否是深色模式 true dark主题模式  false light主题模式</span></span><br><span class="line"><span class="keyword">static</span> <span class="built_in">bool</span> isDark(context)&#123;</span><br><span class="line">  <span class="keyword">return</span> Theme.of(context).brightness == Brightness.dark;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">static</span> Color dyColor(BuildContext context,darkColor,lightColor) =&gt; isDark(context) ? darkColor : lightColor;</span><br><span class="line"><span class="comment">//背景颜色</span></span><br><span class="line"><span class="keyword">static</span> Color dyBgColor(BuildContext context) =&gt;  isDark(context) ?  MColor.darkBgColor : Colors.white;</span><br><span class="line"><span class="comment">//字体颜色</span></span><br><span class="line"><span class="keyword">static</span> Color dyFontColor(BuildContext context) =&gt;  isDark(context) ?  MColor.textColor : MColor.black;</span><br><span class="line"><span class="keyword">static</span> Color dyRedColor(BuildContext context) =&gt;  isDark(context) ?  Colors.red[<span class="number">400</span>] : Colors.red;</span><br><span class="line"><span class="keyword">static</span> Color dyBlueColor(BuildContext context) =&gt;  isDark(context) ?  Colors.blue[<span class="number">600</span>] : Colors.blue;</span><br></pre></td></tr></table></figure><h4 id="4-返回一个字体不跟随系统缩放的Widget"><a href="#4-返回一个字体不跟随系统缩放的Widget" class="headerlink" title="4. 返回一个字体不跟随系统缩放的Widget"></a>4. 返回一个字体不跟随系统缩放的Widget</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> noScaleWidget(Widget widget)&#123;</span><br><span class="line">  <span class="keyword">return</span> MediaQuery(</span><br><span class="line">          data: MediaQueryData</span><br><span class="line">                .fromWindow(WidgetsBinding.instance.<span class="built_in">window</span>)</span><br><span class="line">                .copyWith(textScaleFactor: <span class="number">1</span>),</span><br><span class="line">          child: widget);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="5-取随机颜色（需要import-39-dart-math-39-）"><a href="#5-取随机颜色（需要import-39-dart-math-39-）" class="headerlink" title="5. 取随机颜色（需要import &#39;dart:math&#39;;）"></a>5. 取随机颜色（需要<code>import &#39;dart:math&#39;;</code>）</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> Color getRandomColor() &#123;</span><br><span class="line">   <span class="keyword">var</span> random = <span class="keyword">new</span> Random();</span><br><span class="line">   <span class="built_in">int</span> r = random.nextInt(<span class="number">255</span>);</span><br><span class="line">   <span class="built_in">int</span> g = random.nextInt(<span class="number">255</span>);</span><br><span class="line">   <span class="built_in">int</span> b = random.nextInt(<span class="number">255</span>);</span><br><span class="line">   <span class="keyword">return</span> Color.fromARGB(<span class="number">255</span>, r, g, b);</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter开发 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>flutter 升级到 1.12.x android 启动时会黑屏解决办法</title>
      <link href="/2020/04/23/flutter%20%E5%8D%87%E7%BA%A7%E5%88%B0%201.12.x%20android%20%E5%90%AF%E5%8A%A8%E6%97%B6%E4%BC%9A%E9%BB%91%E5%B1%8F%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/"/>
      <url>/2020/04/23/flutter%20%E5%8D%87%E7%BA%A7%E5%88%B0%201.12.x%20android%20%E5%90%AF%E5%8A%A8%E6%97%B6%E4%BC%9A%E9%BB%91%E5%B1%8F%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>flutter 升级到 1.12.x android 启动时会黑屏解决办法</p><ol><li><p>直接用flutter 1.12.x SDK创建的项目</p><p>需要修改<code>AndroidManifest.xml</code>文件，修改如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;application</span><br><span class="line">        android:name=<span class="string">"io.flutter.app.FlutterApplication"</span></span><br><span class="line">        android:label=<span class="string">"ifeiyv"</span></span><br><span class="line">        android:icon=<span class="string">"@mipmap/ic_launcher"</span>&gt;</span><br><span class="line">        &lt;activity</span><br><span class="line">            android:name=<span class="string">".MainActivity"</span></span><br><span class="line">            android:launchMode=<span class="string">"singleTop"</span></span><br><span class="line">            android:theme=<span class="string">"@style/LaunchTheme"</span></span><br><span class="line">            android:configChanges=<span class="string">"orientation|keyboardHidden|keyboard|screenSize|smallestScreenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode"</span></span><br><span class="line">            android:hardwareAccelerated=<span class="string">"true"</span></span><br><span class="line">            android:windowSoftInputMode=<span class="string">"adjustResize"</span>&gt;</span><br><span class="line">              <span class="comment">//</span></span><br><span class="line">            &lt;meta-data</span><br><span class="line">                android:name=<span class="string">"io.flutter.embedding.android.SplashScreenDrawable"</span></span><br><span class="line">                android:resource=<span class="string">"@drawable/launch_background"</span></span><br><span class="line">                /&gt;</span><br><span class="line">            &lt;meta-data</span><br><span class="line">                android:name=<span class="string">"io.flutter.embedding.android.NormalTheme"</span></span><br><span class="line">                android:resource=<span class="string">"@drawable/launch_background"</span></span><br><span class="line">                /&gt;</span><br><span class="line">            &lt;intent-filter&gt;</span><br><span class="line">                &lt;action android:name=<span class="string">"android.intent.action.MAIN"</span>/&gt;</span><br><span class="line">                &lt;category android:name=<span class="string">"android.intent.category.LAUNCHER"</span>/&gt;</span><br><span class="line">            &lt;/intent-filter&gt;</span><br><span class="line">        &lt;/activity&gt;</span><br><span class="line">        &lt;!-- Don<span class="string">'t delete the meta-data below.</span></span><br><span class="line"><span class="string">             This is used by the Flutter tool to generate GeneratedPluginRegistrant.java --&gt;</span></span><br><span class="line"><span class="string">        &lt;meta-data</span></span><br><span class="line"><span class="string">            android:name="flutterEmbedding"</span></span><br><span class="line"><span class="string">            android:value="2" /&gt;</span></span><br><span class="line"><span class="string">    &lt;/application&gt;</span></span><br></pre></td></tr></table></figure><p>如果存在<code>meta-data</code> 的 <code>android:name=&quot;io.flutter.app.android.SplashScreenUntilFirstFrame&quot;</code>，删除此<code>meta-data</code>，添加如下代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta-data</span><br><span class="line">     android:name=<span class="string">"io.flutter.embedding.android.SplashScreenDrawable"</span></span><br><span class="line">     android:resource=<span class="string">"@drawable/launch_background"</span></span><br><span class="line"> /&gt;</span><br><span class="line"> &lt;meta-data</span><br><span class="line">     android:name=<span class="string">"io.flutter.embedding.android.NormalTheme"</span></span><br><span class="line">     android:resource=<span class="string">"@drawable/launch_background"</span></span><br><span class="line">  /&gt;</span><br></pre></td></tr></table></figure><p>修改launch_background.xml，这个要根据需求添加开屏视图</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Modify this file to customize your launch splash screen --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">layer-list</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:left</span>=<span class="string">"0dp"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:top</span>=<span class="string">"0dp"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:bottom</span>=<span class="string">"0dp"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:right</span>=<span class="string">"0dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:drawable</span>=<span class="string">"@drawable/pic_bg"</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- You can insert your own image assets here --&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">layer-list</span>&gt;</span></span><br></pre></td></tr></table></figure><p>在<code>&lt;application&gt;</code>标签下添加新的 <code>&lt;meta-data&gt;</code> ,一旦您在AndroidManifest中进行了声明并使用了插件，能够使用使用了新的Android的插件（将插件注册为，<code>FlutterEngine</code>而不是<code>PluginRegistry.Registrar</code></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt; <span class="attr">meta-data</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">android</span> ：<span class="attr">name</span> = <span class="string">“flutterEmbedding”</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android</span> ：<span class="attr">value</span> = <span class="string">“2”</span> /&gt;</span></span><br></pre></td></tr></table></figure></li></ol><ol start="2"><li><p>如果是低版本创建的项目升级,除了以上修改外还需要修改以下内容：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//FlutterActivity包路径修改</span></span><br><span class="line"><span class="comment">//把</span></span><br><span class="line"><span class="keyword">import</span> io.flutter.app.FlutterActivity;</span><br><span class="line"><span class="comment">//修改为</span></span><br><span class="line"><span class="keyword">import</span> io.flutter.embedding.android.FlutterActivity;</span><br></pre></td></tr></table></figure></li></ol><p>   以前 </p>   <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> io.flutter.app.FlutterActivity;</span><br><span class="line"><span class="keyword">import</span> io.flutter.plugins.GeneratedPluginRegistrant;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">FlutterActivity</span> </span>&#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">    GeneratedPluginRegistrant.registerWith(<span class="keyword">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...some amount of custom code for your app is here.</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>   现在</p>   <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> androidx.annotation.NonNull;</span><br><span class="line"><span class="keyword">import</span> io.flutter.embedding.android.FlutterActivity;</span><br><span class="line"><span class="keyword">import</span> io.flutter.embedding.engine.FlutterEngine;</span><br><span class="line"><span class="keyword">import</span> io.flutter.plugins.GeneratedPluginRegistrant;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">FlutterActivity</span> </span>&#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">configureFlutterEngine</span><span class="params">(@NonNull FlutterEngine flutterEngine)</span> </span>&#123;</span><br><span class="line">    GeneratedPluginRegistrant.registerWith(flutterEngine);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li>这里仅有修复黑屏的问题，更多升级详细信息请前往    <strong><em>官方升级指南 -》</em></strong>  <a href="https://github.com/flutter/flutter/wiki/Upgrading-pre-1.12-Android-projects" target="_blank" rel="noopener">前往</a>  </li></ol>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter黑屏 </tag>
            
            <tag> flutter 1.12.x </tag>
            
            <tag> Android黑屏 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>flutter报错</title>
      <link href="/2020/04/23/flutter%E6%8A%A5%E9%94%99/"/>
      <url>/2020/04/23/flutter%E6%8A%A5%E9%94%99/</url>
      
        <content type="html"><![CDATA[<h4 id="1-引入webview-flutter-报错-Trying-to-embed-a-platform-view-but-the-PrerollContext-does-not-support-embedding"><a href="#1-引入webview-flutter-报错-Trying-to-embed-a-platform-view-but-the-PrerollContext-does-not-support-embedding" class="headerlink" title="1.引入webview_flutter 报错 Trying to embed a platform view but the PrerollContext does not support embedding"></a>1.引入webview_flutter 报错 <code>Trying to embed a platform view but the PrerollContext does not support embedding</code></h4><blockquote><p>在iOS工程的info.plist文件中添加键值对<code>key=io.flutter.embedded_views_preview value=YES</code></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> Flutter报错 </tag>
            
            <tag> Flutter Bug </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>This method overrides a method annotated as @mustCallSuper in &#39;AutomaticKeepAliveClientMixin&#39;, but doesn&#39;t invoke the overridden method.</title>
      <link href="/2020/04/14/AutomaticKeepAliveClientMixin/"/>
      <url>/2020/04/14/AutomaticKeepAliveClientMixin/</url>
      
        <content type="html"><![CDATA[<h4 id="使用AutomaticKeepAliveClientMixin-警告⚠️-This-method-overrides-a-method-annotated-as-mustCallSuper-in-39-AutomaticKeepAliveClientMixin-39-but-doesn-39-t-invoke-the-overridden-method"><a href="#使用AutomaticKeepAliveClientMixin-警告⚠️-This-method-overrides-a-method-annotated-as-mustCallSuper-in-39-AutomaticKeepAliveClientMixin-39-but-doesn-39-t-invoke-the-overridden-method" class="headerlink" title="使用AutomaticKeepAliveClientMixin 警告⚠️ This method overrides a method annotated as @mustCallSuper in &#39;AutomaticKeepAliveClientMixin&#39;, but doesn&#39;t invoke the overridden method."></a>使用<code>AutomaticKeepAliveClientMixin</code> 警告⚠️ <code>This method overrides a method annotated as @mustCallSuper in &#39;AutomaticKeepAliveClientMixin&#39;, but doesn&#39;t invoke the overridden method.</code></h4><blockquote><p>该方法将覆盖在’AutomaticKeepAliveClientMixin’中标注为@mustCallSuper的方法，但不会调用覆盖的方法。</p></blockquote><p>解决方案： </p><ol><li><p>检查 添加AutomaticKeepAliveClientMixin</p></li><li><p>添加 </p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@override</span> &lt;br&gt;</span><br><span class="line"><span class="built_in">bool</span> <span class="keyword">get</span> wantKeepAlive =&gt; <span class="keyword">true</span>;</span><br></pre></td></tr></table></figure></li><li><p>build方法中记得调用父类方法<code>super.build(context);</code></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">super</span>.build(context);</span><br><span class="line">    <span class="keyword">return</span> Container();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter的坑 </tag>
            
            <tag> AutomaticKeepAliveClientMixin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MAC录制鼠标事件脚本</title>
      <link href="/2020/04/03/macjscrpt/"/>
      <url>/2020/04/03/macjscrpt/</url>
      
        <content type="html"><![CDATA[<h4 id="录制鼠标事件脚本"><a href="#录制鼠标事件脚本" class="headerlink" title="录制鼠标事件脚本"></a>录制鼠标事件脚本</h4><p><img src="/2020/04/03/macjscrpt/test007.gif" alt="test007"></p><p>用到自己封装好的工具  <a href="https://ifeiyv.cn/tags/代码模拟键盘/" target="_blank" rel="noopener">MAC代码模拟鼠标和键盘事件</a></p><blockquote><p>  <strong>var</strong> timeStamp:CLongLong = -1  //保存上次时间戳</p><p>   <strong>var</strong> isStart:Bool = <strong>false</strong>  //保存是否开始录制脚本</p><p>  <strong>var</strong> events:[CGEvent] = <a href>CGEvent</a> //保存所有鼠标事件</p><p>  <strong>var</strong> times:[Int] = <a href>Int</a> //保存鼠标事件事件间隔（完美时间还原脚本）</p></blockquote><h5 id="1-录制脚本"><a href="#1-录制脚本" class="headerlink" title="1.录制脚本"></a>1.录制脚本</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line">       </span><br><span class="line">        monitor =  <span class="type">NSEvent</span>.addGlobalMonitorForEvents(matching:[.mouseMoved,.leftMouseDown,.leftMouseUp,.leftMouseDragged,.rightMouseDown,.rightMouseUp,.rightMouseDragged,.scrollWheel]) &#123; [<span class="keyword">weak</span> <span class="keyword">self</span>](event) <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">self</span>?.label.cell?.title = <span class="string">"x=\(String(format: "</span>%.0f<span class="string">", event.locationInWindow.x))\ny=\(String(format: "</span>%.0f<span class="string">", ScreenHeight - event.locationInWindow.y))"</span></span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">self</span>!.isStart)&#123;<span class="comment">//是否开始录制脚本</span></span><br><span class="line">                <span class="keyword">self</span>!.events.append(event.cgEvent!)</span><br><span class="line">                <span class="keyword">if</span>(<span class="keyword">self</span>!.events.<span class="built_in">count</span> &gt; <span class="number">1</span>)&#123;</span><br><span class="line">                    <span class="keyword">self</span>!.times.append(<span class="type">Int</span>(<span class="type">Date</span>().milliStamp - <span class="keyword">self</span>!.timeStamp))</span><br><span class="line">                    <span class="keyword">self</span>!.timeStamp = <span class="type">Date</span>().milliStamp</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="keyword">self</span>!.times.append(<span class="number">10</span>)</span><br><span class="line">                    <span class="keyword">self</span>!.timeStamp = <span class="type">Date</span>().milliStamp</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h5 id="2-播放脚本"><a href="#2-播放脚本" class="headerlink" title="2.播放脚本"></a>2.播放脚本</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span>  <span class="title">playEvent</span><span class="params">()</span></span>&#123;</span><br><span class="line">      <span class="keyword">var</span> index = <span class="number">0</span></span><br><span class="line">      <span class="keyword">for</span> event <span class="keyword">in</span> events &#123;</span><br><span class="line">          <span class="keyword">if</span>(index &gt; times.<span class="built_in">count</span> - <span class="number">1</span>)&#123;</span><br><span class="line">             <span class="type">Thread</span>.sleep(forTimeInterval: <span class="type">TimeInterval</span>(<span class="number">0.01</span>))</span><br><span class="line">          &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">             <span class="type">Thread</span>.sleep(forTimeInterval: <span class="type">TimeInterval</span>( <span class="type">Double</span>(times[index]) / <span class="number">1000.0</span>))</span><br><span class="line">          &#125;</span><br><span class="line">      index += <span class="number">1</span>;</span><br><span class="line">      event.post(tap: .cghidEventTap)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Mac </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 脚本录制 </tag>
            
            <tag> 鼠标事件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>flutter输入框键盘弹起被遮挡问题</title>
      <link href="/2020/04/03/flutter%E8%BE%93%E5%85%A5%E6%A1%86%E9%94%AE%E7%9B%98%E5%BC%B9%E8%B5%B7%E9%81%AE%E6%8C%A1%E9%97%AE%E9%A2%98/"/>
      <url>/2020/04/03/flutter%E8%BE%93%E5%85%A5%E6%A1%86%E9%94%AE%E7%9B%98%E5%BC%B9%E8%B5%B7%E9%81%AE%E6%8C%A1%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h4 id="解决键盘弹起遮挡问题"><a href="#解决键盘弹起遮挡问题" class="headerlink" title="解决键盘弹起遮挡问题"></a>解决键盘弹起遮挡问题</h4><ul><li>Scaffold的resizeToAvoidBottomPadding属性（v1.1.9之后已废弃）</li><li>resizeToAvoidBottomInset：为true键盘弹起输入框会自动上移，为false不移动，如果输入框靠下，有可能被遮挡住。默认为true</li></ul><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// <span class="markdown">This flag is deprecated, please use [resizeToAvoidBottomInset]</span></span></span><br><span class="line"><span class="comment">/// <span class="markdown">instead.</span></span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">/// <span class="markdown">Originally the name referred [MediaQueryData.padding]. Now it refers</span></span></span><br><span class="line"><span class="comment">/// <span class="markdown">[MediaQueryData.viewInsets], so using [resizeToAvoidBottomInset]</span></span></span><br><span class="line"><span class="comment">/// <span class="markdown">should be clearer to readers.</span></span></span><br><span class="line"><span class="meta">@Deprecated</span>(</span><br><span class="line">  <span class="string">'Use resizeToAvoidBottomInset to specify if the body should resize when the keyboard appears. '</span></span><br><span class="line">  <span class="string">'This feature was deprecated after v1.1.9.'</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">final</span> <span class="built_in">bool</span> resizeToAvoidBottomPadding;</span><br><span class="line"></span><br><span class="line"><span class="comment">/// <span class="markdown">If true the [body] and the scaffold's floating widgets should size</span></span></span><br><span class="line"><span class="comment">/// <span class="markdown">themselves to avoid the onscreen keyboard whose height is defined by the</span></span></span><br><span class="line"><span class="comment">/// <span class="markdown">ambient [MediaQuery]'s [MediaQueryData.viewInsets] <span class="code">`bottom`</span> property.</span></span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">/// <span class="markdown">For example, if there is an onscreen keyboard displayed above the</span></span></span><br><span class="line"><span class="comment">/// <span class="markdown">scaffold, the body can be resized to avoid overlapping the keyboard, which</span></span></span><br><span class="line"><span class="comment">/// <span class="markdown">prevents widgets inside the body from being obscured by the keyboard.</span></span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">/// <span class="markdown">Defaults to true.</span></span></span><br><span class="line"><span class="keyword">final</span> <span class="built_in">bool</span> resizeToAvoidBottomInset;</span><br></pre></td></tr></table></figure><ul><li>如果以上配置报错（键盘弹起，布局溢出）界面布局可以用滚动容器承载。eg:把当前界面放到SingleChildScrollView上</li></ul>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> 键盘遮挡 </tag>
            
            <tag> TextField </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flutter创建项目命令</title>
      <link href="/2020/04/02/Flutter%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE%E5%91%BD%E4%BB%A4/"/>
      <url>/2020/04/02/Flutter%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<h4 id="创建flutter项目命令"><a href="#创建flutter项目命令" class="headerlink" title="创建flutter项目命令"></a>创建flutter项目命令</h4><blockquote><p>进入到要创建项目的位置，在当前目录下创建项目名称为mydemo的项目</p></blockquote><ul><li><p>基本默认创建  flutter create  mydemo</p></li><li><p>创建一个 iOS 基于 Swift  ，Android基于Java的flutter项目</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flutter create  --ios-language swift --android-language kotlin mydemo</span><br></pre></td></tr></table></figure></li><li><p>创建一个 iOS 基于 Swift  ，Android基于kotlin的flutter项目</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flutter create  --ios-language swift --android-language kotlin mydemo</span><br></pre></td></tr></table></figure></li><li><p>创建一个 iOS 基于 OC  ，Android基于kotlin的flutter项目</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flutter create  --ios-language objc --android-language kotlin mydemo</span><br></pre></td></tr></table></figure></li><li><p>创建一个 iOS 基于 OC  ，Android基于java的flutter项目</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flutter create  --ios-language objc --android-language java mydemo</span><br></pre></td></tr></table></figure><ul><li>VSCode 配置创建<blockquote><p>配置路径 code&gt;preferences&gt;Settings — User &gt; Extensions &gt; Dart &amp; Flutter</p></blockquote></li></ul></li></ul><p><img src="/2020/04/02/Flutter%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE%E5%91%BD%E4%BB%A4/1.png" alt="flutter"></p><p><img src="/2020/04/02/Flutter%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE%E5%91%BD%E4%BB%A4/2.png" alt="flutter"></p>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter命令 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MAC 模拟鼠标和键盘事件</title>
      <link href="/2020/03/30/SimulationMouseKeyboard/"/>
      <url>/2020/03/30/SimulationMouseKeyboard/</url>
      
        <content type="html"><![CDATA[<h4 id="代码模拟鼠标和键盘事件"><a href="#代码模拟鼠标和键盘事件" class="headerlink" title="代码模拟鼠标和键盘事件"></a>代码模拟鼠标和键盘事件</h4><blockquote><p>网上搜索了一下，基本上都是很早的代码。原理虽然一样，但是代码已经进行多次改版了，特别是现在的Swift</p></blockquote><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  FyMKUtils.swift</span></span><br><span class="line"><span class="comment">//  SimulationMouseKeyboard</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by l on 2020/3/30.</span></span><br><span class="line"><span class="comment">//  Copyright © 2020 ifeiyv. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> Cocoa</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FyMKUtils</span>: <span class="title">NSObject</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK:移动鼠标到坐标位置</span></span><br><span class="line">    <span class="keyword">open</span> <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">mouseMove</span>(<span class="title">point</span>:<span class="title">CGPoint</span>,<span class="title">button</span>:<span class="title">CGMouseButton</span> = .<span class="title">left</span>)</span>&#123;</span><br><span class="line">        postMouseEvent(button: button, type: .mouseMoved, point: point);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK:左键单击</span></span><br><span class="line">    <span class="keyword">open</span> <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">leftClick</span>(<span class="title">point</span>: <span class="title">CGPoint</span>)</span></span><br><span class="line"><span class="class">    </span>&#123;</span><br><span class="line">        click(point: point, button: .<span class="keyword">left</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//MARK:左键双击</span></span><br><span class="line">    <span class="keyword">open</span> <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">leftDoubleClick</span>(<span class="title">point</span>: <span class="title">CGPoint</span>)</span></span><br><span class="line"><span class="class">    </span>&#123;</span><br><span class="line">        doubleClick(point: point, button: .<span class="keyword">left</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK:左键拖拽</span></span><br><span class="line">    <span class="comment">///point : 初始位置坐标</span></span><br><span class="line">    <span class="comment">///toPoint : 拖拽到的目的位置坐标</span></span><br><span class="line">    <span class="keyword">open</span> <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">leftMouseDragged</span>(<span class="title">point</span>:<span class="title">CGPoint</span>,<span class="title">toPoint</span>:<span class="title">CGPoint</span>)</span>&#123;</span><br><span class="line">        mouseDragged(point:point,toPoint:toPoint,button:.<span class="keyword">left</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK:右键单击</span></span><br><span class="line">    <span class="keyword">open</span> <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">rightClick</span>(<span class="title">point</span>: <span class="title">CGPoint</span>)</span></span><br><span class="line"><span class="class">    </span>&#123;</span><br><span class="line">        click(point: point, button: .<span class="keyword">right</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK:右键双击</span></span><br><span class="line">    <span class="keyword">open</span> <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">rightDoubleClick</span>(<span class="title">point</span>: <span class="title">CGPoint</span>)</span></span><br><span class="line"><span class="class">    </span>&#123;</span><br><span class="line">        doubleClick(point: point, button: .<span class="keyword">right</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK:右键拖拽</span></span><br><span class="line">    <span class="comment">///point : 初始位置坐标</span></span><br><span class="line">    <span class="comment">///toPoint : 拖拽到的目的位置坐标</span></span><br><span class="line">    <span class="keyword">open</span> <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">rightMouseDragged</span>(<span class="title">point</span>:<span class="title">CGPoint</span>,<span class="title">toPoint</span>:<span class="title">CGPoint</span>)</span>&#123;</span><br><span class="line">        mouseDragged(point:point,toPoint:toPoint,button:.<span class="keyword">right</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK:鼠标从一个坐标移动到另一个坐标</span></span><br><span class="line">    <span class="keyword">open</span> <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">mouseMove</span>(<span class="title">point</span>:<span class="title">CGPoint</span>, <span class="title">toPoint</span>:<span class="title">CGPoint</span>)</span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//拖到的目的位置x大于原始位置的X坐标</span></span><br><span class="line">        <span class="keyword">let</span> toMaxX:<span class="type">Bool</span> = toPoint.x - point.x &gt; <span class="number">0</span></span><br><span class="line">        <span class="comment">//拖到的目的位置y大于原始位置的Y坐标</span></span><br><span class="line">        <span class="keyword">let</span> toMaxY:<span class="type">Bool</span> = toPoint.y - point.y &gt; <span class="number">0</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">var</span> tempPointY = point.y</span><br><span class="line">        <span class="keyword">var</span> tempPointX = point.x</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        <span class="keyword">let</span> blockOperation = <span class="type">BlockOperation</span>()</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//1.拖拽目的坐标的Y坐标</span></span><br><span class="line">        blockOperation.addExecutionBlock &#123;</span><br><span class="line">            <span class="keyword">while</span>  toMaxY ? (toPoint.y &gt; tempPointY) : (toPoint.y &lt; tempPointY)&#123;</span><br><span class="line">                toMaxY ?  (tempPointY += <span class="number">1</span>) : (tempPointY -= <span class="number">1</span>)</span><br><span class="line">                postMouseEvent(button: .<span class="keyword">left</span>, type: .mouseMoved, point: <span class="type">CGPoint</span>(x: tempPointX, y: tempPointY),clickCount: <span class="number">1</span>);</span><br><span class="line">                <span class="type">Thread</span>.sleep(forTimeInterval: <span class="number">0.001</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//2.拖拽目的坐标的X坐标</span></span><br><span class="line">        blockOperation.addExecutionBlock &#123;</span><br><span class="line">            <span class="keyword">while</span> toMaxX ? (toPoint.x &gt; tempPointX) : (toPoint.x &lt; tempPointX) &#123;</span><br><span class="line">                toMaxX ? (tempPointX += <span class="number">1</span>) : (tempPointX -= <span class="number">1</span>)</span><br><span class="line">                postMouseEvent(button: .<span class="keyword">left</span>, type: .mouseMoved, point: <span class="type">CGPoint</span>(x: tempPointX, y: tempPointY),clickCount: <span class="number">1</span>);</span><br><span class="line">                <span class="type">Thread</span>.sleep(forTimeInterval: <span class="number">0.001</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//开始执行Operation</span></span><br><span class="line">        blockOperation.start()</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK:拖拽鼠标事件</span></span><br><span class="line">    <span class="keyword">open</span> <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">mouseDragged</span>(<span class="title">point</span>:<span class="title">CGPoint</span>,<span class="title">toPoint</span>:<span class="title">CGPoint</span>,<span class="title">button</span>:<span class="title">CGMouseButton</span>)</span>&#123;</span><br><span class="line">        <span class="comment">//拖到的目的位置x大于原始位置的X坐标</span></span><br><span class="line">        <span class="keyword">let</span> toMaxX:<span class="type">Bool</span> = toPoint.x - point.x &gt; <span class="number">0</span></span><br><span class="line">        <span class="comment">//拖到的目的位置y大于原始位置的Y坐标</span></span><br><span class="line">        <span class="keyword">let</span> toMaxY:<span class="type">Bool</span> = toPoint.y - point.y &gt; <span class="number">0</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">var</span> tempPointY = point.y</span><br><span class="line">        <span class="keyword">var</span> tempPointX = point.x</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//1.按下鼠标</span></span><br><span class="line">        postMouseEvent(button: button, type: button == .<span class="keyword">left</span>  ? .leftMouseDown : .rightMouseDown, point: point,clickCount: <span class="number">1</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">let</span> blockOperation = <span class="type">BlockOperation</span>()</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.拖拽目的坐标的Y坐标</span></span><br><span class="line">        blockOperation.addExecutionBlock &#123;</span><br><span class="line">            <span class="keyword">while</span>  toMaxY ? (toPoint.y &gt; tempPointY) : (toPoint.y &lt; tempPointY)&#123;</span><br><span class="line">                toMaxY ?  (tempPointY += <span class="number">1</span>) : (tempPointY -= <span class="number">1</span>)</span><br><span class="line">                postMouseEvent(button: button, type: button == .<span class="keyword">left</span>  ? .leftMouseDragged : .rightMouseDragged, point: <span class="type">CGPoint</span>(x: tempPointX, y: tempPointY),clickCount: <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//3.拖拽目的坐标的X坐标</span></span><br><span class="line">        blockOperation.addExecutionBlock &#123;</span><br><span class="line">            <span class="keyword">while</span> toMaxX ? (toPoint.x &gt; tempPointX) : (toPoint.x &lt; tempPointX) &#123;</span><br><span class="line">                toMaxX ? (tempPointX += <span class="number">1</span>) : (tempPointX -= <span class="number">1</span>)</span><br><span class="line">                postMouseEvent(button: button, type: button == .<span class="keyword">left</span>  ? .leftMouseDragged : .rightMouseDragged, point: <span class="type">CGPoint</span>(x: tempPointX, y: tempPointY),clickCount: <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//4.松开鼠标</span></span><br><span class="line">        blockOperation.completionBlock = &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"hhhhh"</span>)</span><br><span class="line">            postMouseEvent(button: button, type: button == .<span class="keyword">left</span>  ? .leftMouseUp : .rightMouseUp, point: toPoint,clickCount: <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//开始执行Operation</span></span><br><span class="line">        blockOperation.start()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK:鼠标单击</span></span><br><span class="line">    <span class="keyword">open</span> <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">click</span>(<span class="title">point</span>: <span class="title">CGPoint</span>,<span class="title">button</span>:<span class="title">CGMouseButton</span>,<span class="title">clickCount</span>:<span class="title">Int64</span> = 1)</span>&#123;</span><br><span class="line">        <span class="comment">//1.按下鼠标左键（移动到坐标位置后，可以加适当延时再按鼠标左键）</span></span><br><span class="line">        postMouseEvent(button: button, type: button == .<span class="keyword">left</span>  ? .leftMouseDown : .rightMouseDown, point: point,clickCount: clickCount);</span><br><span class="line">        <span class="comment">//2.松开鼠标左键</span></span><br><span class="line">        postMouseEvent(button: button, type: button == .<span class="keyword">left</span>  ? .leftMouseUp : .rightMouseUp, point: point,clickCount: clickCount);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//MARK:鼠标双击</span></span><br><span class="line">    <span class="keyword">open</span> <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">doubleClick</span>(<span class="title">point</span>: <span class="title">CGPoint</span>,<span class="title">button</span>:<span class="title">CGMouseButton</span>)</span>&#123;</span><br><span class="line">        click(point: point, button: button,clickCount:<span class="number">1</span>)</span><br><span class="line">        click(point: point, button: button,clickCount:<span class="number">2</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//鼠标事件</span></span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">postMouseEvent</span>(<span class="title">button</span>:<span class="title">CGMouseButton</span>, <span class="title">type</span>:<span class="title">CGEventType</span>, <span class="title">point</span>: <span class="title">CGPoint</span>,<span class="title">clickCount</span>:<span class="title">Int64</span> = 1)</span></span><br><span class="line"><span class="class">    </span>&#123;</span><br><span class="line">        <span class="keyword">let</span> event = createMouseEvent(button: button, type: type, point: point,clickCount:clickCount)</span><br><span class="line">        event.post(tap: <span class="type">CGEventTapLocation</span>.cghidEventTap)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//创建鼠标事件</span></span><br><span class="line">    <span class="keyword">open</span> <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">createMouseEvent</span>(<span class="title">button</span>:<span class="title">CGMouseButton</span>, <span class="title">type</span>:<span class="title">CGEventType</span>, <span class="title">point</span>: <span class="title">CGPoint</span>,<span class="title">clickCount</span>:<span class="title">Int64</span> = 1) -&gt;  <span class="title">CGEvent</span></span></span><br><span class="line"><span class="class">    </span>&#123;</span><br><span class="line">        <span class="keyword">let</span> event : <span class="type">CGEvent</span>  = <span class="type">CGEvent</span>(mouseEventSource: <span class="type">CGEventSource</span>.<span class="keyword">init</span>(stateID: <span class="type">CGEventSourceStateID</span>.privateState), mouseType: type, mouseCursorPosition: point, mouseButton: button)!</span><br><span class="line">        event.setIntegerValueField(<span class="type">CGEventField</span>.mouseEventClickState, value: clickCount)</span><br><span class="line">        <span class="keyword">return</span> event</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">///鼠标滚轮事件目前仅支持OSX 10.13版本以上使用</span></span><br><span class="line">    <span class="comment">///postion 横向或者纵向滚动的距离，</span></span><br><span class="line">    <span class="comment">///纵向   postion为正数 向下滚动，为负数 向上滚动，横向   postion为正数 向右滚动，为负数 向左滚动</span></span><br><span class="line">    <span class="comment">///FyMKUtils.postScrollWheelEvent(position: -10000,scrollOrientation: .horizontal)//向左滚动10000 个像素点</span></span><br><span class="line">    <span class="comment">///FyMKUtils.postScrollWheelEvent(position: 10000,scrollOrientation: .horizontal)//向右滚动10000 个像素点</span></span><br><span class="line">    <span class="comment">///FyMKUtils.postScrollWheelEvent(position: -10000,scrollOrientation: .vertical)//向上滚动10000 个像素点</span></span><br><span class="line">    <span class="comment">///FyMKUtils.postScrollWheelEvent(position: 10000,scrollOrientation: .vertical)//向下滚动10000 个像素点</span></span><br><span class="line">    <span class="comment">///scrollOrientation  横向或者纵向</span></span><br><span class="line">    <span class="comment">///units: 滚动距离单位   .pixel 像素 .line行。默认像素</span></span><br><span class="line">    <span class="meta">@available</span>(<span class="type">OSX</span> <span class="number">10.13</span>, *)</span><br><span class="line">    <span class="keyword">open</span> <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">postScrollWheelEvent</span>(<span class="title">position</span>:<span class="title">Int32</span> ,<span class="title">scrollOrientation</span>:<span class="title">ScrollOrientation</span> = .<span class="title">vertical</span>,<span class="title">units</span>:<span class="title">CGScrollEventUnit</span> = .<span class="title">pixel</span>)</span>&#123;</span><br><span class="line">        <span class="comment">//翻转偏移值</span></span><br><span class="line">        <span class="keyword">let</span> tempPosition = -position</span><br><span class="line">        <span class="keyword">let</span> event  = <span class="type">CGEvent</span>(scrollWheelEvent2Source:<span class="literal">nil</span>, units: units, wheelCount: <span class="number">2</span>, wheel1: scrollOrientation == .vertical ? tempPosition : <span class="number">0</span>, wheel2: scrollOrientation == .horizontal ? tempPosition : <span class="number">0</span>,wheel3: <span class="number">0</span>)</span><br><span class="line">        event?.post(tap: .cghidEventTap)</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK:-------------------------------</span></span><br><span class="line">    <span class="comment">//MARK:键盘类操作</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    public struct CGEventFlags : OptionSet &#123;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        public init(rawValue: UInt64) <span class="comment">/* Flags for events */</span></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">        <span class="comment">/* Device-independent modifier key bits. */</span></span></span><br><span class="line"><span class="comment">     </span></span><br><span class="line"><span class="comment">        //大小写锁定键处于开启状态(亮灯状态)</span></span><br><span class="line"><span class="comment">        public static var maskAlphaShift: CGEventFlags &#123; get &#125;</span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">        //Shift 键按下</span></span><br><span class="line"><span class="comment">        public static var maskShift: CGEventFlags &#123; get &#125;</span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">        //Control 键按下</span></span><br><span class="line"><span class="comment">        public static var maskControl: CGEventFlags &#123; get &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        //Alt(Option) 键按下</span></span><br><span class="line"><span class="comment">        public static var maskAlternate: CGEventFlags &#123; get &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        //Command 键按下</span></span><br><span class="line"><span class="comment">        public static var maskCommand: CGEventFlags &#123; get &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">        <span class="comment">/* Special key identifiers. */</span></span></span><br><span class="line"><span class="comment">        //Help 键按下</span></span><br><span class="line"><span class="comment">        public static var maskHelp: CGEventFlags &#123; get &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        //Fn 键按下</span></span><br><span class="line"><span class="comment">        public static var maskSecondaryFn: CGEventFlags &#123; get &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">        <span class="comment">/* Identifies key events from numeric keypad area on extended keyboards. */</span></span></span><br><span class="line"><span class="comment">        //数字键 按下</span></span><br><span class="line"><span class="comment">        public static var maskNumericPad: CGEventFlags &#123; get &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">        <span class="comment">/* Indicates if mouse/pen movement events are not being coalesced */</span></span></span><br><span class="line"><span class="comment">        //没有鼠标和苹果笔 按下</span></span><br><span class="line"><span class="comment">        public static var maskNonCoalesced: CGEventFlags &#123; get &#125;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">/// 键盘类操作</span></span><br><span class="line">    <span class="comment">/// - Parameters:</span></span><br><span class="line">    <span class="comment">///   - keyCode: 键盘事件中使用的虚拟键码,CGKeyCode 要使用系统定义好的，需要导入  import Carbon     eg  A:  kVK_ANSI_A</span></span><br><span class="line">    <span class="comment">///   - keyDown: keyDown true按下 false 抬起  成对存在</span></span><br><span class="line">    <span class="comment">///   - flags: CGEventFlags  ---- 用作组合键</span></span><br><span class="line">    <span class="comment">/// - ForExample:</span></span><br><span class="line">    <span class="comment">///   - K: FyMKUtils.postKeyboardEvent(keyCode: CGKeyCode(kVK_ANSI_K), keyDown: true, flags: .maskNonCoalesced) &lt;br&gt;</span></span><br><span class="line">    <span class="comment">///     FyMKUtils.postKeyboardEvent(keyCode: CGKeyCode(kVK_ANSI_K), keyDown: false, flags: .maskNonCoalesced) &lt;br&gt;</span></span><br><span class="line">    <span class="comment">///   - Command + KC: FyMKUtils.postKeyboardEvent(keyCode: CGKeyCode(kVK_ANSI_K), keyDown: true, flags: .maskCommand) &lt;br&gt;FyMKUtils.postKeyboardEvent(keyCode: CGKeyCode(kVK_ANSI_K), keyDown: false, flags: .maskCommand)</span></span><br><span class="line">    <span class="comment">///   - Command + Shift + K: &lt;br&gt; FyMKUtils.postKeyboardEvent(keyCode: CGKeyCode(kVK_ANSI_K), keyDown: true, flags: [.maskCommand,.maskShift]) &lt;br&gt; FyMKUtils.postKeyboardEvent(keyCode: CGKeyCode(kVK_ANSI_K), keyDown: false, flags: [.maskCommand,.maskShift])</span></span><br><span class="line">    <span class="keyword">open</span> <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">postKeyboardEvent</span>(<span class="title">keyCode</span>:<span class="title">CGKeyCode</span>,<span class="title">keyDown</span>:<span class="title">Bool</span>,<span class="title">flags</span>:<span class="title">CGEventFlags</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> event = <span class="type">CGEvent</span>.<span class="keyword">init</span>(keyboardEventSource: <span class="type">CGEventSource</span>.<span class="keyword">init</span>(stateID: <span class="type">CGEventSourceStateID</span>.privateState), virtualKey: keyCode, keyDown: keyDown)</span><br><span class="line">        event?.flags = flags</span><br><span class="line">        event?.post(tap: .cghidEventTap)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//MARK:鼠标滚动方向</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">ScrollOrientation</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> horizontal</span><br><span class="line">    <span class="keyword">case</span> vertical</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Mac </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> MAC </tag>
            
            <tag> 代码模拟鼠标点击 </tag>
            
            <tag> 代码模拟键盘 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mac 文件已损坏或者未知开发者解决办法</title>
      <link href="/2020/03/17/Mac%20%E6%96%87%E4%BB%B6%E5%B7%B2%E6%8D%9F%E5%9D%8F%E6%88%96%E8%80%85%E6%9C%AA%E7%9F%A5%E5%BC%80%E5%8F%91%E8%80%85%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/"/>
      <url>/2020/03/17/Mac%20%E6%96%87%E4%BB%B6%E5%B7%B2%E6%8D%9F%E5%9D%8F%E6%88%96%E8%80%85%E6%9C%AA%E7%9F%A5%E5%BC%80%E5%8F%91%E8%80%85%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h5 id="sudo-spctl-–master-disable-所有来源权限"><a href="#sudo-spctl-–master-disable-所有来源权限" class="headerlink" title="sudo spctl –master-disable (所有来源权限)"></a>sudo spctl –master-disable (所有来源权限)</h5><h5 id="各位注意，这是10-15以上系统的完美解决方法"><a href="#各位注意，这是10-15以上系统的完美解决方法" class="headerlink" title="各位注意，这是10.15以上系统的完美解决方法"></a>各位注意，这是10.15以上系统的完美解决方法</h5><h5 id="打开终端（Terminal），输入以下命令后回车，如需要，请输入密码"><a href="#打开终端（Terminal），输入以下命令后回车，如需要，请输入密码" class="headerlink" title="打开终端（Terminal），输入以下命令后回车，如需要，请输入密码"></a>打开终端（Terminal），输入以下命令后回车，如需要，请输入密码</h5><h5 id="sudo-xattr-r-d-com-apple-quarantine"><a href="#sudo-xattr-r-d-com-apple-quarantine" class="headerlink" title="sudo xattr -r -d com.apple.quarantine "></a>sudo xattr -r -d com.apple.quarantine <path></h5><blockquote><p>注：<path>为应用程序路径，直接从文件夹目录拖拽即可自动填写<path></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Mac </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 文件已损坏解决办法 </tag>
            
            <tag> 未知开发者解决办法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>结合RxSwift、Moya、和HandyJSON封装网络请求模板</title>
      <link href="/2020/03/16/%E7%BB%93%E5%90%88RxSwift%E3%80%81Moya%E3%80%81%E5%92%8CHandyJSON%E5%B0%81%E8%A3%85%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%E6%A8%A1%E6%9D%BF/"/>
      <url>/2020/03/16/%E7%BB%93%E5%90%88RxSwift%E3%80%81Moya%E3%80%81%E5%92%8CHandyJSON%E5%B0%81%E8%A3%85%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%E6%A8%A1%E6%9D%BF/</url>
      
        <content type="html"><![CDATA[<h1 id="FyNetWork"><a href="#FyNetWork" class="headerlink" title="FyNetWork"></a>FyNetWork</h1><blockquote><p>结合RxSwift、Moya、和HandyJSON封装网络请求模板</p></blockquote><p>【该模板已经上传Github】-&gt; <a href="https://github.com/i-feiyv/FyNetWork" target="_blank" rel="noopener">前往Github</a> 获取代码</p><h2 id="文件功能"><a href="#文件功能" class="headerlink" title="文件功能"></a>文件功能</h2><h3 id="Podfile"><a href="#Podfile" class="headerlink" title="Podfile"></a>Podfile</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//可以根据不同版本，调整库的版本（不同版本可能需要库的版本不同）</span></span><br><span class="line">pod '<span class="type">Moya</span>/<span class="type">RxSwift'</span>, '~&gt; <span class="number">12.0</span>.<span class="number">1</span>'</span><br><span class="line">pod '<span class="type">HandyJSON'</span>, '~&gt; <span class="number">5.0</span>.<span class="number">1</span>'</span><br></pre></td></tr></table></figure><h3 id="FyUrls-swift"><a href="#FyUrls-swift" class="headerlink" title="FyUrls.swift"></a>FyUrls.swift</h3><p>主要放一些请求Url</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">FyUrls</span> </span>&#123;</span><br><span class="line">    <span class="comment">/// 服务器环境 true: 正服 false: 测服</span></span><br><span class="line">    </span><br><span class="line">    #<span class="keyword">if</span> <span class="type">DEBUG</span></span><br><span class="line">    <span class="comment">//测试环境</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> service: <span class="type">Bool</span> = <span class="literal">false</span></span><br><span class="line">    #<span class="keyword">else</span></span><br><span class="line">    <span class="comment">//正式环境</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> service: <span class="type">Bool</span> = <span class="literal">true</span></span><br><span class="line">    #endif</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> domain: <span class="type">String</span> &#123;</span><br><span class="line">        <span class="comment">// "正服地址" : "测服地址" (这里是网上搜到的开放接口，没有测试地址，两个都写正式地址)</span></span><br><span class="line">        <span class="keyword">return</span> <span class="type">FyUrls</span>.service ? <span class="string">"https://v1.alapi.cn/"</span> : <span class="string">"https://v1.alapi.cn/"</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//这里写拼接到域名上的Url</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> searchMusic: <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"api/music/search"</span></span><br><span class="line">    &#125; </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//.......</span></span><br><span class="line">     </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="FyApi"><a href="#FyApi" class="headerlink" title="FyApi"></a>FyApi</h3><p>主要放基于Moya的网络请求配置</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  FyNetworkApi.swift</span></span><br><span class="line"><span class="comment">//  FyNetWork</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by l on 2020/3/16.</span></span><br><span class="line"><span class="comment">//  Copyright © 2020 ifeiyv. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> Moya</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">FyApi</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> search(keyword:<span class="type">String</span>)</span><br><span class="line">    <span class="comment">//....</span></span><br><span class="line">    <span class="keyword">case</span> other</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">FyApi</span>:<span class="title">TargetType</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//域名配置</span></span><br><span class="line">    <span class="keyword">var</span> baseURL: <span class="type">URL</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">URL</span>(string: <span class="type">FyUrls</span>.domain)!</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//接口路径</span></span><br><span class="line">    <span class="keyword">var</span> path: <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> .search:</span><br><span class="line">            <span class="keyword">return</span> <span class="type">FyUrls</span>.searchMusic</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">""</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//请求的方式 可以根据接口切换请求方式 get、post或者其他</span></span><br><span class="line">    <span class="keyword">var</span> method: <span class="type">Moya</span>.<span class="type">Method</span> &#123;</span><br><span class="line">        <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">case</span> .search:</span><br><span class="line">            <span class="keyword">return</span> .<span class="keyword">get</span></span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">return</span> .post</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//做单元测试使用的数据</span></span><br><span class="line">    <span class="keyword">var</span> sampleData: <span class="type">Data</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"&#123;&#125;"</span>.data(using: <span class="type">String</span>.<span class="type">Encoding</span>.utf8)!</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//所有要执行的接口任务，参数的配置在这里设置</span></span><br><span class="line">    <span class="keyword">var</span> task: <span class="type">Task</span> &#123;</span><br><span class="line">        <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> .search(<span class="keyword">let</span> keyword):</span><br><span class="line">            <span class="keyword">let</span> params = <span class="type">FyParams</span>.<span class="keyword">init</span>(params: [<span class="string">"keyword"</span> : keyword])</span><br><span class="line">            <span class="keyword">return</span> .requestParameters(parameters: params.allParams, encoding: <span class="type">URLEncoding</span>.<span class="keyword">default</span>)</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">return</span> .requestPlain</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//默认请求头配置 </span></span><br><span class="line">    <span class="comment">//也可以在FyRequest.swift的 requestTimeoutClosure中进行动态配置</span></span><br><span class="line">    <span class="keyword">var</span> headers: [<span class="type">String</span> : <span class="type">String</span>]? &#123;</span><br><span class="line">        <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">return</span> [<span class="string">"Content-type"</span>: <span class="string">"application/json"</span>]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="FyRequest-swift"><a href="#FyRequest-swift" class="headerlink" title="FyRequest.swift"></a>FyRequest.swift</h3><p>主要放Api接口请求方法具体实现</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  FyRequest.swift</span></span><br><span class="line"><span class="comment">//  FyNetWork</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by l on 2020/3/16.</span></span><br><span class="line"><span class="comment">//  Copyright © 2020 ifeiyv. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"><span class="keyword">import</span> Moya</span><br><span class="line"><span class="keyword">import</span> RxSwift</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> requestTimeoutClosure = &#123; (endpoint: <span class="type">Endpoint</span>, done: @escaping <span class="type">MoyaProvider</span>&lt;<span class="type">FyApi</span>&gt;.<span class="type">RequestResultClosure</span>) <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> request = <span class="keyword">try</span> endpoint.urlRequest()</span><br><span class="line"></span><br><span class="line">        <span class="comment">//根据不同接口判断携带不同的请求头 //这个也可以根据接口判断，切换超时时长</span></span><br><span class="line">        <span class="keyword">if</span>(request.url?.absoluteString.<span class="built_in">contains</span>(<span class="type">FyUrls</span>.searchMusic.lowercased()) ?? <span class="literal">false</span>)&#123;</span><br><span class="line">            request.timeoutInterval = <span class="number">30</span></span><br><span class="line">            request.addValue(<span class="string">"zhangsan"</span>, forHTTPHeaderField: <span class="string">"user"</span>)</span><br><span class="line">            request.addValue(<span class="string">"ahsfksjfhskdfhsjdkf"</span>, forHTTPHeaderField: <span class="string">"cookie"</span>)</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//.....</span></span><br><span class="line">            request.timeoutInterval = <span class="number">10</span></span><br><span class="line">        &#125;</span><br><span class="line">        done(.success(request))</span><br><span class="line">    &#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FyRequest</span>: <span class="title">NSObject</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> request = <span class="type">FyRequest</span>()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> provider = <span class="type">MoyaProvider</span>&lt;<span class="type">FyApi</span>&gt; (requestClosure: requestTimeoutClosure,plugins: [<span class="type">NetworkLoggerPlugin</span>(verbose: <span class="literal">true</span>)])</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//    var provider = MoyaProvider&lt;FyApi&gt; (</span></span><br><span class="line">    <span class="comment">//        plugins: [NetworkLoggerPlugin(verbose: false)]</span></span><br><span class="line">    <span class="comment">//    )</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//接口具体请求实现</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">searchSongs</span><span class="params">(keyword:String)</span></span> -&gt;  <span class="type">Single</span>&lt;<span class="type">Result</span>&lt;<span class="type">Songs</span>&gt;&gt;&#123;</span><br><span class="line">        <span class="keyword">return</span>  provider.rx.request(.search(keyword: keyword))</span><br><span class="line">            .filterSuccessfulStatusCodes() <span class="comment">//删选请求成功状态数据</span></span><br><span class="line">            .mapModel()                    <span class="comment">//数据模型化</span></span><br><span class="line">            .flatMap &#123; (result: <span class="type">FyResponse</span>&lt;<span class="type">Songs</span>&gt;) <span class="keyword">in</span></span><br><span class="line">                <span class="keyword">if</span> result.isSuccess&#123;</span><br><span class="line">                    <span class="keyword">return</span>  <span class="type">Single</span>.just(<span class="type">Result</span>.regular(result.data ?? <span class="type">Songs</span>()))</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="type">Single</span>.just(<span class="type">Result</span>&lt;<span class="type">Songs</span>&gt;.failing(<span class="type">RxMoyaError</span>.reason(result.message ?? <span class="string">""</span>)))</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        .catchError(&#123; error <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">return</span> <span class="type">Single</span>.just(<span class="type">Result</span>.failing(<span class="type">RxMoyaError</span>.reason(<span class="type">ErrorTips</span>.netWorkError.rawValue)))</span><br><span class="line">        &#125;)</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="FyResponse-swift"><a href="#FyResponse-swift" class="headerlink" title="FyResponse.swift"></a>FyResponse.swift</h3><p>主要是请求响应解析方法</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  FyResponse.swift</span></span><br><span class="line"><span class="comment">//  FyNetWork</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by l on 2020/3/16.</span></span><br><span class="line"><span class="comment">//  Copyright © 2020 ifeiyv. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"><span class="keyword">import</span> Moya</span><br><span class="line"><span class="keyword">import</span> RxSwift</span><br><span class="line"><span class="keyword">import</span> HandyJSON</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Array</span>: <span class="title">HandyJSON</span> </span>&#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">String</span>: <span class="title">HandyJSON</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//采用泛型解析数据</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">FyResponse</span>&lt;<span class="title">T</span>:<span class="title">HandyJSON</span>&gt;:<span class="title">HandyJSON</span></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> code:<span class="type">Int</span> = <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> message:<span class="type">String?</span></span><br><span class="line">    <span class="keyword">var</span> data: <span class="type">T?</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> isSuccess: <span class="type">Bool</span> &#123;</span><br><span class="line">         <span class="keyword">return</span> code == <span class="number">200</span></span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Response</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//响应数据转model</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">mapModel</span>&lt;T&gt;<span class="params">()</span></span> <span class="keyword">throws</span> -&gt; <span class="type">FyResponse</span>&lt;<span class="type">T</span>&gt; &#123;</span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">let</span> jsonString = <span class="type">String</span>(data: data, encoding: <span class="type">String</span>.<span class="type">Encoding</span>.utf8)&#123;</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">let</span> obj = <span class="type">JSONDeserializer</span>&lt;<span class="type">FyResponse</span>&lt;<span class="type">T</span>&gt;&gt;.deserializeFrom(json: jsonString) &#123;</span><br><span class="line">                    <span class="keyword">return</span> obj</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">throw</span> <span class="type">RxMoyaError</span>.modelMapping(<span class="keyword">self</span>)</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="type">RxMoyaError</span>.modelMapping(<span class="keyword">self</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="type">RxMoyaError</span>.modelMapping(<span class="keyword">self</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">PrimitiveSequence</span> <span class="title">where</span> <span class="title">TraitType</span> == <span class="title">SingleTrait</span>, <span class="title">ElementType</span> == <span class="title">Response</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">mapModel</span>&lt;T: HandyJSON&gt;<span class="params">()</span></span> -&gt; <span class="type">Single</span>&lt;<span class="type">FyResponse</span>&lt;<span class="type">T</span>&gt;&gt; &#123;</span><br><span class="line">        <span class="keyword">return</span> flatMap &#123; (response) -&gt; <span class="type">Single</span>&lt;<span class="type">FyResponse</span>&lt;<span class="type">T</span>&gt;&gt; <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">return</span> <span class="type">Single</span>.just(<span class="keyword">try</span> response.mapModel())</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="FyNetError-swift"><a href="#FyNetError-swift" class="headerlink" title="FyNetError.swift"></a>FyNetError.swift</h3><p>请求错误处理</p><h3 id="FySongResponse-swift"><a href="#FySongResponse-swift" class="headerlink" title="FySongResponse.swift"></a>FySongResponse.swift</h3><p>请求歌曲列表model例子</p><h3 id="FyViewModel-swift"><a href="#FyViewModel-swift" class="headerlink" title="FyViewModel.swift"></a>FyViewModel.swift</h3><p>网络请求库的运用例子</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  FyViewModel.swift</span></span><br><span class="line"><span class="comment">//  FyNetWork</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by l on 2020/3/16.</span></span><br><span class="line"><span class="comment">//  Copyright © 2020 ifeiyv. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"><span class="keyword">import</span> RxSwift</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FyViewModel</span>: <span class="title">NSObject</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> dispose = <span class="type">DisposeBag</span>()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">typealias</span> <span class="type">NetworkResultClosure</span> = (<span class="number">_</span> names:<span class="type">String</span>) -&gt; <span class="type">Void</span></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">fetchMusicListData</span><span class="params">(keyword:String,networkResultClosure: @escaping NetworkResultClosure)</span></span>&#123;</span><br><span class="line">        <span class="number">_</span> =  <span class="type">FyRequest</span>.request.searchSongs(keyword: keyword).subscribe(onSuccess: &#123; (result) <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">switch</span> result&#123;</span><br><span class="line">            <span class="keyword">case</span>.regular(<span class="keyword">let</span> songsInfo):</span><br><span class="line">                <span class="keyword">var</span> name:<span class="type">String</span> = <span class="string">""</span></span><br><span class="line">                <span class="keyword">for</span> song <span class="keyword">in</span> songsInfo.songs&#123;</span><br><span class="line">                    name = name + <span class="string">"\n"</span> + song.name</span><br><span class="line">                &#125;</span><br><span class="line">               networkResultClosure(name)</span><br><span class="line">            <span class="keyword">case</span> .failing( <span class="number">_</span>):</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;) &#123; (error) <span class="keyword">in</span></span><br><span class="line">            </span><br><span class="line">        &#125;.disposed(by: dispose)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//============ViewController.swift=================</span></span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">func</span> <span class="title">loadData</span><span class="params">()</span></span>&#123; <span class="comment">//接口调用方式</span></span><br><span class="line">        viewModel?.fetchMusicListData(keyword:<span class="string">"思如雪"</span>,networkResultClosure: &#123;[<span class="keyword">weak</span> <span class="keyword">self</span>] (names) <span class="keyword">in</span></span><br><span class="line">            <span class="type">DispatchQueue</span>.main.async &#123;</span><br><span class="line">                <span class="keyword">self</span>?.tips?.text = names</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h3 id="FyParams-swift"><a href="#FyParams-swift" class="headerlink" title="FyParams.swift"></a>FyParams.swift</h3><p>主要用来配置请求参数</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  FyParams.swift</span></span><br><span class="line"><span class="comment">//  Runner</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by l on 2020/3/16.</span></span><br><span class="line"><span class="comment">//  Copyright © 2020 The Chromium Authors. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FyBaseParams</span>: <span class="title">NSObject</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> channel : <span class="type">String</span>  &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"com.lpf.FyNetWork"</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> vno : <span class="type">Int</span>  &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">100</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/// .........................</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//这里面存放一些通用参数（也就是每个接口都要携带的参数）</span></span><br><span class="line">    <span class="keyword">var</span> baseParams:[<span class="type">String</span>:<span class="type">Any</span>]?&#123;</span><br><span class="line">        <span class="keyword">var</span> tempParams:[<span class="type">String</span>:<span class="type">Any</span>] = [<span class="type">String</span>:<span class="type">Any</span>]()</span><br><span class="line">        tempParams[<span class="string">"channel"</span>] = channel</span><br><span class="line">        tempParams[<span class="string">"vno"</span>] = vno</span><br><span class="line">        <span class="keyword">return</span> tempParams</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//这里存放所有请求需要的参数</span></span><br><span class="line">    <span class="keyword">var</span> allParams:[<span class="type">String</span>:<span class="type">Any</span>]!</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//根据接口需要的参数需求不同，进行适当的修改</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FyParams</span>: <span class="title">FyBaseParams</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">init</span>(params:[<span class="type">String</span>:<span class="type">Any</span>]? = [<span class="type">String</span>:<span class="type">Any</span>]()) &#123;</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>()</span><br><span class="line">        <span class="keyword">var</span> tempParams = [<span class="type">String</span>:<span class="type">Any</span>]()</span><br><span class="line">        <span class="keyword">for</span> param <span class="keyword">in</span> baseParams ?? [<span class="type">String</span>:<span class="type">Any</span>]()&#123;</span><br><span class="line">            tempParams[param.key] = param.value</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> param <span class="keyword">in</span> params ?? [<span class="type">String</span>:<span class="type">Any</span>]()&#123;</span><br><span class="line">            tempParams[param.key] = param.value</span><br><span class="line">        &#125;</span><br><span class="line">        allParams = tempParams ?? [<span class="type">String</span>:<span class="type">Any</span>]()</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Swift </category>
          
      </categories>
      
      
        <tags>
            
            <tag> RxSwift </tag>
            
            <tag> Moya </tag>
            
            <tag> HandyJSON </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>iOS 13 DarkMode适配</title>
      <link href="/2020/03/13/iOS%2013%20DarkMode%E9%80%82%E9%85%8D/"/>
      <url>/2020/03/13/iOS%2013%20DarkMode%E9%80%82%E9%85%8D/</url>
      
        <content type="html"><![CDATA[<h4 id="封装颜色管理类"><a href="#封装颜色管理类" class="headerlink" title="封装颜色管理类"></a>封装颜色管理类</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  FyColor.swift</span></span><br><span class="line"><span class="comment">//  FyColor</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by l on 2020/3/13.</span></span><br><span class="line"><span class="comment">//  Copyright © 2020 ifeiyv. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FyColors</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">///深色模式适配  手动控制适配模式 启用 关闭(如非必要，可移除相关代码)</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> isOpenDarkModel:<span class="type">Bool</span>  = <span class="literal">true</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK: eg文字颜色</span></span><br><span class="line">    <span class="comment">//文字颜色  如果有多种文字颜色可以设置多个 eg: labelTextColor</span></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">var</span> <span class="title">labelTextColor</span>: <span class="title">UIColor</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> darkModeColor(dark:<span class="type">UIColor</span>.white,light:<span class="type">UIColor</span>.black)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//文字颜色  如果有多种文字颜色可以设置多个 eg:  buttonTextColor</span></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">var</span> <span class="title">buttonTextColor</span>: <span class="title">UIColor</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> darkModeColor(dark:<span class="type">UIColor</span>.white,light:<span class="type">UIColor</span>.black)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//文字颜色  如果有多种文字颜色可以设置多个 eg:  fieldTextColor</span></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">var</span> <span class="title">fieldTextColor</span>: <span class="title">UIColor</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> darkModeColor(dark:<span class="type">UIColor</span>.white,light:<span class="type">UIColor</span>.black)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK: eg背景颜色</span></span><br><span class="line">    <span class="comment">//背景颜色  如果有多种文字颜色可以设置多个 eg: labelBgColor</span></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">var</span> <span class="title">labelBgColor</span>: <span class="title">UIColor</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> darkModeColor(dark:<span class="type">UIColor</span>.black,light:<span class="type">UIColor</span>.white)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//背景颜色  如果有多种文字颜色可以设置多个 eg:  buttonBgColor</span></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">var</span> <span class="title">buttonBgColor</span>: <span class="title">UIColor</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> darkModeColor(dark:<span class="type">UIColor</span>.black,light:<span class="type">UIColor</span>.white)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//背景颜色  如果有多种背景颜色可以设置多个 eg:  viewBgColor</span></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">var</span> <span class="title">viewBgColor</span>: <span class="title">UIColor</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> darkModeColor(dark:<span class="type">UIColor</span>.black,light:<span class="type">UIColor</span>.white)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//.........................................</span></span><br><span class="line">    <span class="comment">//根据需求增加相对应的颜色即可</span></span><br><span class="line">    <span class="comment">//darkModeColor(dark:UIColor.white,light:UIColor.black)</span></span><br><span class="line">    <span class="comment">//实际开发中不可能只有 UIColor.white，UIColor.black 两种颜色。</span></span><br><span class="line">    <span class="comment">//根据产品需求增加和修改对应的颜色</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//检测当前是否是深色模式</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">isDarkStyle</span>() -&gt; <span class="title">Bool</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!isOpenDarkModel)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> #available(iOS <span class="number">13.0</span>, *)&#123;</span><br><span class="line">            <span class="keyword">let</span> currentMode = <span class="type">UITraitCollection</span>.current.userInterfaceStyle</span><br><span class="line">            <span class="keyword">if</span>(currentMode == .dark)&#123;</span><br><span class="line">                <span class="keyword">return</span>  <span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 适配 动态颜色</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">darkModeColor</span>(<span class="title">dark</span>:<span class="title">UIColor</span>,<span class="title">light</span>:<span class="title">UIColor</span>) -&gt;<span class="title">UIColor</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!isOpenDarkModel)&#123;</span><br><span class="line">            <span class="keyword">return</span> light</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> #available(iOS <span class="number">13.0</span>, *)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="type">UIColor</span>&#123;(trainCollection) -&gt; <span class="type">UIColor</span> <span class="keyword">in</span></span><br><span class="line">                <span class="keyword">if</span> trainCollection.userInterfaceStyle == .dark&#123;</span><br><span class="line">                    <span class="keyword">return</span> dark</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> light</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> light</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="使用方式：-深色模式切换时，系统会重新渲染颜色，自动在设置好的两种颜色中进行切换"><a href="#使用方式：-深色模式切换时，系统会重新渲染颜色，自动在设置好的两种颜色中进行切换" class="headerlink" title="使用方式：(深色模式切换时，系统会重新渲染颜色，自动在设置好的两种颜色中进行切换)"></a>使用方式：(深色模式切换时，系统会重新渲染颜色，自动在设置好的两种颜色中进行切换)</h5> <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">label.textColor = <span class="type">FyColors</span>.labelTextColor</span><br><span class="line">   </span><br><span class="line">label.backgroundColor = <span class="type">FyColors</span>.labelBgColor</span><br><span class="line"></span><br><span class="line"> <span class="comment">//或者在此方法监听深色模式进行手动切换</span></span><br><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">traitCollectionDidChange</span><span class="params">(<span class="number">_</span> previousTraitCollection: UITraitCollection?)</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.traitCollectionDidChange(previousTraitCollection)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> iOS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> DarkMode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AndroidStudio生成签名信息报错</title>
      <link href="/2020/02/05/AndroidStudio%E7%94%9F%E6%88%90%E7%AD%BE%E5%90%8D%E4%BF%A1%E6%81%AF%E6%8A%A5%E9%94%99/"/>
      <url>/2020/02/05/AndroidStudio%E7%94%9F%E6%88%90%E7%AD%BE%E5%90%8D%E4%BF%A1%E6%81%AF%E6%8A%A5%E9%94%99/</url>
      
        <content type="html"><![CDATA[<h4 id="AndroidStudio生成签名信息报错"><a href="#AndroidStudio生成签名信息报错" class="headerlink" title="AndroidStudio生成签名信息报错"></a>AndroidStudio生成签名信息报错</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Key was created with errors:</span><br><span class="line">Warning:</span><br><span class="line">JKS 密钥库使用专用格式。建议使用 </span><br><span class="line"><span class="string">"keytool -importkeystore -srckeystore</span></span><br><span class="line"><span class="string">(存放路径)\AndroidSigh.jks -destkeystore</span></span><br><span class="line"><span class="string">(存放路径)\AndroidSigh.jks -deststoretype pkcs12"</span></span><br><span class="line">迁移到行业标准格式 PKCS12。</span><br></pre></td></tr></table></figure><blockquote><p>解决方案在终端中输入以下命令：</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">keytool -genkey -alias (alias名称) -keypass (alias密码) -keyalg RSA -keysize <span class="number">2048</span> -validity <span class="number">36500</span> -keystore (存放路径)\(保存jks文件名称).jks -storepass (keyStore密码)</span><br><span class="line"></span><br><span class="line"><span class="comment">//然后根据提示信息填写即可（上面命令中的括号要删掉）</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android Studio </tag>
            
            <tag> jks </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Swift判断字符串中是否含有中文</title>
      <link href="/2020/01/15/Swift%E5%88%A4%E6%96%AD%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E6%98%AF%E5%90%A6%E5%90%AB%E6%9C%89%E4%B8%AD%E6%96%87/"/>
      <url>/2020/01/15/Swift%E5%88%A4%E6%96%AD%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E6%98%AF%E5%90%A6%E5%90%AB%E6%9C%89%E4%B8%AD%E6%96%87/</url>
      
        <content type="html"><![CDATA[<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"l我o是v中e文123456789"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">judgeStringIncludeChineseWord</span><span class="params">(string: String)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="number">_</span>, value) <span class="keyword">in</span> string.characters.enumerated() &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="string">"\u&#123;4E00&#125;"</span> &lt;= value  &amp;&amp; value &lt;= <span class="string">"\u&#123;9FA5&#125;"</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> result = judgeStringIncludeChineseWord(string: str)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Swift </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift字符串 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Swift 分享邀请码图片合成</title>
      <link href="/2019/12/15/Swift%20%E5%88%86%E4%BA%AB%E9%82%80%E8%AF%B7%E7%A0%81%E5%9B%BE%E7%89%87%E5%90%88%E6%88%90/"/>
      <url>/2019/12/15/Swift%20%E5%88%86%E4%BA%AB%E9%82%80%E8%AF%B7%E7%A0%81%E5%9B%BE%E7%89%87%E5%90%88%E6%88%90/</url>
      
        <content type="html"><![CDATA[<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">creteImage</span>(<span class="title">bgImage</span>: <span class="title">UIImage</span>, <span class="title">iconImage</span>: <span class="title">UIImage</span>,<span class="title">iconFrame</span>:<span class="title">CGRect</span>,<span class="title">qrCodeImage</span>:<span class="title">UIImage</span>,<span class="title">codeFrame</span>:<span class="title">CGRect</span>,<span class="title">inviteCodeImg</span>:<span class="title">UIImage</span>,<span class="title">frame</span>:<span class="title">CGRect</span>) -&gt; <span class="title">UIImage</span></span></span><br><span class="line"><span class="class">    </span>&#123;</span><br><span class="line">        <span class="comment">// 1.开启图片上下文</span></span><br><span class="line"><span class="comment">//        UIGraphicsBeginImageContext(bgImage.size)</span></span><br><span class="line">        <span class="type">UIGraphicsBeginImageContextWithOptions</span>(bgImage.size,<span class="literal">false</span>,<span class="type">UIScreen</span>.main.scale)</span><br><span class="line">        <span class="comment">// 2.绘制背景图片</span></span><br><span class="line">        bgImage.draw(<span class="keyword">in</span>: <span class="type">CGRect</span>(origin: <span class="type">CGPoint</span>.zero, size: bgImage.size))</span><br><span class="line">        <span class="comment">// 3.绘制头像</span></span><br><span class="line">        iconImage.draw(<span class="keyword">in</span>: iconFrame)</span><br><span class="line">        </span><br><span class="line">        qrCodeImage.draw(<span class="keyword">in</span>: codeFrame)</span><br><span class="line">        </span><br><span class="line">        inviteCodeImg.draw(<span class="keyword">in</span>: frame)</span><br><span class="line">        <span class="comment">// 4.取出绘制号的图片</span></span><br><span class="line">        <span class="keyword">let</span> newImage = <span class="type">UIGraphicsGetImageFromCurrentImageContext</span>()</span><br><span class="line">        <span class="comment">// 5.关闭上下文</span></span><br><span class="line">        <span class="type">UIGraphicsEndImageContext</span>()</span><br><span class="line">        <span class="comment">// 6.返回合成号的图片</span></span><br><span class="line">        <span class="keyword">return</span> newImage!</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">//MARK: -传进去字符串,生成二维码图片</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">setupQRCodeImage</span>(<span class="title">_</span> <span class="title">text</span>: <span class="title">String</span>) -&gt; <span class="title">UIImage</span> </span>&#123;</span><br><span class="line">     <span class="comment">//创建滤镜</span></span><br><span class="line">     <span class="keyword">let</span> <span class="built_in">filter</span> = <span class="type">CIFilter</span>(name: <span class="string">"CIQRCodeGenerator"</span>)</span><br><span class="line">     <span class="built_in">filter</span>?.setDefaults()</span><br><span class="line">     <span class="comment">//将url加入二维码</span></span><br><span class="line">     <span class="built_in">filter</span>?.setValue(text.data(using: <span class="type">String</span>.<span class="type">Encoding</span>.utf8), forKey: <span class="string">"inputMessage"</span>)</span><br><span class="line">     <span class="comment">//取出生成的二维码（不清晰）</span></span><br><span class="line">     <span class="keyword">if</span> <span class="keyword">let</span> outputImage = <span class="built_in">filter</span>?.outputImage &#123;</span><br><span class="line">         <span class="comment">//生成清晰度更好的二维码</span></span><br><span class="line">         <span class="keyword">let</span> qrCodeImage = <span class="type">Util</span>.setupHighDefinitionUIImage(outputImage, size: <span class="number">140</span>)</span><br><span class="line">         <span class="keyword">return</span> qrCodeImage</span><br><span class="line">     &#125;</span><br><span class="line">     </span><br><span class="line">     <span class="keyword">return</span> <span class="type">UIImage</span>()</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> <span class="comment">//MARK: - 生成高清的UIImage</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">setupHighDefinitionUIImage</span>(<span class="title">_</span> <span class="title">image</span>: <span class="title">CIImage</span>, <span class="title">size</span>: <span class="title">CGFloat</span>) -&gt; <span class="title">UIImage</span> </span>&#123;</span><br><span class="line">     <span class="keyword">let</span> integral: <span class="type">CGRect</span> = image.extent.integral</span><br><span class="line">     <span class="keyword">let</span> proportion: <span class="type">CGFloat</span> = <span class="built_in">min</span>(size/integral.width, size/integral.height)</span><br><span class="line">     </span><br><span class="line">     <span class="keyword">let</span> width = integral.width * proportion</span><br><span class="line">     <span class="keyword">let</span> height = integral.height * proportion</span><br><span class="line">     <span class="keyword">let</span> colorSpace: <span class="type">CGColorSpace</span> = <span class="type">CGColorSpaceCreateDeviceGray</span>()</span><br><span class="line">     <span class="keyword">let</span> bitmapRef = <span class="type">CGContext</span>(data: <span class="literal">nil</span>, width: <span class="type">Int</span>(width), height: <span class="type">Int</span>(height), bitsPerComponent: <span class="number">8</span>, bytesPerRow: <span class="number">0</span>, space: colorSpace, bitmapInfo: <span class="number">0</span>)!</span><br><span class="line">     </span><br><span class="line">     <span class="keyword">let</span> context = <span class="type">CIContext</span>(options: <span class="literal">nil</span>)</span><br><span class="line">     <span class="keyword">let</span> bitmapImage: <span class="type">CGImage</span> = context.createCGImage(image, from: integral)!</span><br><span class="line">     </span><br><span class="line">     bitmapRef.interpolationQuality = <span class="type">CGInterpolationQuality</span>.<span class="keyword">none</span></span><br><span class="line">     bitmapRef.scaleBy(x: proportion, y: proportion);</span><br><span class="line">     bitmapRef.draw(bitmapImage, <span class="keyword">in</span>: integral);</span><br><span class="line">     <span class="keyword">let</span> image: <span class="type">CGImage</span> = bitmapRef.makeImage()!</span><br><span class="line">     <span class="keyword">return</span> <span class="type">UIImage</span>(cgImage: image)</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">getImageFromView</span>(<span class="title">view</span>:<span class="title">UIView</span>) -&gt;<span class="title">UIImage</span></span>&#123;</span><br><span class="line"><span class="comment">//        UIGraphicsBeginImageContext(view.bounds.size)</span></span><br><span class="line">        <span class="type">UIGraphicsBeginImageContextWithOptions</span>(view.bounds.size,<span class="literal">false</span>,<span class="type">UIScreen</span>.main.scale)</span><br><span class="line">        view.layer.render(<span class="keyword">in</span>: <span class="type">UIGraphicsGetCurrentContext</span>()!)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">let</span> image = <span class="type">UIGraphicsGetImageFromCurrentImageContext</span>()</span><br><span class="line">        </span><br><span class="line">        <span class="type">UIGraphicsEndImageContext</span>()</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> image!</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Swift </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 图片合成 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flutter 字符串多余n行折叠，点击展开</title>
      <link href="/2019/11/25/flutter%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%9A%E4%BD%99n%E8%A1%8C%E6%8A%98%E5%8F%A0,%E7%82%B9%E5%87%BB%E5%B1%95%E5%BC%80/"/>
      <url>/2019/11/25/flutter%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%9A%E4%BD%99n%E8%A1%8C%E6%8A%98%E5%8F%A0,%E7%82%B9%E5%87%BB%E5%B1%95%E5%BC%80/</url>
      
        <content type="html"><![CDATA[<h4 id="flutter-字符串多余n行折叠，点击展开"><a href="#flutter-字符串多余n行折叠，点击展开" class="headerlink" title="flutter 字符串多余n行折叠，点击展开"></a>flutter 字符串多余n行折叠，点击展开</h4><ul><li>获取TextPainter</li></ul><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">TextPainter fetchTextPainter(<span class="built_in">String</span> text, TextStyle style, <span class="built_in">int</span> maxLine,</span><br><span class="line">     <span class="built_in">double</span> minWidth, <span class="built_in">double</span> maxWidth) &#123;</span><br><span class="line">   <span class="keyword">return</span> TextPainter(</span><br><span class="line">       maxLines: maxLine,</span><br><span class="line">       text: TextSpan(text: text, style: style),</span><br><span class="line">       textDirection: TextDirection.ltr)</span><br><span class="line">     ..layout(maxWidth: maxWidth, minWidth: minWidth);</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><ul><li>判断是否超过n行，需要截断文本</li></ul><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">bool</span> isExpansion(<span class="built_in">String</span> text, TextStyle style, <span class="built_in">int</span> maxLine, <span class="built_in">double</span> minWidth,</span><br><span class="line">      <span class="built_in">double</span> maxWidth) &#123;</span><br><span class="line">    TextPainter _textPainter =</span><br><span class="line">        fetchTextPainter(text, style, maxLine, minWidth, maxWidth);</span><br><span class="line">    <span class="keyword">if</span> (_textPainter.didExceedMaxLines) &#123;</span><br><span class="line">      <span class="comment">//这里判断 文本是否截断</span></span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><ul><li>超过n行，需要展开。展开箭头放在文本右下角，移除两个字符（根据需求）用来放展开箭头</li></ul><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span> expansionString(<span class="built_in">String</span> text, TextStyle style, <span class="built_in">int</span> maxLine,</span><br><span class="line">    <span class="built_in">double</span> minWidth, <span class="built_in">double</span> maxWidth) &#123;</span><br><span class="line">  TextPainter _textPainter =</span><br><span class="line">      fetchTextPainter(text, style, maxLine, minWidth, maxWidth);</span><br><span class="line">  <span class="keyword">var</span> end = _textPainter</span><br><span class="line">      .getPositionForOffset(</span><br><span class="line">          Offset(_textPainter.size.width, _textPainter.size.height))</span><br><span class="line">      .offset;</span><br><span class="line">  <span class="keyword">return</span> text.substring(<span class="number">0</span>, end - <span class="number">2</span>) + <span class="string">"..."</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter 字符串 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>直播系列四、报错Bug修复记录</title>
      <link href="/2019/11/08/%E7%9B%B4%E6%92%AD%E7%B3%BB%E5%88%97%E5%9B%9B%E3%80%81%E6%8A%A5%E9%94%99Bug%E4%BF%AE%E5%A4%8D%E8%AE%B0%E5%BD%95/"/>
      <url>/2019/11/08/%E7%9B%B4%E6%92%AD%E7%B3%BB%E5%88%97%E5%9B%9B%E3%80%81%E6%8A%A5%E9%94%99Bug%E4%BF%AE%E5%A4%8D%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<ol><li>./build-ffmpeg.sh</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">xcrun -sdk iphoneos clang is unable to create an executable file.</span><br><span class="line">C compiler <span class="built_in">test</span> failed.</span><br><span class="line"></span><br><span class="line">If you think configure made a mistake, make sure you are using the latest</span><br><span class="line">version from Git. If the latest version fails, report the problem to the</span><br><span class="line">ffmpeg-user@ffmpeg.org mailing list or IRC <span class="comment">#ffmpeg on irc.freenode.net.</span></span><br><span class="line">Include the <span class="built_in">log</span> file <span class="string">"config.log"</span> produced by configure as this will <span class="built_in">help</span></span><br><span class="line">solve the problem.</span><br></pre></td></tr></table></figure><p>解决方法：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo xcode-select --switch /Applications/Xcode.app</span><br></pre></td></tr></table></figure><ol start="2"><li>armv7</li></ol><p><a href="https://www.jianshu.com/p/2669370bee23" target="_blank" rel="noopener">https://www.jianshu.com/p/2669370bee23</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">./libavutil/arm/asm.S:50:9: error: unknown directive</span><br><span class="line">       .arch armv7<span class="_">-a</span></span><br><span class="line">       ^</span><br></pre></td></tr></table></figure><p>删除<code>armv7compile-ffmpeg.sh</code>文件中 </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">FF_ALL_ARCHS_IOS8_SDK=<span class="string">"armv7 arm64 i386 x86_64"</span></span><br><span class="line"></span><br><span class="line">改为 FF_ALL_ARCHS_IOS8_SDK=<span class="string">"arm64 i386 x86_64"</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> iOS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 直播 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>直播系列三、IJKPlayer拉流</title>
      <link href="/2019/11/08/%E7%9B%B4%E6%92%AD%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81IJKPlayer%E6%8B%89%E6%B5%81/"/>
      <url>/2019/11/08/%E7%9B%B4%E6%92%AD%E7%B3%BB%E5%88%97%E4%B8%89%E3%80%81IJKPlayer%E6%8B%89%E6%B5%81/</url>
      
        <content type="html"><![CDATA[<p><a href="https://www.jianshu.com/p/65fb80dff4d6" target="_blank" rel="noopener">https://www.jianshu.com/p/65fb80dff4d6</a></p><p>合并真机和模拟器的framework</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lipo -create 真机framework路径 模拟器framework路径 -output 合并的文件路径</span><br></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">playerViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> iPlayer:<span class="type">IJKFFMoviePlayerController?</span> </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">let</span> options:<span class="type">IJKFFOptions</span> = <span class="type">IJKFFOptions</span>.byDefault()</span><br><span class="line">        <span class="keyword">let</span> url:<span class="type">URL</span> = <span class="type">URL</span>.<span class="keyword">init</span>(string: <span class="string">"rtmp://live.hkstv.hk.lxdns.com/live/hks"</span>)!</span><br><span class="line"> </span><br><span class="line">        </span><br><span class="line">        <span class="keyword">self</span>.iPlayer = <span class="type">IJKFFMoviePlayerController</span>.<span class="keyword">init</span>(contentURL: url, with: options)</span><br><span class="line">        <span class="keyword">var</span> arm1 = <span class="type">UIViewAutoresizing</span>.<span class="keyword">init</span>(rawValue: <span class="number">0</span>)</span><br><span class="line">        arm1.insert(<span class="type">UIViewAutoresizing</span>.flexibleWidth)</span><br><span class="line">        arm1.insert(<span class="type">UIViewAutoresizing</span>.flexibleHeight) </span><br><span class="line">        <span class="keyword">self</span>.iPlayer?.view.autoresizingMask = arm1</span><br><span class="line">        <span class="keyword">self</span>.iPlayer?.view.backgroundColor = <span class="type">UIColor</span>.white</span><br><span class="line">        <span class="keyword">self</span>.iPlayer?.view.frame = <span class="type">CGRect</span>.<span class="keyword">init</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: <span class="type">UIScreen</span>.main.bounds.size.width, height: <span class="number">300</span>)</span><br><span class="line">        <span class="keyword">self</span>.iPlayer?.scalingMode = .aspectFit</span><br><span class="line">        <span class="keyword">self</span>.iPlayer?.shouldAutoplay = <span class="literal">true</span></span><br><span class="line">        <span class="keyword">self</span>.view.autoresizesSubviews = <span class="literal">true</span></span><br><span class="line">        <span class="keyword">self</span>.view.addSubview((<span class="keyword">self</span>.iPlayer?.view)!)</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// Do any additional setup after loading the view, typically from a nib.</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">didReceiveMemoryWarning</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.didReceiveMemoryWarning()</span><br><span class="line">        <span class="comment">// Dispose of any resources that can be recreated.</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewWillAppear</span><span class="params">(<span class="number">_</span> animated: Bool)</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.viewWillAppear(animated)</span><br><span class="line">        <span class="keyword">self</span>.iPlayer?.prepareToPlay() <span class="comment">//准备</span></span><br><span class="line">        <span class="keyword">self</span>.iPlayer?.play() <span class="comment">//播放</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewWillDisappear</span><span class="params">(<span class="number">_</span> animated: Bool)</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.viewWillDisappear(animated)</span><br><span class="line">        <span class="keyword">self</span>.iPlayer?.pause()<span class="comment">//暂停</span></span><br><span class="line"><span class="comment">//        self.iPlayer?.shutdown() //销毁</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> iOS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 直播 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>直播系列二、LFLiveKit推流</title>
      <link href="/2019/11/08/%E7%9B%B4%E6%92%AD%E7%B3%BB%E5%88%97%E4%BA%8C%E3%80%81LFLiveKit%E6%8E%A8%E6%B5%81/"/>
      <url>/2019/11/08/%E7%9B%B4%E6%92%AD%E7%B3%BB%E5%88%97%E4%BA%8C%E3%80%81LFLiveKit%E6%8E%A8%E6%B5%81/</url>
      
        <content type="html"><![CDATA[<blockquote><p>LFLiveKit：框架支持RTMP，由Adobe公司开发。github地址<a href="https://github.com/LaiFengiOS/LFLiveKit" target="_blank" rel="noopener">https://github.com/LaiFengiOS/LFLiveKit</a></p></blockquote><p>LFLiveKit库里已经集成GPUImage框架用于美颜功能，GPUImage基于OpenGl开发，纯OC语言框架，封装好了各种滤镜同时也可以编写自定义的滤镜，其本身内置了多达125种常见的滤镜效果。</p><p>LFLiveKit库通过pod导入项目</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod '<span class="type">LFLiveKit'</span></span><br></pre></td></tr></table></figure><p>配置上传地址</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> stream = <span class="type">LFLiveStreamInfo</span>()</span><br><span class="line">stream.url = <span class="string">"rtmp://192.168.***.***:1935/rtmplive/room"</span></span><br><span class="line">session.startLive(stream)</span><br></pre></td></tr></table></figure><p>demo </p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  ViewController.swift</span></span><br><span class="line"><span class="comment">//  IfeiyvLiveVideo</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by l on 2019/7/1.</span></span><br><span class="line"><span class="comment">//  Copyright © 2019 ifeiyv. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span>, <span class="title">LFLiveSessionDelegate</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line">        <span class="comment">// Do any additional setup after loading the view, typically from a nib.</span></span><br><span class="line">        </span><br><span class="line">        session.delegate = <span class="keyword">self</span></span><br><span class="line">        session.preView = <span class="keyword">self</span>.view</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">self</span>.requestAccessForVideo()</span><br><span class="line">        <span class="keyword">self</span>.requestAccessForAudio()</span><br><span class="line">        <span class="keyword">self</span>.view.backgroundColor = <span class="type">UIColor</span>.clear</span><br><span class="line">        <span class="keyword">self</span>.view.addSubview(containerView)</span><br><span class="line">        containerView.addSubview(stateLabel)</span><br><span class="line">        containerView.addSubview(closeButton)</span><br><span class="line">        containerView.addSubview(beautyButton)</span><br><span class="line">        containerView.addSubview(cameraButton)</span><br><span class="line">        containerView.addSubview(startLiveButton)</span><br><span class="line">        </span><br><span class="line">        cameraButton.addTarget(<span class="keyword">self</span>, action: #selector(didTappedCameraButton(<span class="number">_</span>:)), <span class="keyword">for</span>:.touchUpInside)</span><br><span class="line">        beautyButton.addTarget(<span class="keyword">self</span>, action: #selector(didTappedBeautyButton(<span class="number">_</span>:)), <span class="keyword">for</span>: .touchUpInside)</span><br><span class="line">        startLiveButton.addTarget(<span class="keyword">self</span>, action: #selector(didTappedStartLiveButton(<span class="number">_</span>:)), <span class="keyword">for</span>: .touchUpInside)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">didReceiveMemoryWarning</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.didReceiveMemoryWarning()</span><br><span class="line">        <span class="comment">// Dispose of any resources that can be recreated.</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK: AccessAuth</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">requestAccessForVideo</span><span class="params">()</span></span> -&gt; <span class="type">Void</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> status = <span class="type">AVCaptureDevice</span>.authorizationStatus(<span class="keyword">for</span>: <span class="type">AVMediaType</span>.video);</span><br><span class="line">        <span class="keyword">switch</span> status  &#123;</span><br><span class="line">        <span class="comment">// 许可对话没有出现，发起授权许可</span></span><br><span class="line">        <span class="keyword">case</span> <span class="type">AVAuthorizationStatus</span>.notDetermined:</span><br><span class="line">            <span class="type">AVCaptureDevice</span>.requestAccess(<span class="keyword">for</span>: <span class="type">AVMediaType</span>.video, completionHandler: &#123; (granted) <span class="keyword">in</span></span><br><span class="line">                <span class="keyword">if</span>(granted)&#123;</span><br><span class="line">                    <span class="type">DispatchQueue</span>.main.async &#123;</span><br><span class="line">                        <span class="keyword">self</span>.session.running = <span class="literal">true</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="comment">// 已经开启授权，可继续</span></span><br><span class="line">        <span class="keyword">case</span> <span class="type">AVAuthorizationStatus</span>.authorized:</span><br><span class="line">            session.running = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="comment">// 用户明确地拒绝授权，或者相机设备无法访问</span></span><br><span class="line">        <span class="keyword">case</span> <span class="type">AVAuthorizationStatus</span>.denied: <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">case</span> <span class="type">AVAuthorizationStatus</span>.restricted:<span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">requestAccessForAudio</span><span class="params">()</span></span> -&gt; <span class="type">Void</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> status = <span class="type">AVCaptureDevice</span>.authorizationStatus(<span class="keyword">for</span>:<span class="type">AVMediaType</span>.audio)</span><br><span class="line">        <span class="keyword">switch</span> status  &#123;</span><br><span class="line">        <span class="comment">// 许可对话没有出现，发起授权许可</span></span><br><span class="line">        <span class="keyword">case</span> <span class="type">AVAuthorizationStatus</span>.notDetermined:</span><br><span class="line">            <span class="type">AVCaptureDevice</span>.requestAccess(<span class="keyword">for</span>: <span class="type">AVMediaType</span>.audio, completionHandler: &#123; (granted) <span class="keyword">in</span></span><br><span class="line">                </span><br><span class="line">            &#125;)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="comment">// 已经开启授权，可继续</span></span><br><span class="line">        <span class="keyword">case</span> <span class="type">AVAuthorizationStatus</span>.authorized:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="comment">// 用户明确地拒绝授权，或者相机设备无法访问</span></span><br><span class="line">        <span class="keyword">case</span> <span class="type">AVAuthorizationStatus</span>.denied: <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">case</span> <span class="type">AVAuthorizationStatus</span>.restricted:<span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK: - Callbacks</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 回调</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">liveSession</span><span class="params">(<span class="number">_</span> session: LFLiveSession?, debugInfo: LFLiveDebug?)</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"debugInfo: \(debugInfo?.currentBandwidth)"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">liveSession</span><span class="params">(<span class="number">_</span> session: LFLiveSession?, errorCode: LFLiveSocketErrorCode)</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"errorCode: \(errorCode.rawValue)"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">liveSession</span><span class="params">(<span class="number">_</span> session: LFLiveSession?, liveStateDidChange state: LFLiveState)</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"liveStateDidChange: \(state.rawValue)"</span>)</span><br><span class="line">        <span class="keyword">switch</span> state &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="type">LFLiveState</span>.ready:</span><br><span class="line">            stateLabel.text = <span class="string">"未连接"</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="type">LFLiveState</span>.pending:</span><br><span class="line">            stateLabel.text = <span class="string">"连接中"</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="type">LFLiveState</span>.start:</span><br><span class="line">            stateLabel.text = <span class="string">"已连接"</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="type">LFLiveState</span>.error:</span><br><span class="line">            stateLabel.text = <span class="string">"连接错误"</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="type">LFLiveState</span>.stop:</span><br><span class="line">            stateLabel.text = <span class="string">"未连接"</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK: - Events</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 开始直播</span></span><br><span class="line">    <span class="meta">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">didTappedStartLiveButton</span><span class="params">(<span class="number">_</span> button: UIButton)</span></span> -&gt; <span class="type">Void</span> &#123;</span><br><span class="line">        startLiveButton.isSelected = !startLiveButton.isSelected;</span><br><span class="line">        <span class="keyword">if</span> (startLiveButton.isSelected) &#123;</span><br><span class="line">            startLiveButton.setTitle(<span class="string">"结束直播"</span>, <span class="keyword">for</span>: <span class="type">UIControl</span>.<span class="type">State</span>())</span><br><span class="line">            <span class="keyword">let</span> stream = <span class="type">LFLiveStreamInfo</span>()</span><br><span class="line">            stream.url = <span class="string">"rtmp://192.168.1.148:1935/rtmplive/room"</span></span><br><span class="line">            session.startLive(stream)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            startLiveButton.setTitle(<span class="string">"开始直播"</span>, <span class="keyword">for</span>: <span class="type">UIControl</span>.<span class="type">State</span>())</span><br><span class="line">            session.stopLive()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 美颜</span></span><br><span class="line">    <span class="meta">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">didTappedBeautyButton</span><span class="params">(<span class="number">_</span> button: UIButton)</span></span> -&gt; <span class="type">Void</span> &#123;</span><br><span class="line">        session.beautyFace = !session.beautyFace;</span><br><span class="line">        beautyButton.isSelected = !session.beautyFace</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 摄像头</span></span><br><span class="line">    <span class="meta">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">didTappedCameraButton</span><span class="params">(<span class="number">_</span> button: UIButton)</span></span> -&gt; <span class="type">Void</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> devicePositon = session.captureDevicePosition;</span><br><span class="line">        session.captureDevicePosition = (devicePositon == <span class="type">AVCaptureDevice</span>.<span class="type">Position</span>.back) ? <span class="type">AVCaptureDevice</span>.<span class="type">Position</span>.front : <span class="type">AVCaptureDevice</span>.<span class="type">Position</span>.back;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 关闭</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">didTappedCloseButton</span><span class="params">(<span class="number">_</span> button: UIButton)</span></span> -&gt; <span class="type">Void</span>  &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK: - Getters and Setters</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  默认分辨率368 ＊ 640  音频：44.1 iphone6以上48  双声道  方向竖屏</span></span><br><span class="line">    <span class="keyword">var</span> session: <span class="type">LFLiveSession</span> = &#123;</span><br><span class="line">        <span class="keyword">let</span> audioConfiguration = <span class="type">LFLiveAudioConfiguration</span>.defaultConfiguration(<span class="keyword">for</span>: <span class="type">LFLiveAudioQuality</span>.high)</span><br><span class="line">        <span class="keyword">let</span> videoConfiguration = <span class="type">LFLiveVideoConfiguration</span>.defaultConfiguration(<span class="keyword">for</span>: <span class="type">LFLiveVideoQuality</span>.low3)</span><br><span class="line">        <span class="keyword">let</span> session = <span class="type">LFLiveSession</span>(audioConfiguration: audioConfiguration, videoConfiguration: videoConfiguration)</span><br><span class="line">        <span class="keyword">return</span> session!</span><br><span class="line">    &#125;()</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 视图</span></span><br><span class="line">    <span class="keyword">var</span> containerView: <span class="type">UIView</span> = &#123;</span><br><span class="line">        <span class="keyword">let</span> containerView = <span class="type">UIView</span>(frame: <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: <span class="type">UIScreen</span>.main.bounds.width, height: <span class="type">UIScreen</span>.main.bounds.height))</span><br><span class="line">        containerView.backgroundColor = <span class="type">UIColor</span>.clear</span><br><span class="line">        containerView.autoresizingMask = [<span class="type">UIView</span>.<span class="type">AutoresizingMask</span>.flexibleHeight, <span class="type">UIView</span>.<span class="type">AutoresizingMask</span>.flexibleHeight]</span><br><span class="line">        <span class="keyword">return</span> containerView</span><br><span class="line">    &#125;()</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 状态Label</span></span><br><span class="line">    <span class="keyword">var</span> stateLabel: <span class="type">UILabel</span> = &#123;</span><br><span class="line">        <span class="keyword">let</span> stateLabel = <span class="type">UILabel</span>(frame: <span class="type">CGRect</span>(x: <span class="number">20</span>, y: <span class="number">20</span>, width: <span class="number">80</span>, height: <span class="number">40</span>))</span><br><span class="line">        stateLabel.text = <span class="string">"未连接"</span></span><br><span class="line">        stateLabel.textColor = <span class="type">UIColor</span>.white</span><br><span class="line">        stateLabel.font = <span class="type">UIFont</span>.systemFont(ofSize: <span class="number">14</span>)</span><br><span class="line">        <span class="keyword">return</span> stateLabel</span><br><span class="line">    &#125;()</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 关闭按钮</span></span><br><span class="line">    <span class="keyword">var</span> closeButton: <span class="type">UIButton</span> = &#123;</span><br><span class="line">        <span class="keyword">let</span> closeButton = <span class="type">UIButton</span>(frame: <span class="type">CGRect</span>(x: <span class="type">UIScreen</span>.main.bounds.width - <span class="number">10</span> - <span class="number">44</span>, y: <span class="number">20</span>, width: <span class="number">44</span>, height: <span class="number">44</span>))</span><br><span class="line">        closeButton.setImage(<span class="type">UIImage</span>(named: <span class="string">"close_preview"</span>), <span class="keyword">for</span>: <span class="type">UIControl</span>.<span class="type">State</span>())</span><br><span class="line">        <span class="keyword">return</span> closeButton</span><br><span class="line">    &#125;()</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 摄像头</span></span><br><span class="line">    <span class="keyword">var</span> cameraButton: <span class="type">UIButton</span> = &#123;</span><br><span class="line">        <span class="keyword">let</span> cameraButton = <span class="type">UIButton</span>(frame: <span class="type">CGRect</span>(x: <span class="type">UIScreen</span>.main.bounds.width - <span class="number">54</span> * <span class="number">2</span>, y: <span class="number">20</span>, width: <span class="number">44</span>, height: <span class="number">44</span>))</span><br><span class="line">        cameraButton.setImage(<span class="type">UIImage</span>(named: <span class="string">"camra_preview"</span>), <span class="keyword">for</span>: <span class="type">UIControl</span>.<span class="type">State</span>())</span><br><span class="line">        <span class="keyword">return</span> cameraButton</span><br><span class="line">    &#125;()</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 摄像头</span></span><br><span class="line">    <span class="keyword">var</span> beautyButton: <span class="type">UIButton</span> = &#123;</span><br><span class="line">        <span class="keyword">let</span> beautyButton = <span class="type">UIButton</span>(frame: <span class="type">CGRect</span>(x: <span class="type">UIScreen</span>.main.bounds.width - <span class="number">54</span> * <span class="number">3</span>, y: <span class="number">20</span>, width: <span class="number">44</span>, height: <span class="number">44</span>))</span><br><span class="line">        beautyButton.setImage(<span class="type">UIImage</span>(named: <span class="string">"camra_beauty"</span>), <span class="keyword">for</span>: <span class="type">UIControl</span>.<span class="type">State</span>.selected)</span><br><span class="line">        beautyButton.setImage(<span class="type">UIImage</span>(named: <span class="string">"camra_beauty_close"</span>), <span class="keyword">for</span>: <span class="type">UIControl</span>.<span class="type">State</span>())</span><br><span class="line">        <span class="keyword">return</span> beautyButton</span><br><span class="line">    &#125;()</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 开始直播按钮</span></span><br><span class="line">    <span class="keyword">var</span> startLiveButton: <span class="type">UIButton</span> = &#123;</span><br><span class="line">        <span class="keyword">let</span> startLiveButton = <span class="type">UIButton</span>(frame: <span class="type">CGRect</span>(x: <span class="number">30</span>, y: <span class="type">UIScreen</span>.main.bounds.height - <span class="number">50</span>, width: <span class="type">UIScreen</span>.main.bounds.width - <span class="number">10</span> - <span class="number">44</span>, height: <span class="number">44</span>))</span><br><span class="line">        startLiveButton.layer.cornerRadius = <span class="number">22</span></span><br><span class="line">        startLiveButton.setTitleColor(<span class="type">UIColor</span>.black, <span class="keyword">for</span>:<span class="type">UIControl</span>.<span class="type">State</span>())</span><br><span class="line">        startLiveButton.setTitle(<span class="string">"开始直播"</span>, <span class="keyword">for</span>: <span class="type">UIControl</span>.<span class="type">State</span>())</span><br><span class="line">        startLiveButton.titleLabel!.font = <span class="type">UIFont</span>.systemFont(ofSize: <span class="number">14</span>)</span><br><span class="line">        startLiveButton.backgroundColor = <span class="type">UIColor</span>(red: <span class="number">50</span>/<span class="number">255.0</span>, green: <span class="number">32</span>/<span class="number">255.0</span>, blue: <span class="number">245</span>/<span class="number">255.0</span>, alpha: <span class="number">1</span>)<span class="comment">//colorLiteralRed: 50, green: 32, blue: 245, alpha: 1</span></span><br><span class="line">        <span class="keyword">return</span> startLiveButton</span><br><span class="line">    &#125;()</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  ViewController.swift</span></span><br><span class="line"><span class="comment">//  IfeiyvLiveVideo</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by l on 2019/7/1.</span></span><br><span class="line"><span class="comment">//  Copyright © 2019 ifeiyv. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span>, <span class="title">LFLiveSessionDelegate</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line">        <span class="comment">// Do any additional setup after loading the view, typically from a nib.</span></span><br><span class="line">        </span><br><span class="line">        session.delegate = <span class="keyword">self</span></span><br><span class="line">        session.preView = <span class="keyword">self</span>.view</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">self</span>.requestAccessForVideo()</span><br><span class="line">        <span class="keyword">self</span>.requestAccessForAudio()</span><br><span class="line">        <span class="keyword">self</span>.view.backgroundColor = <span class="type">UIColor</span>.clear</span><br><span class="line">        <span class="keyword">self</span>.view.addSubview(containerView)</span><br><span class="line">        containerView.addSubview(stateLabel)</span><br><span class="line">        containerView.addSubview(closeButton)</span><br><span class="line">        containerView.addSubview(beautyButton)</span><br><span class="line">        containerView.addSubview(cameraButton)</span><br><span class="line">        containerView.addSubview(startLiveButton)</span><br><span class="line">        </span><br><span class="line">        cameraButton.addTarget(<span class="keyword">self</span>, action: #selector(didTappedCameraButton(<span class="number">_</span>:)), <span class="keyword">for</span>:.touchUpInside)</span><br><span class="line">        beautyButton.addTarget(<span class="keyword">self</span>, action: #selector(didTappedBeautyButton(<span class="number">_</span>:)), <span class="keyword">for</span>: .touchUpInside)</span><br><span class="line">        startLiveButton.addTarget(<span class="keyword">self</span>, action: #selector(didTappedStartLiveButton(<span class="number">_</span>:)), <span class="keyword">for</span>: .touchUpInside)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">didReceiveMemoryWarning</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.didReceiveMemoryWarning()</span><br><span class="line">        <span class="comment">// Dispose of any resources that can be recreated.</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK: AccessAuth</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">requestAccessForVideo</span><span class="params">()</span></span> -&gt; <span class="type">Void</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> status = <span class="type">AVCaptureDevice</span>.authorizationStatus(<span class="keyword">for</span>: <span class="type">AVMediaType</span>.video);</span><br><span class="line">        <span class="keyword">switch</span> status  &#123;</span><br><span class="line">        <span class="comment">// 许可对话没有出现，发起授权许可</span></span><br><span class="line">        <span class="keyword">case</span> <span class="type">AVAuthorizationStatus</span>.notDetermined:</span><br><span class="line">            <span class="type">AVCaptureDevice</span>.requestAccess(<span class="keyword">for</span>: <span class="type">AVMediaType</span>.video, completionHandler: &#123; (granted) <span class="keyword">in</span></span><br><span class="line">                <span class="keyword">if</span>(granted)&#123;</span><br><span class="line">                    <span class="type">DispatchQueue</span>.main.async &#123;</span><br><span class="line">                        <span class="keyword">self</span>.session.running = <span class="literal">true</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="comment">// 已经开启授权，可继续</span></span><br><span class="line">        <span class="keyword">case</span> <span class="type">AVAuthorizationStatus</span>.authorized:</span><br><span class="line">            session.running = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="comment">// 用户明确地拒绝授权，或者相机设备无法访问</span></span><br><span class="line">        <span class="keyword">case</span> <span class="type">AVAuthorizationStatus</span>.denied: <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">case</span> <span class="type">AVAuthorizationStatus</span>.restricted:<span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">requestAccessForAudio</span><span class="params">()</span></span> -&gt; <span class="type">Void</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> status = <span class="type">AVCaptureDevice</span>.authorizationStatus(<span class="keyword">for</span>:<span class="type">AVMediaType</span>.audio)</span><br><span class="line">        <span class="keyword">switch</span> status  &#123;</span><br><span class="line">        <span class="comment">// 许可对话没有出现，发起授权许可</span></span><br><span class="line">        <span class="keyword">case</span> <span class="type">AVAuthorizationStatus</span>.notDetermined:</span><br><span class="line">            <span class="type">AVCaptureDevice</span>.requestAccess(<span class="keyword">for</span>: <span class="type">AVMediaType</span>.audio, completionHandler: &#123; (granted) <span class="keyword">in</span></span><br><span class="line">                </span><br><span class="line">            &#125;)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="comment">// 已经开启授权，可继续</span></span><br><span class="line">        <span class="keyword">case</span> <span class="type">AVAuthorizationStatus</span>.authorized:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="comment">// 用户明确地拒绝授权，或者相机设备无法访问</span></span><br><span class="line">        <span class="keyword">case</span> <span class="type">AVAuthorizationStatus</span>.denied: <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">case</span> <span class="type">AVAuthorizationStatus</span>.restricted:<span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK: - Callbacks</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 回调</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">liveSession</span><span class="params">(<span class="number">_</span> session: LFLiveSession?, debugInfo: LFLiveDebug?)</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"debugInfo: \(debugInfo?.currentBandwidth)"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">liveSession</span><span class="params">(<span class="number">_</span> session: LFLiveSession?, errorCode: LFLiveSocketErrorCode)</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"errorCode: \(errorCode.rawValue)"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">liveSession</span><span class="params">(<span class="number">_</span> session: LFLiveSession?, liveStateDidChange state: LFLiveState)</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"liveStateDidChange: \(state.rawValue)"</span>)</span><br><span class="line">        <span class="keyword">switch</span> state &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="type">LFLiveState</span>.ready:</span><br><span class="line">            stateLabel.text = <span class="string">"未连接"</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="type">LFLiveState</span>.pending:</span><br><span class="line">            stateLabel.text = <span class="string">"连接中"</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="type">LFLiveState</span>.start:</span><br><span class="line">            stateLabel.text = <span class="string">"已连接"</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="type">LFLiveState</span>.error:</span><br><span class="line">            stateLabel.text = <span class="string">"连接错误"</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="type">LFLiveState</span>.stop:</span><br><span class="line">            stateLabel.text = <span class="string">"未连接"</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK: - Events</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 开始直播</span></span><br><span class="line">    <span class="meta">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">didTappedStartLiveButton</span><span class="params">(<span class="number">_</span> button: UIButton)</span></span> -&gt; <span class="type">Void</span> &#123;</span><br><span class="line">        startLiveButton.isSelected = !startLiveButton.isSelected;</span><br><span class="line">        <span class="keyword">if</span> (startLiveButton.isSelected) &#123;</span><br><span class="line">            startLiveButton.setTitle(<span class="string">"结束直播"</span>, <span class="keyword">for</span>: <span class="type">UIControl</span>.<span class="type">State</span>())</span><br><span class="line">            <span class="keyword">let</span> stream = <span class="type">LFLiveStreamInfo</span>()</span><br><span class="line">            stream.url = <span class="string">"rtmp://192.168.1.148:1935/rtmplive/room"</span></span><br><span class="line">            session.startLive(stream)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            startLiveButton.setTitle(<span class="string">"开始直播"</span>, <span class="keyword">for</span>: <span class="type">UIControl</span>.<span class="type">State</span>())</span><br><span class="line">            session.stopLive()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 美颜</span></span><br><span class="line">    <span class="meta">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">didTappedBeautyButton</span><span class="params">(<span class="number">_</span> button: UIButton)</span></span> -&gt; <span class="type">Void</span> &#123;</span><br><span class="line">        session.beautyFace = !session.beautyFace;</span><br><span class="line">        beautyButton.isSelected = !session.beautyFace</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 摄像头</span></span><br><span class="line">    <span class="meta">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">didTappedCameraButton</span><span class="params">(<span class="number">_</span> button: UIButton)</span></span> -&gt; <span class="type">Void</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> devicePositon = session.captureDevicePosition;</span><br><span class="line">        session.captureDevicePosition = (devicePositon == <span class="type">AVCaptureDevice</span>.<span class="type">Position</span>.back) ? <span class="type">AVCaptureDevice</span>.<span class="type">Position</span>.front : <span class="type">AVCaptureDevice</span>.<span class="type">Position</span>.back;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 关闭</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">didTappedCloseButton</span><span class="params">(<span class="number">_</span> button: UIButton)</span></span> -&gt; <span class="type">Void</span>  &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK: - Getters and Setters</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  默认分辨率368 ＊ 640  音频：44.1 iphone6以上48  双声道  方向竖屏</span></span><br><span class="line">    <span class="keyword">var</span> session: <span class="type">LFLiveSession</span> = &#123;</span><br><span class="line">        <span class="keyword">let</span> audioConfiguration = <span class="type">LFLiveAudioConfiguration</span>.defaultConfiguration(<span class="keyword">for</span>: <span class="type">LFLiveAudioQuality</span>.high)</span><br><span class="line">        <span class="keyword">let</span> videoConfiguration = <span class="type">LFLiveVideoConfiguration</span>.defaultConfiguration(<span class="keyword">for</span>: <span class="type">LFLiveVideoQuality</span>.low3)</span><br><span class="line">        <span class="keyword">let</span> session = <span class="type">LFLiveSession</span>(audioConfiguration: audioConfiguration, videoConfiguration: videoConfiguration)</span><br><span class="line">        <span class="keyword">return</span> session!</span><br><span class="line">    &#125;()</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 视图</span></span><br><span class="line">    <span class="keyword">var</span> containerView: <span class="type">UIView</span> = &#123;</span><br><span class="line">        <span class="keyword">let</span> containerView = <span class="type">UIView</span>(frame: <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: <span class="type">UIScreen</span>.main.bounds.width, height: <span class="type">UIScreen</span>.main.bounds.height))</span><br><span class="line">        containerView.backgroundColor = <span class="type">UIColor</span>.clear</span><br><span class="line">        containerView.autoresizingMask = [<span class="type">UIView</span>.<span class="type">AutoresizingMask</span>.flexibleHeight, <span class="type">UIView</span>.<span class="type">AutoresizingMask</span>.flexibleHeight]</span><br><span class="line">        <span class="keyword">return</span> containerView</span><br><span class="line">    &#125;()</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 状态Label</span></span><br><span class="line">    <span class="keyword">var</span> stateLabel: <span class="type">UILabel</span> = &#123;</span><br><span class="line">        <span class="keyword">let</span> stateLabel = <span class="type">UILabel</span>(frame: <span class="type">CGRect</span>(x: <span class="number">20</span>, y: <span class="number">20</span>, width: <span class="number">80</span>, height: <span class="number">40</span>))</span><br><span class="line">        stateLabel.text = <span class="string">"未连接"</span></span><br><span class="line">        stateLabel.textColor = <span class="type">UIColor</span>.white</span><br><span class="line">        stateLabel.font = <span class="type">UIFont</span>.systemFont(ofSize: <span class="number">14</span>)</span><br><span class="line">        <span class="keyword">return</span> stateLabel</span><br><span class="line">    &#125;()</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 关闭按钮</span></span><br><span class="line">    <span class="keyword">var</span> closeButton: <span class="type">UIButton</span> = &#123;</span><br><span class="line">        <span class="keyword">let</span> closeButton = <span class="type">UIButton</span>(frame: <span class="type">CGRect</span>(x: <span class="type">UIScreen</span>.main.bounds.width - <span class="number">10</span> - <span class="number">44</span>, y: <span class="number">20</span>, width: <span class="number">44</span>, height: <span class="number">44</span>))</span><br><span class="line">        closeButton.setImage(<span class="type">UIImage</span>(named: <span class="string">"close_preview"</span>), <span class="keyword">for</span>: <span class="type">UIControl</span>.<span class="type">State</span>())</span><br><span class="line">        <span class="keyword">return</span> closeButton</span><br><span class="line">    &#125;()</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 摄像头</span></span><br><span class="line">    <span class="keyword">var</span> cameraButton: <span class="type">UIButton</span> = &#123;</span><br><span class="line">        <span class="keyword">let</span> cameraButton = <span class="type">UIButton</span>(frame: <span class="type">CGRect</span>(x: <span class="type">UIScreen</span>.main.bounds.width - <span class="number">54</span> * <span class="number">2</span>, y: <span class="number">20</span>, width: <span class="number">44</span>, height: <span class="number">44</span>))</span><br><span class="line">        cameraButton.setImage(<span class="type">UIImage</span>(named: <span class="string">"camra_preview"</span>), <span class="keyword">for</span>: <span class="type">UIControl</span>.<span class="type">State</span>())</span><br><span class="line">        <span class="keyword">return</span> cameraButton</span><br><span class="line">    &#125;()</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 摄像头</span></span><br><span class="line">    <span class="keyword">var</span> beautyButton: <span class="type">UIButton</span> = &#123;</span><br><span class="line">        <span class="keyword">let</span> beautyButton = <span class="type">UIButton</span>(frame: <span class="type">CGRect</span>(x: <span class="type">UIScreen</span>.main.bounds.width - <span class="number">54</span> * <span class="number">3</span>, y: <span class="number">20</span>, width: <span class="number">44</span>, height: <span class="number">44</span>))</span><br><span class="line">        beautyButton.setImage(<span class="type">UIImage</span>(named: <span class="string">"camra_beauty"</span>), <span class="keyword">for</span>: <span class="type">UIControl</span>.<span class="type">State</span>.selected)</span><br><span class="line">        beautyButton.setImage(<span class="type">UIImage</span>(named: <span class="string">"camra_beauty_close"</span>), <span class="keyword">for</span>: <span class="type">UIControl</span>.<span class="type">State</span>())</span><br><span class="line">        <span class="keyword">return</span> beautyButton</span><br><span class="line">    &#125;()</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 开始直播按钮</span></span><br><span class="line">    <span class="keyword">var</span> startLiveButton: <span class="type">UIButton</span> = &#123;</span><br><span class="line">        <span class="keyword">let</span> startLiveButton = <span class="type">UIButton</span>(frame: <span class="type">CGRect</span>(x: <span class="number">30</span>, y: <span class="type">UIScreen</span>.main.bounds.height - <span class="number">50</span>, width: <span class="type">UIScreen</span>.main.bounds.width - <span class="number">10</span> - <span class="number">44</span>, height: <span class="number">44</span>))</span><br><span class="line">        startLiveButton.layer.cornerRadius = <span class="number">22</span></span><br><span class="line">        startLiveButton.setTitleColor(<span class="type">UIColor</span>.black, <span class="keyword">for</span>:<span class="type">UIControl</span>.<span class="type">State</span>())</span><br><span class="line">        startLiveButton.setTitle(<span class="string">"开始直播"</span>, <span class="keyword">for</span>: <span class="type">UIControl</span>.<span class="type">State</span>())</span><br><span class="line">        startLiveButton.titleLabel!.font = <span class="type">UIFont</span>.systemFont(ofSize: <span class="number">14</span>)</span><br><span class="line">        startLiveButton.backgroundColor = <span class="type">UIColor</span>(red: <span class="number">50</span>/<span class="number">255.0</span>, green: <span class="number">32</span>/<span class="number">255.0</span>, blue: <span class="number">245</span>/<span class="number">255.0</span>, alpha: <span class="number">1</span>)<span class="comment">//colorLiteralRed: 50, green: 32, blue: 245, alpha: 1</span></span><br><span class="line">        <span class="keyword">return</span> startLiveButton</span><br><span class="line">    &#125;()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> iOS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 直播 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>直播系列一、创建本地rtmp服务器</title>
      <link href="/2019/11/08/%E7%9B%B4%E6%92%AD%E7%B3%BB%E5%88%97%E4%B8%80%E3%80%81%E5%88%9B%E5%BB%BA%E6%9C%AC%E5%9C%B0rtmp%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
      <url>/2019/11/08/%E7%9B%B4%E6%92%AD%E7%B3%BB%E5%88%97%E4%B8%80%E3%80%81%E5%88%9B%E5%BB%BA%E6%9C%AC%E5%9C%B0rtmp%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<h4 id="在网上搜索参考了大量文章，解决了N多Bug-终于实现了直播功能"><a href="#在网上搜索参考了大量文章，解决了N多Bug-终于实现了直播功能" class="headerlink" title="在网上搜索参考了大量文章，解决了N多Bug,终于实现了直播功能"></a>在网上搜索参考了大量文章，解决了N多Bug,终于实现了直播功能</h4><blockquote><p>nginx是非常优秀的开源服务器，用它来做hls或者rtmp流媒体服务器是非常不错的选择</p></blockquote><h4 id="1、安装Homebrow"><a href="#1、安装Homebrow" class="headerlink" title="1、安装Homebrow"></a>1、安装Homebrow</h4><p>（1）执行克隆命令,github的项目(<a href="https://github.com/denji/homebrew-nginx" target="_blank" rel="noopener">https://github.com/denji/homebrew-nginx</a>)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew tap denji/nginx</span><br></pre></td></tr></table></figure><blockquote><p>注意<code>brew tap homebrew/nginx</code>报下面的错误,<code>homebrew/nginx</code>已经弃用. 报错：<code>Error: homebrew/nginx was deprecated. This tap is now empty as all its formulae were migrated</code>.</p></blockquote><p>（2）执行安装命令:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install nginx-full --with-rtmp-module</span><br></pre></td></tr></table></figure><p>（3）至此nginx和rtmp模块就安装好了，下面开始来配置nginx的rtmp模块<br> 接下来看一下nginx安装在什么地方:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew info nginx-full</span><br></pre></td></tr></table></figure><p><em>打印信息</em></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">The default port has been <span class="built_in">set</span> <span class="keyword">in</span> /usr/<span class="built_in">local</span>/etc/nginx/nginx.conf to 8080 so that</span><br><span class="line">nginx can run without sudo.</span><br><span class="line"></span><br><span class="line">nginx will load all files <span class="keyword">in</span> /usr/<span class="built_in">local</span>/etc/nginx/servers/.</span><br><span class="line"></span><br><span class="line">- Tips -</span><br><span class="line">Run port 80:</span><br><span class="line"> $ sudo chown root:wheel /usr/<span class="built_in">local</span>/opt/nginx-full/bin/nginx</span><br><span class="line"> $ sudo chmod u+s /usr/<span class="built_in">local</span>/opt/nginx-full/bin/nginx</span><br><span class="line">Reload config:</span><br><span class="line"> $ nginx -s reload</span><br><span class="line">Reopen Logfile:</span><br><span class="line"> $ nginx -s reopen</span><br><span class="line">Stop process:</span><br><span class="line"> $ nginx -s stop</span><br><span class="line">Waiting on <span class="built_in">exit</span> process</span><br><span class="line"> $ nginx -s quit</span><br><span class="line"></span><br><span class="line">To have launchd start denji/nginx/nginx-full now and restart at login:</span><br><span class="line">  brew services start denji/nginx/nginx-full</span><br><span class="line">Or, <span class="keyword">if</span> you don<span class="string">'t want/need a background service you can just run:</span></span><br><span class="line"><span class="string">  nginx</span></span><br></pre></td></tr></table></figure><p>nginx安装所在位置:</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/opt/nginx-full/bin/nginx</span><br></pre></td></tr></table></figure><p>nginx配置文件所在位置:</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/etc/nginx/nginx.conf</span><br></pre></td></tr></table></figure><p>（4）启动nginx,执行命令:</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">sudo</span>  nginx</span><br></pre></td></tr></table></figure><h4 id="2、测试nginx："><a href="#2、测试nginx：" class="headerlink" title="2、测试nginx："></a>2、测试nginx：</h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在浏览器中打开如下地址：http://localhost:8080入过</span><br></pre></td></tr></table></figure><p>如果出现<code>Welcome to nginx!</code>,说明安装成功.</p><p>如果终端上提示：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx: [emerg] bind() to 0.0.0.0:8080 failed (48: Address already in use)</span><br></pre></td></tr></table></figure><p>则表示8080端口被占用了, 查看端口PID</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">lsof</span> -i tcp:<span class="number">8080</span></span><br></pre></td></tr></table></figure><p>kill掉占用8080端口的PID</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">kill</span> <span class="number">9603</span>（这里替换成占用<span class="number">8080</span>端口的PID）</span><br></pre></td></tr></table></figure><h4 id="3、重新加载nginx的配置文件"><a href="#3、重新加载nginx的配置文件" class="headerlink" title="3、重新加载nginx的配置文件"></a>3、重新加载nginx的配置文件</h4><p>（1）修改nginx.conf这个配置文件，配置rtmp<br> 复制nginx配置文件所在位置:</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">vi</span> /usr/local/etc/nginx/nginx.conf</span><br></pre></td></tr></table></figure><p>（2）执行上面命令会直接编辑,或者直接前往当前文件用记事本打开.<br> 滚动到最后面(最后一个}后面即可，不能在{}里面)，添加一下代码，进行配置，最后记得保存。</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">rtmp</span> &#123;  </span><br><span class="line">  <span class="section">server</span> &#123;  </span><br><span class="line">      <span class="attribute">listen</span> <span class="number">1935</span>;  </span><br><span class="line">    <span class="comment">#直播流配置  </span></span><br><span class="line">      <span class="attribute">application</span> rtmplive &#123;  </span><br><span class="line">          <span class="attribute">live</span> <span class="literal">on</span>;  </span><br><span class="line">          <span class="comment">#为 rtmp 引擎设置最大连接数。默认为 off  </span></span><br><span class="line">          <span class="attribute">max_connections</span> <span class="number">1024</span>;  </span><br><span class="line">       &#125;  </span><br><span class="line">      <span class="attribute">application</span> hls&#123;  </span><br><span class="line">          <span class="attribute">live</span> <span class="literal">on</span>;  </span><br><span class="line">          <span class="attribute">hls</span> <span class="literal">on</span>;  </span><br><span class="line">          <span class="attribute">hls_path</span> /usr/local/var/www/hls;  </span><br><span class="line">          <span class="attribute">hls_fragment</span> <span class="number">1s</span>;  </span><br><span class="line">      &#125;  </span><br><span class="line">   &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>（3）编辑完成之后,执行一下重新加载配置文件命令:</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">sudo</span> nginx -s reload</span><br></pre></td></tr></table></figure><blockquote><p>需要输入开机密码 sudo不加的话会报错： <code>nginx: [alert] could not open error log file: open() &quot;/usr/local/var/log/nginx/error.log&quot; failed (13: Permission denied)</code>该命令执行后会出来一个弹框询问是否允许 nginx 加入到网络中，选择允许即可。</p></blockquote><p>（4）重启nginx：</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">sudo</span> /usr/local/opt/nginx-full/bin/nginx -s reload</span><br></pre></td></tr></table></figure><p>PS：如果你之前不是按照我上面的方法按照的 nginx，在执行 sudo nginx -s reload 时报了如下错，建议你卸载 nginx后按照我上面的步骤重新安装nginx。<br> nginx: [emerg] unknown directive “rtmp” in /usr/local/etc/nginx/nginx.conf:119</p><p><strong>nginx常用方法:</strong></p><blockquote><p>出现权限不足的错误提示时，命令前加上 sudo</p></blockquote><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">重新加载配置文件:  nginx -s reload</span><br><span class="line">重新加载日志:     nginx -s reopen </span><br><span class="line">停止 nginx:      nginx -s stop  </span><br><span class="line">有序退出 nginx:   nginx -s quit</span><br></pre></td></tr></table></figure><h4 id="4、安装ffmepg工具"><a href="#4、安装ffmepg工具" class="headerlink" title="4、安装ffmepg工具"></a>4、安装ffmepg工具</h4><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">brew</span> install ffmpeg</span><br></pre></td></tr></table></figure><h4 id="5、本地推流"><a href="#5、本地推流" class="headerlink" title="5、本地推流"></a>5、本地推流</h4><p>(1)、搭建本地视频直播，比如电脑上面有很多电影，我们可以通过推流的形式实现实时直播：</p><p>A：在电脑上播放推流内容<br> 安装一个支持rtmp协议的视频播放器，Mac下可以用VLC<br> 下载<a href="http://soft.macx.cn/3164.htm" target="_blank" rel="noopener">VLC</a></p><p> 本地下载一个视频文件路径为 /Users/iOS002/Desktop/loginmovie.mp4</p><p> 执行以下命令:</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">ffmpeg</span> -re -i /Users/iOS002/Desktop/loginmovie.mp4  -vcodec libx264 -acodec aac -strict -<span class="number">2</span> -f flv rtmp://localhost:1935/rtmplive/room</span><br></pre></td></tr></table></figure><p>用vlc 然后打开 VLC 中 的 file – Open Network, 直接输入代码中的 url:</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rtmp://localhost:1935/rtmplive/room</span><br></pre></td></tr></table></figure><p>即可以通过VLC来播放终端中实时推过来的 RTMP流。</p><p>B：通过手机观看电脑的推流</p><p> 通过集成 ijkplayer 把地址换成推流的地址即可观看</p><p> 播放端用的针对RTMP优化过的ijkplayer，ijkplayer是基于FFmpeg的跨平台播放器，这个开源项目已经被多个 App 使用，其中映客、美拍和斗鱼使用了 ijkplayer。</p><p>(2)、桌面录制或者分享</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">ffmpeg</span> -f avfoundation -i <span class="string">"1"</span> -vcodec libx264 -preset ultrafast -acodec libfaac -f flv rtmp://localhost:1935/rtmplive/room</span><br></pre></td></tr></table></figure><p>(3)、桌面+麦克风</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">ffmpeg</span> -f avfoundation -i <span class="string">"1:0"</span> -vcodec libx264 -preset ultrafast -acodec libmp3lame -ar <span class="number">44100</span> -ac <span class="number">1</span> -f flv rtmp://localhost:1935/rtmplive/room</span><br></pre></td></tr></table></figure><p>(4)、桌面+麦克风，并且还要摄像头拍摄到自己</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">ffmpeg</span> -f avfoundation -framerate <span class="number">30</span> -i <span class="string">"1:0"</span> \-f avfoundation -framerate <span class="number">30</span> -video_size 640x480 -i <span class="string">"0"</span> \-c:v libx264 -preset ultrafast \-filter_complex <span class="string">'overlay=main_w-overlay_w-10:main_h-overlay_h-10'</span> -acodec libmp3lame -ar <span class="number">44100</span> -ac <span class="number">1</span> -f flv rtmp://localhost:2016/rtmplive/room</span><br></pre></td></tr></table></figure><h4 id="6、手机推流"><a href="#6、手机推流" class="headerlink" title="6、手机推流"></a>6、手机推流</h4><p>可以用  LFLiveKit 集成到工程进行推流，LFLiveKit已经帮我们实现了视频采集、后台录制、美颜功能、支持h264、AAC编码，动态改变速率，RTMP传输等，我们开发的时候就很简单了只需把localhost:8080换成自己电脑的ip地址即可:</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rtmp://10.0.0.17:1935/rtmplive/room</span><br></pre></td></tr></table></figure><p>注意通过网络查看电脑的局域网 IP替换掉 localhost 即可。</p><p>A：通过VLC观看手机的推流</p><p> 打开手机直播后，然后在电脑上打开VLC（同上），就能实现手机推流，在电脑上拉流播放了！！(注：手机需要和电脑连接同一网络！)</p><p>B：通过手机观看手机的推流（这也就是市面上的那些直播App的最终实现形式了）</p><p> 通过集成 ijkplayer 把地址换成推流的地址即可观看。</p><p>PS：一个很隐蔽的报错：</p><p>如果你发现你的推流地址和拉流地址在电脑上都是好好的，但是通过手机实现的时候就是报错，那么估计就是因为Mac防火墙的问题。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ERROR: PILI_RTMP_Connect0, failed to connect socket. 60 (Operation timed out)</span><br><span class="line">ERROR: WriteN, PILI_RTMP send error 9, Bad file descriptor, (140 bytes)</span><br><span class="line">ERROR: PILI_RTMP_Connect0, failed to connect socket. 60 (Operation timed out)</span><br><span class="line">ERROR: WriteN, PILI_RTMP send error 9, Bad file descriptor, (140 bytes)</span><br></pre></td></tr></table></figure><p>关闭 Mac 的防火墙即可解决问题。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">偏好设置-&gt;安全性与隐私-&gt;防火墙</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> iOS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 直播 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>shared_preferences数据存储</title>
      <link href="/2019/10/19/shared_preferences%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/"/>
      <url>/2019/10/19/shared_preferences%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/</url>
      
        <content type="html"><![CDATA[<h3 id="shared-preferences库"><a href="#shared-preferences库" class="headerlink" title="shared_preferences库"></a>shared_preferences库</h3><blockquote><p>shared_preferences库同时支持Android和ios平台,存键值对信息，进行数据本地持久化存储。</p></blockquote><h4 id="引用方法"><a href="#引用方法" class="headerlink" title="引用方法"></a>引用方法</h4><ol><li><p>在pubspec.yaml文件中添加依赖</p><p> <code>shared_preferences: ^0.5.3+4</code><a href="https://pub.dev/packages/shared_preferences" target="_blank" rel="noopener">-&gt;查看最新版本</a></p></li><li><p>执行$ flutter packages get命令 下载插件</p></li><li><p>在使用的文件中导入：</p><p> <code>import &#39;package:shared_preferences/shared_preferences.dart&#39;;</code></p></li></ol><h4 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">SharedPreferences sharedPreferences = <span class="keyword">await</span> SharedPreferences.getInstance();</span><br><span class="line"></span><br><span class="line">sharedPreferences.setString(<span class="string">"name"</span>, <span class="string">"hehe"</span>);</span><br><span class="line">sharedPreferences.setInt(<span class="string">"age"</span>, <span class="number">18</span>);</span><br><span class="line">sharedPreferences.setDouble(<span class="string">"height"</span>, <span class="number">1.72</span>);</span><br><span class="line">sharedPreferences.setBool(<span class="string">"sex"</span>, <span class="keyword">true</span>);<span class="comment">//true 表示男 false表示女</span></span><br><span class="line">sharedPreferences.setStringList(<span class="string">"like"</span>, [<span class="string">"MV"</span>,<span class="string">"Music"</span>,<span class="string">"Pic"</span>]);</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"=========get****("</span>key<span class="string">")取出存储的数据=============="</span>);</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"姓名:"</span>+ sharedPreferences.getString(<span class="string">"name"</span>));</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"年龄:"</span> + sharedPreferences.getInt(<span class="string">"age"</span>).toString());</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"身高:"</span>+ sharedPreferences.getDouble(<span class="string">"height"</span>).toString());</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"性别:"</span>+ ((sharedPreferences.getBool(<span class="string">"sex"</span>) == <span class="keyword">true</span>) ? <span class="string">"男"</span>:<span class="string">"女"</span>));</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"爱好:"</span>+ sharedPreferences.getStringList(<span class="string">"like"</span>).toString());</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"========getKeys()取出存储的所有key值============="</span>);</span><br><span class="line"><span class="built_in">print</span>(sharedPreferences.getKeys());</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"========set***("</span>key<span class="string">")给已经存在的key重新赋值============="</span>);</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"姓名:"</span>+ sharedPreferences.getString(<span class="string">"name"</span>));</span><br><span class="line">sharedPreferences.setString(<span class="string">"name"</span>, <span class="string">"feiyv"</span>);</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"姓名:"</span>+ sharedPreferences.getString(<span class="string">"name"</span>));</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"========containsKey("</span>key<span class="string">")判断存储的是否有某个Key值============="</span>);</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"name是否存在："</span> + sharedPreferences.containsKey(<span class="string">"name"</span>));</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"rename是否存在："</span> + sharedPreferences.containsKey(<span class="string">"rename"</span>));</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"========remove("</span>key<span class="string">")删除单个Key数据============="</span>);</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"年龄:"</span> + sharedPreferences.getInt(<span class="string">"age"</span>).toString());</span><br><span class="line">sharedPreferences.remove(<span class="string">"age"</span>);</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"年龄:"</span> + sharedPreferences.getInt(<span class="string">"age"</span>).toString());</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"========clear清除所有数据============="</span>);</span><br><span class="line">sharedPreferences.clear();</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"sharedPreferences.clear();"</span>);</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"name是否存在："</span> + sharedPreferences.containsKey(<span class="string">"name"</span>).toString());</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"所有的key值："</span>+ sharedPreferences.getKeys().toString());</span><br></pre></td></tr></table></figure><h4 id="打印数据："><a href="#打印数据：" class="headerlink" title="打印数据："></a>打印数据：</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">flutter: =========<span class="keyword">get</span>****(<span class="string">"key"</span>)取出存储的数据==============</span><br><span class="line">flutter: 姓名:hehe</span><br><span class="line">flutter: 年龄:<span class="number">18</span></span><br><span class="line">flutter: 身高:<span class="number">1.72</span></span><br><span class="line">flutter: 性别:男</span><br><span class="line">flutter: 爱好:[MV, Music, Pic]</span><br><span class="line"></span><br><span class="line">flutter: ========getKeys()取出存储的所有key值=============</span><br><span class="line">flutter: &#123;name, age, height, sex, like&#125;</span><br><span class="line"></span><br><span class="line">flutter: ========<span class="keyword">set</span>****(<span class="string">"key"</span>)给已经存在的key重新赋值=============</span><br><span class="line">flutter: 姓名:hehe</span><br><span class="line">flutter: 姓名:feiyv</span><br><span class="line"></span><br><span class="line">flutter: ========containsKey(<span class="string">"key"</span>)判断存储的是否有某个Key值=============</span><br><span class="line">flutter: name是否存在：<span class="keyword">true</span></span><br><span class="line">flutter: rename是否存在：<span class="keyword">false</span></span><br><span class="line"></span><br><span class="line">flutter: ========remove(<span class="string">"key"</span>)删除单个Key数据=============</span><br><span class="line">flutter: 年龄:<span class="number">18</span></span><br><span class="line">flutter: 年龄:<span class="keyword">null</span></span><br><span class="line"></span><br><span class="line">flutter: ========clear清除所有数据=============</span><br><span class="line">flutter: sharedPreferences.clear();</span><br><span class="line">flutter: name是否存在：<span class="keyword">false</span></span><br><span class="line">flutter: 所有的key值：&#123;&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> shared_preferences </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>path_provider获取系统目录</title>
      <link href="/2019/10/13/path_provider%E8%8E%B7%E5%8F%96%E7%B3%BB%E7%BB%9F%E7%9B%AE%E5%BD%95/"/>
      <url>/2019/10/13/path_provider%E8%8E%B7%E5%8F%96%E7%B3%BB%E7%BB%9F%E7%9B%AE%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<h3 id="PathProvider-插件"><a href="#PathProvider-插件" class="headerlink" title="PathProvider 插件"></a>PathProvider 插件</h3><blockquote><p>PathProvider 访问设备文件系统上的常用位置。</p></blockquote><h4 id="使用方法："><a href="#使用方法：" class="headerlink" title="使用方法："></a>使用方法：</h4><ol><li><p>在pubspec.yaml文件中添加 PathProvider 插件</p><p><code>path_provider: ^*.*.*</code><a href="https://pub.dartlang.org/packages/path_provider" target="_blank" rel="noopener">查看最新版本</a></p></li><li><p>在文件中导入：</p><p><code>import &#39;package:path_provider/path_provider.dart&#39;;</code></p></li></ol><ol><li><p><code>DocumentsDirectory</code></p><blockquote><p> 文档目录，用于存储只有自己可以访问的文件。只有当应用程序被卸载时，系统才会清除该目录。在<code>iOS</code>上，这对应于<code>NSDocumentDirectory</code>。在<code>Android</code>上，这是<code>AppData</code>目录。 </p></blockquote><p> <code>String docDir = (await getApplicationDocumentsDirectory()).path;</code></p></li><li><p><code>TemporaryDirectory</code></p><blockquote><p>系统可随时清除的临时目录（缓存）。在<code>iOS</code>上，这对应于<code>NSTemporaryDirectory()</code> 返回的值。在<code>Android</code>上，这是<code>getCacheDir()</code>返回的目录。</p></blockquote><p> <code>String tempDir = (await getTemporaryDirectory()).path;</code></p></li><li><p><code>SupportDirectory</code></p><blockquote><p>在iOS上，它使用<code>NSApplicationSupportDirectory</code> 来获取目录。在Android上，这是<code>getFilesDir</code>返回的目录。</p></blockquote><p> <code>String supportDir = (await getApplicationSupportDirectory()).path;</code></p></li><li><p><code>ExternalStorageDirectory</code></p><blockquote><p>获取存储卡路径,仅在<code>Android</code>上中有效，<code>iOS</code>系统无此方法，可以通过<code>Platform.isIOS</code>来判断当前系统是否是<code>iOS</code>系统</p></blockquote><p> <code>String extStorageDir = (await getExternalStorageDirectory()).path;</code></p></li></ol><p><a href="https://github.com/flutter/plugins/tree/master/packages/path_provider" target="_blank" rel="noopener">PathProvider-&gt;GitHub</a></p><p><a href="https://pub.dartlang.org/packages/path_provider" target="_blank" rel="noopener">PathProvider-&gt;Pub</a></p>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> path_provider </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pip3 install scrapy</title>
      <link href="/2019/08/31/pip3installscrapy/"/>
      <url>/2019/08/31/pip3installscrapy/</url>
      
        <content type="html"><![CDATA[<h2 id="l-192---python3-m-pip-install-–upgrade-pip"><a href="#l-192---python3-m-pip-install-–upgrade-pip" class="headerlink" title="l@192  ~  python3 -m pip install –upgrade pip"></a>l@192  ~  python3 -m pip install –upgrade pip</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">WARNING: Retrying (Retry(total&#x3D;4, connect&#x3D;None, read&#x3D;None, redirect&#x3D;None, status&#x3D;None)) after connection broken by &#39;ReadTimeoutError(&quot;HTTPSConnectionPool(host&#x3D;&#39;pypi.org&#39;, port&#x3D;443): Read timed out. (read timeout&#x3D;15)&quot;)&#39;: &#x2F;simple&#x2F;pip&#x2F;</span><br><span class="line">WARNING: Retrying (Retry(total&#x3D;3, connect&#x3D;None, read&#x3D;None, redirect&#x3D;None, status&#x3D;None)) after connection broken by &#39;ReadTimeoutError(&quot;HTTPSConnectionPool(host&#x3D;&#39;pypi.org&#39;, port&#x3D;443): Read timed out. (read timeout&#x3D;15)&quot;)&#39;: &#x2F;simple&#x2F;pip&#x2F;</span><br><span class="line">WARNING: Retrying (Retry(total&#x3D;2, connect&#x3D;None, read&#x3D;None, redirect&#x3D;None, status&#x3D;None)) after connection broken by &#39;ReadTimeoutError(&quot;HTTPSConnectionPool(host&#x3D;&#39;pypi.org&#39;, port&#x3D;443): Read timed out. (read timeout&#x3D;15)&quot;)&#39;: &#x2F;simple&#x2F;pip&#x2F;</span><br><span class="line">WARNING: Retrying (Retry(total&#x3D;1, connect&#x3D;None, read&#x3D;None, redirect&#x3D;None, status&#x3D;None)) after connection broken by &#39;ReadTimeoutError(&quot;HTTPSConnectionPool(host&#x3D;&#39;pypi.org&#39;, port&#x3D;443): Read timed out. (read timeout&#x3D;15)&quot;)&#39;: &#x2F;simple&#x2F;pip&#x2F;</span><br><span class="line">WARNING: Retrying (Retry(total&#x3D;0, connect&#x3D;None, read&#x3D;None, redirect&#x3D;None, status&#x3D;None)) after connection broken by &#39;ReadTimeoutError(&quot;HTTPSConnectionPool(host&#x3D;&#39;pypi.org&#39;, port&#x3D;443): Read timed out. (read timeout&#x3D;15)&quot;)&#39;: &#x2F;simple&#x2F;pip&#x2F;</span><br><span class="line">Requirement already up-to-date: pip in &#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages (19.1.1)</span><br></pre></td></tr></table></figure><h2 id="l-192---pip3-install-scrapy"><a href="#l-192---pip3-install-scrapy" class="headerlink" title="l@192  ~  pip3 install scrapy"></a>l@192  ~  pip3 install scrapy</h2> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">Collecting scrapy</span><br><span class="line">  Downloading https:&#x2F;&#x2F;files.pythonhosted.org&#x2F;packages&#x2F;29&#x2F;4b&#x2F;585e8e111ffb01466c59281f34febb13ad1a95d7fb3919fd57c33fc732a5&#x2F;Scrapy-1.7.3-py2.py3-none-any.whl (234kB)</span><br><span class="line">     |████████▍                       | 61kB 11kB&#x2F;s eta 0:00:15ERROR: Exception:</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_vendor&#x2F;urllib3&#x2F;response.py&quot;, line 360, in _error_catcher</span><br><span class="line">    yield</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_vendor&#x2F;urllib3&#x2F;response.py&quot;, line 442, in read</span><br><span class="line">    data &#x3D; self._fp.read(amt)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_vendor&#x2F;cachecontrol&#x2F;filewrapper.py&quot;, line 62, in read</span><br><span class="line">    data &#x3D; self.__fp.read(amt)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;Cellar&#x2F;python&#x2F;3.7.4&#x2F;Frameworks&#x2F;Python.framework&#x2F;Versions&#x2F;3.7&#x2F;lib&#x2F;python3.7&#x2F;http&#x2F;client.py&quot;, line 457, in read</span><br><span class="line">    n &#x3D; self.readinto(b)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;Cellar&#x2F;python&#x2F;3.7.4&#x2F;Frameworks&#x2F;Python.framework&#x2F;Versions&#x2F;3.7&#x2F;lib&#x2F;python3.7&#x2F;http&#x2F;client.py&quot;, line 501, in readinto</span><br><span class="line">    n &#x3D; self.fp.readinto(b)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;Cellar&#x2F;python&#x2F;3.7.4&#x2F;Frameworks&#x2F;Python.framework&#x2F;Versions&#x2F;3.7&#x2F;lib&#x2F;python3.7&#x2F;socket.py&quot;, line 589, in readinto</span><br><span class="line">    return self._sock.recv_into(b)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;Cellar&#x2F;python&#x2F;3.7.4&#x2F;Frameworks&#x2F;Python.framework&#x2F;Versions&#x2F;3.7&#x2F;lib&#x2F;python3.7&#x2F;ssl.py&quot;, line 1071, in recv_into</span><br><span class="line">    return self.read(nbytes, buffer)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;Cellar&#x2F;python&#x2F;3.7.4&#x2F;Frameworks&#x2F;Python.framework&#x2F;Versions&#x2F;3.7&#x2F;lib&#x2F;python3.7&#x2F;ssl.py&quot;, line 929, in read</span><br><span class="line">    return self._sslobj.read(len, buffer)</span><br><span class="line">socket.timeout: The read operation timed out</span><br><span class="line"></span><br><span class="line">During handling of the above exception, another exception occurred:</span><br><span class="line"></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;cli&#x2F;base_command.py&quot;, line 178, in main</span><br><span class="line">    status &#x3D; self.run(options, args)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;commands&#x2F;install.py&quot;, line 352, in run</span><br><span class="line">    resolver.resolve(requirement_set)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;resolve.py&quot;, line 131, in resolve</span><br><span class="line">    self._resolve_one(requirement_set, req)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;resolve.py&quot;, line 294, in _resolve_one</span><br><span class="line">    abstract_dist &#x3D; self._get_abstract_dist_for(req_to_install)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;resolve.py&quot;, line 242, in _get_abstract_dist_for</span><br><span class="line">    self.require_hashes</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;operations&#x2F;prepare.py&quot;, line 347, in prepare_linked_requirement</span><br><span class="line">    progress_bar&#x3D;self.progress_bar</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;download.py&quot;, line 886, in unpack_url</span><br><span class="line">    progress_bar&#x3D;progress_bar</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;download.py&quot;, line 746, in unpack_http_url</span><br><span class="line">    progress_bar)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;download.py&quot;, line 954, in _download_http_url</span><br><span class="line">    _download_url(resp, link, content_file, hashes, progress_bar)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;download.py&quot;, line 683, in _download_url</span><br><span class="line">    hashes.check_against_chunks(downloaded_chunks)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;utils&#x2F;hashes.py&quot;, line 62, in check_against_chunks</span><br><span class="line">    for chunk in chunks:</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;download.py&quot;, line 651, in written_chunks</span><br><span class="line">    for chunk in chunks:</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;utils&#x2F;ui.py&quot;, line 156, in iter</span><br><span class="line">    for x in it:</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;download.py&quot;, line 640, in resp_read</span><br><span class="line">    decode_content&#x3D;False):</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_vendor&#x2F;urllib3&#x2F;response.py&quot;, line 494, in stream</span><br><span class="line">    data &#x3D; self.read(amt&#x3D;amt, decode_content&#x3D;decode_content)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_vendor&#x2F;urllib3&#x2F;response.py&quot;, line 459, in read</span><br><span class="line">    raise IncompleteRead(self._fp_bytes_read, self.length_remaining)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;Cellar&#x2F;python&#x2F;3.7.4&#x2F;Frameworks&#x2F;Python.framework&#x2F;Versions&#x2F;3.7&#x2F;lib&#x2F;python3.7&#x2F;contextlib.py&quot;, line 130, in __exit__</span><br><span class="line">    self.gen.throw(type, value, traceback)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_vendor&#x2F;urllib3&#x2F;response.py&quot;, line 365, in _error_catcher</span><br><span class="line">    raise ReadTimeoutError(self._pool, None, &#39;Read timed out.&#39;)</span><br><span class="line">pip._vendor.urllib3.exceptions.ReadTimeoutError: HTTPSConnectionPool(host&#x3D;&#39;files.pythonhosted.org&#39;, port&#x3D;443): Read timed out.</span><br></pre></td></tr></table></figure><h2 id="✘-l-192---pip3-install-scrapy"><a href="#✘-l-192---pip3-install-scrapy" class="headerlink" title="** ✘ l@192  ~  pip3 install scrapy"></a>** ✘ l@192  ~  pip3 install scrapy</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">Collecting scrapy</span><br><span class="line">  WARNING: Retrying (Retry(total&#x3D;4, connect&#x3D;None, read&#x3D;None, redirect&#x3D;None, status&#x3D;None)) after connection broken by &#39;ReadTimeoutError(&quot;HTTPSConnectionPool(host&#x3D;&#39;pypi.org&#39;, port&#x3D;443): Read timed out. (read timeout&#x3D;15)&quot;)&#39;: &#x2F;simple&#x2F;scrapy&#x2F;</span><br><span class="line">  WARNING: Retrying (Retry(total&#x3D;3, connect&#x3D;None, read&#x3D;None, redirect&#x3D;None, status&#x3D;None)) after connection broken by &#39;ReadTimeoutError(&quot;HTTPSConnectionPool(host&#x3D;&#39;pypi.org&#39;, port&#x3D;443): Read timed out. (read timeout&#x3D;15)&quot;)&#39;: &#x2F;simple&#x2F;scrapy&#x2F;</span><br><span class="line">  Downloading https:&#x2F;&#x2F;files.pythonhosted.org&#x2F;packages&#x2F;29&#x2F;4b&#x2F;585e8e111ffb01466c59281f34febb13ad1a95d7fb3919fd57c33fc732a5&#x2F;Scrapy-1.7.3-py2.py3-none-any.whl (234kB)</span><br><span class="line">ERROR: Exception:</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_vendor&#x2F;urllib3&#x2F;response.py&quot;, line 360, in _error_catcher</span><br><span class="line">    yield</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_vendor&#x2F;urllib3&#x2F;response.py&quot;, line 442, in read</span><br><span class="line">    data &#x3D; self._fp.read(amt)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_vendor&#x2F;cachecontrol&#x2F;filewrapper.py&quot;, line 62, in read</span><br><span class="line">    data &#x3D; self.__fp.read(amt)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;Cellar&#x2F;python&#x2F;3.7.4&#x2F;Frameworks&#x2F;Python.framework&#x2F;Versions&#x2F;3.7&#x2F;lib&#x2F;python3.7&#x2F;http&#x2F;client.py&quot;, line 457, in read</span><br><span class="line">    n &#x3D; self.readinto(b)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;Cellar&#x2F;python&#x2F;3.7.4&#x2F;Frameworks&#x2F;Python.framework&#x2F;Versions&#x2F;3.7&#x2F;lib&#x2F;python3.7&#x2F;http&#x2F;client.py&quot;, line 501, in readinto</span><br><span class="line">    n &#x3D; self.fp.readinto(b)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;Cellar&#x2F;python&#x2F;3.7.4&#x2F;Frameworks&#x2F;Python.framework&#x2F;Versions&#x2F;3.7&#x2F;lib&#x2F;python3.7&#x2F;socket.py&quot;, line 589, in readinto</span><br><span class="line">    return self._sock.recv_into(b)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;Cellar&#x2F;python&#x2F;3.7.4&#x2F;Frameworks&#x2F;Python.framework&#x2F;Versions&#x2F;3.7&#x2F;lib&#x2F;python3.7&#x2F;ssl.py&quot;, line 1071, in recv_into</span><br><span class="line">    return self.read(nbytes, buffer)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;Cellar&#x2F;python&#x2F;3.7.4&#x2F;Frameworks&#x2F;Python.framework&#x2F;Versions&#x2F;3.7&#x2F;lib&#x2F;python3.7&#x2F;ssl.py&quot;, line 929, in read</span><br><span class="line">    return self._sslobj.read(len, buffer)</span><br><span class="line">socket.timeout: The read operation timed out</span><br><span class="line"></span><br><span class="line">During handling of the above exception, another exception occurred:</span><br><span class="line"></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;cli&#x2F;base_command.py&quot;, line 178, in main</span><br><span class="line">    status &#x3D; self.run(options, args)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;commands&#x2F;install.py&quot;, line 352, in run</span><br><span class="line">    resolver.resolve(requirement_set)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;resolve.py&quot;, line 131, in resolve</span><br><span class="line">    self._resolve_one(requirement_set, req)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;resolve.py&quot;, line 294, in _resolve_one</span><br><span class="line">    abstract_dist &#x3D; self._get_abstract_dist_for(req_to_install)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;resolve.py&quot;, line 242, in _get_abstract_dist_for</span><br><span class="line">    self.require_hashes</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;operations&#x2F;prepare.py&quot;, line 347, in prepare_linked_requirement</span><br><span class="line">    progress_bar&#x3D;self.progress_bar</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;download.py&quot;, line 886, in unpack_url</span><br><span class="line">    progress_bar&#x3D;progress_bar</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;download.py&quot;, line 746, in unpack_http_url</span><br><span class="line">    progress_bar)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;download.py&quot;, line 954, in _download_http_url</span><br><span class="line">    _download_url(resp, link, content_file, hashes, progress_bar)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;download.py&quot;, line 683, in _download_url</span><br><span class="line">    hashes.check_against_chunks(downloaded_chunks)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;utils&#x2F;hashes.py&quot;, line 62, in check_against_chunks</span><br><span class="line">    for chunk in chunks:</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;download.py&quot;, line 651, in written_chunks</span><br><span class="line">    for chunk in chunks:</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;utils&#x2F;ui.py&quot;, line 156, in iter</span><br><span class="line">    for x in it:</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;download.py&quot;, line 640, in resp_read</span><br><span class="line">    decode_content&#x3D;False):</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_vendor&#x2F;urllib3&#x2F;response.py&quot;, line 494, in stream</span><br><span class="line">    data &#x3D; self.read(amt&#x3D;amt, decode_content&#x3D;decode_content)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_vendor&#x2F;urllib3&#x2F;response.py&quot;, line 459, in read</span><br><span class="line">    raise IncompleteRead(self._fp_bytes_read, self.length_remaining)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;Cellar&#x2F;python&#x2F;3.7.4&#x2F;Frameworks&#x2F;Python.framework&#x2F;Versions&#x2F;3.7&#x2F;lib&#x2F;python3.7&#x2F;contextlib.py&quot;, line 130, in __exit__</span><br><span class="line">    self.gen.throw(type, value, traceback)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_vendor&#x2F;urllib3&#x2F;response.py&quot;, line 365, in _error_catcher</span><br><span class="line">    raise ReadTimeoutError(self._pool, None, &#39;Read timed out.&#39;)</span><br><span class="line">pip._vendor.urllib3.exceptions.ReadTimeoutError: HTTPSConnectionPool(host&#x3D;&#39;files.pythonhosted.org&#39;, port&#x3D;443): Read timed out.</span><br><span class="line"> ✘ l@192  ~  sudo pip3 install lxml</span><br><span class="line">Password:</span><br><span class="line">WARNING: The directory &#39;&#x2F;Users&#x2F;l&#x2F;Library&#x2F;Caches&#x2F;pip&#x2F;http&#39; or its parent directory is not owned by the current user and the cache has been disabled. Please check the permissions and owner of that directory. If executing pip with sudo, you may want sudo&#39;s -H flag.</span><br><span class="line">WARNING: The directory &#39;&#x2F;Users&#x2F;l&#x2F;Library&#x2F;Caches&#x2F;pip&#39; or its parent directory is not owned by the current user and caching wheels has been disabled. check the permissions and owner of that directory. If executing pip with sudo, you may want sudo&#39;s -H flag.</span><br><span class="line">Collecting lxml</span><br><span class="line">  ERROR: Could not find a version that satisfies the requirement lxml (from versions: none)</span><br><span class="line">ERROR: No matching distribution found for lxml</span><br></pre></td></tr></table></figure><h2 id="✘-l-192---pip3-install-Scrapy"><a href="#✘-l-192---pip3-install-Scrapy" class="headerlink" title="✘ l@192  ~  pip3 install Scrapy"></a>✘ l@192  ~  pip3 install Scrapy</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Collecting Scrapy</span><br><span class="line">  WARNING: Retrying (Retry(total&#x3D;4, connect&#x3D;None, read&#x3D;None, redirect&#x3D;None, status&#x3D;None)) after connection broken by &#39;ReadTimeoutError(&quot;HTTPSConnectionPool(host&#x3D;&#39;files.pythonhosted.org&#39;, port&#x3D;443): Read timed out. (read timeout&#x3D;15)&quot;)&#39;: &#x2F;packages&#x2F;29&#x2F;4b&#x2F;585e8e111ffb01466c59281f34febb13ad1a95d7fb3919fd57c33fc732a5&#x2F;Scrapy-1.7.3-py2.py3-none-any.whl</span><br><span class="line">  Downloading https:&#x2F;&#x2F;files.pythonhosted.org&#x2F;packages&#x2F;29&#x2F;4b&#x2F;585e8e111ffb01466c59281f34febb13ad1a95d7fb3919fd57c33fc732a5&#x2F;Scrapy-1.7.3-py2.py3-none-any.whl (234kB)</span><br><span class="line">     |████████████████████████████████| 235kB 83kB&#x2F;s</span><br><span class="line">Collecting pyOpenSSL (from Scrapy)</span><br><span class="line">  ERROR: Could not find a version that satisfies the requirement pyOpenSSL (from Scrapy) (from versions: none)</span><br><span class="line">ERROR: No matching distribution found for pyOpenSSL (from Scrapy)</span><br></pre></td></tr></table></figure><h2 id="✘-l-192---pip3-install-Scrapy-1"><a href="#✘-l-192---pip3-install-Scrapy-1" class="headerlink" title="✘ l@192  ~  pip3 install Scrapy"></a>✘ l@192  ~  pip3 install Scrapy</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">Collecting Scrapy</span><br><span class="line">  Using cached https:&#x2F;&#x2F;files.pythonhosted.org&#x2F;packages&#x2F;29&#x2F;4b&#x2F;585e8e111ffb01466c59281f34febb13ad1a95d7fb3919fd57c33fc732a5&#x2F;Scrapy-1.7.3-py2.py3-none-any.whl</span><br><span class="line">Collecting parsel&gt;&#x3D;1.5 (from Scrapy)</span><br><span class="line">  Downloading https:&#x2F;&#x2F;files.pythonhosted.org&#x2F;packages&#x2F;86&#x2F;c8&#x2F;fc5a2f9376066905dfcca334da2a25842aedfda142c0424722e7c497798b&#x2F;parsel-1.5.2-py2.py3-none-any.whl</span><br><span class="line">Collecting w3lib&gt;&#x3D;1.17.0 (from Scrapy)</span><br><span class="line">  Downloading https:&#x2F;&#x2F;files.pythonhosted.org&#x2F;packages&#x2F;6a&#x2F;45&#x2F;1ba17c50a0bb16bd950c9c2b92ec60d40c8ebda9f3371ae4230c437120b6&#x2F;w3lib-1.21.0-py2.py3-none-any.whl</span><br><span class="line">Collecting pyOpenSSL (from Scrapy)</span><br><span class="line">  WARNING: Retrying (Retry(total&#x3D;4, connect&#x3D;None, read&#x3D;None, redirect&#x3D;None, status&#x3D;None)) after connection broken by &#39;ReadTimeoutError(&quot;HTTPSConnectionPool(host&#x3D;&#39;pypi.org&#39;, port&#x3D;443): Read timed out. (read timeout&#x3D;15)&quot;)&#39;: &#x2F;simple&#x2F;pyopenssl&#x2F;</span><br><span class="line">  WARNING: Retrying (Retry(total&#x3D;3, connect&#x3D;None, read&#x3D;None, redirect&#x3D;None, status&#x3D;None)) after connection broken by &#39;ReadTimeoutError(&quot;HTTPSConnectionPool(host&#x3D;&#39;pypi.org&#39;, port&#x3D;443): Read timed out. (read timeout&#x3D;15)&quot;)&#39;: &#x2F;simple&#x2F;pyopenssl&#x2F;</span><br><span class="line">  Downloading https:&#x2F;&#x2F;files.pythonhosted.org&#x2F;packages&#x2F;01&#x2F;c8&#x2F;ceb170d81bd3941cbeb9940fc6cc2ef2ca4288d0ca8929ea4db5905d904d&#x2F;pyOpenSSL-19.0.0-py2.py3-none-any.whl (53kB)</span><br><span class="line">     |████████████████████████▋       | 40kB 1.8kB&#x2F;s eta 0:00:08ERROR: Exception:</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_vendor&#x2F;urllib3&#x2F;response.py&quot;, line 360, in _error_catcher</span><br><span class="line">    yield</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_vendor&#x2F;urllib3&#x2F;response.py&quot;, line 442, in read</span><br><span class="line">    data &#x3D; self._fp.read(amt)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_vendor&#x2F;cachecontrol&#x2F;filewrapper.py&quot;, line 62, in read</span><br><span class="line">    data &#x3D; self.__fp.read(amt)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;Cellar&#x2F;python&#x2F;3.7.4&#x2F;Frameworks&#x2F;Python.framework&#x2F;Versions&#x2F;3.7&#x2F;lib&#x2F;python3.7&#x2F;http&#x2F;client.py&quot;, line 457, in read</span><br><span class="line">    n &#x3D; self.readinto(b)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;Cellar&#x2F;python&#x2F;3.7.4&#x2F;Frameworks&#x2F;Python.framework&#x2F;Versions&#x2F;3.7&#x2F;lib&#x2F;python3.7&#x2F;http&#x2F;client.py&quot;, line 501, in readinto</span><br><span class="line">    n &#x3D; self.fp.readinto(b)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;Cellar&#x2F;python&#x2F;3.7.4&#x2F;Frameworks&#x2F;Python.framework&#x2F;Versions&#x2F;3.7&#x2F;lib&#x2F;python3.7&#x2F;socket.py&quot;, line 589, in readinto</span><br><span class="line">    return self._sock.recv_into(b)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;Cellar&#x2F;python&#x2F;3.7.4&#x2F;Frameworks&#x2F;Python.framework&#x2F;Versions&#x2F;3.7&#x2F;lib&#x2F;python3.7&#x2F;ssl.py&quot;, line 1071, in recv_into</span><br><span class="line">    return self.read(nbytes, buffer)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;Cellar&#x2F;python&#x2F;3.7.4&#x2F;Frameworks&#x2F;Python.framework&#x2F;Versions&#x2F;3.7&#x2F;lib&#x2F;python3.7&#x2F;ssl.py&quot;, line 929, in read</span><br><span class="line">    return self._sslobj.read(len, buffer)</span><br><span class="line">socket.timeout: The read operation timed out</span><br><span class="line"></span><br><span class="line">During handling of the above exception, another exception occurred:</span><br><span class="line"></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;cli&#x2F;base_command.py&quot;, line 178, in main</span><br><span class="line">    status &#x3D; self.run(options, args)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;commands&#x2F;install.py&quot;, line 352, in run</span><br><span class="line">    resolver.resolve(requirement_set)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;resolve.py&quot;, line 131, in resolve</span><br><span class="line">    self._resolve_one(requirement_set, req)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;resolve.py&quot;, line 294, in _resolve_one</span><br><span class="line">    abstract_dist &#x3D; self._get_abstract_dist_for(req_to_install)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;resolve.py&quot;, line 242, in _get_abstract_dist_for</span><br><span class="line">    self.require_hashes</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;operations&#x2F;prepare.py&quot;, line 347, in prepare_linked_requirement</span><br><span class="line">    progress_bar&#x3D;self.progress_bar</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;download.py&quot;, line 886, in unpack_url</span><br><span class="line">    progress_bar&#x3D;progress_bar</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;download.py&quot;, line 746, in unpack_http_url</span><br><span class="line">    progress_bar)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;download.py&quot;, line 954, in _download_http_url</span><br><span class="line">    _download_url(resp, link, content_file, hashes, progress_bar)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;download.py&quot;, line 683, in _download_url</span><br><span class="line">    hashes.check_against_chunks(downloaded_chunks)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;utils&#x2F;hashes.py&quot;, line 62, in check_against_chunks</span><br><span class="line">    for chunk in chunks:</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;download.py&quot;, line 651, in written_chunks</span><br><span class="line">    for chunk in chunks:</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;utils&#x2F;ui.py&quot;, line 156, in iter</span><br><span class="line">    for x in it:</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_internal&#x2F;download.py&quot;, line 640, in resp_read</span><br><span class="line">    decode_content&#x3D;False):</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_vendor&#x2F;urllib3&#x2F;response.py&quot;, line 494, in stream</span><br><span class="line">    data &#x3D; self.read(amt&#x3D;amt, decode_content&#x3D;decode_content)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_vendor&#x2F;urllib3&#x2F;response.py&quot;, line 459, in read</span><br><span class="line">    raise IncompleteRead(self._fp_bytes_read, self.length_remaining)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;Cellar&#x2F;python&#x2F;3.7.4&#x2F;Frameworks&#x2F;Python.framework&#x2F;Versions&#x2F;3.7&#x2F;lib&#x2F;python3.7&#x2F;contextlib.py&quot;, line 130, in __exit__</span><br><span class="line">    self.gen.throw(type, value, traceback)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;pip&#x2F;_vendor&#x2F;urllib3&#x2F;response.py&quot;, line 365, in _error_catcher</span><br><span class="line">    raise ReadTimeoutError(self._pool, None, &#39;Read timed out.&#39;)</span><br><span class="line">pip._vendor.urllib3.exceptions.ReadTimeoutError: HTTPSConnectionPool(host&#x3D;&#39;files.pythonhosted.org&#39;, port&#x3D;443): Read timed out.</span><br></pre></td></tr></table></figure><h2 id="✘-l-192---sudo-pip3-install-–upgrade-pyopenssl"><a href="#✘-l-192---sudo-pip3-install-–upgrade-pyopenssl" class="headerlink" title="✘ l@192  ~  sudo pip3 install –upgrade pyopenssl"></a>✘ l@192  ~  sudo pip3 install –upgrade pyopenssl</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">Password:</span><br><span class="line">WARNING: The directory &#39;&#x2F;Users&#x2F;l&#x2F;Library&#x2F;Caches&#x2F;pip&#x2F;http&#39; or its parent directory is not owned by the current user and the cache has been disabled. Please check the permissions and owner of that directory. If executing pip with sudo, you may want sudo&#39;s -H flag.</span><br><span class="line">WARNING: The directory &#39;&#x2F;Users&#x2F;l&#x2F;Library&#x2F;Caches&#x2F;pip&#39; or its parent directory is not owned by the current user and caching wheels has been disabled. check the permissions and owner of that directory. If executing pip with sudo, you may want sudo&#39;s -H flag.</span><br><span class="line">Collecting pyopenssl</span><br><span class="line">  Downloading https:&#x2F;&#x2F;files.pythonhosted.org&#x2F;packages&#x2F;01&#x2F;c8&#x2F;ceb170d81bd3941cbeb9940fc6cc2ef2ca4288d0ca8929ea4db5905d904d&#x2F;pyOpenSSL-19.0.0-py2.py3-none-any.whl (53kB)</span><br><span class="line">     |████████████████████████████████| 61kB 27kB&#x2F;s</span><br><span class="line">Collecting cryptography&gt;&#x3D;2.3 (from pyopenssl)</span><br><span class="line">  Downloading https:&#x2F;&#x2F;files.pythonhosted.org&#x2F;packages&#x2F;63&#x2F;4e&#x2F;57b7a6bd98906872fcd2531e74b532de2abe17d675a5cf171931fcb4a9e8&#x2F;cryptography-2.7-cp34-abi3-macosx_10_6_intel.whl (1.6MB)</span><br><span class="line">     |████████████████████████████████| 1.6MB 3.7MB&#x2F;s</span><br><span class="line">Collecting six&gt;&#x3D;1.5.2 (from pyopenssl)</span><br><span class="line">  Downloading https:&#x2F;&#x2F;files.pythonhosted.org&#x2F;packages&#x2F;73&#x2F;fb&#x2F;00a976f728d0d1fecfe898238ce23f502a721c0ac0ecfedb80e0d88c64e9&#x2F;six-1.12.0-py2.py3-none-any.whl</span><br><span class="line">Collecting asn1crypto&gt;&#x3D;0.21.0 (from cryptography&gt;&#x3D;2.3-&gt;pyopenssl)</span><br><span class="line">  Downloading https:&#x2F;&#x2F;files.pythonhosted.org&#x2F;packages&#x2F;ea&#x2F;cd&#x2F;35485615f45f30a510576f1a56d1e0a7ad7bd8ab5ed7cdc600ef7cd06222&#x2F;asn1crypto-0.24.0-py2.py3-none-any.whl (101kB)</span><br><span class="line">     |████████████████████████████████| 102kB 7.0MB&#x2F;s</span><br><span class="line">Collecting cffi!&#x3D;1.11.3,&gt;&#x3D;1.8 (from cryptography&gt;&#x3D;2.3-&gt;pyopenssl)</span><br><span class="line">  Downloading https:&#x2F;&#x2F;files.pythonhosted.org&#x2F;packages&#x2F;f0&#x2F;48&#x2F;5aa4ea664eba26dd5142558d04762f5065c02220b4665b3f7eecb9bb614e&#x2F;cffi-1.12.3-cp37-cp37m-macosx_10_9_x86_64.whl (169kB)</span><br><span class="line">     |████████████████████████████████| 174kB 6.6MB&#x2F;s</span><br><span class="line">Collecting pycparser (from cffi!&#x3D;1.11.3,&gt;&#x3D;1.8-&gt;cryptography&gt;&#x3D;2.3-&gt;pyopenssl)</span><br><span class="line">  Downloading https:&#x2F;&#x2F;files.pythonhosted.org&#x2F;packages&#x2F;68&#x2F;9e&#x2F;49196946aee219aead1290e00d1e7fdeab8567783e83e1b9ab5585e6206a&#x2F;pycparser-2.19.tar.gz (158kB)</span><br><span class="line">     |████████████████████████████████| 163kB 14.7MB&#x2F;s</span><br><span class="line">Building wheels for collected packages: pycparser</span><br><span class="line">  Building wheel for pycparser (setup.py) ... done</span><br><span class="line">  Stored in directory: &#x2F;Users&#x2F;l&#x2F;Library&#x2F;Caches&#x2F;pip&#x2F;wheels&#x2F;f2&#x2F;9a&#x2F;90&#x2F;de94f8556265ddc9d9c8b271b0f63e57b26fb1d67a45564511</span><br><span class="line">Successfully built pycparser</span><br><span class="line">Installing collected packages: six, asn1crypto, pycparser, cffi, cryptography, pyopenssl</span><br><span class="line">Successfully installed asn1crypto-0.24.0 cffi-1.12.3 cryptography-2.7 pycparser-2.19 pyopenssl-19.0.0 six-1.12.0</span><br></pre></td></tr></table></figure><h2 id="l-192---sudo-pip3-install-scrapy"><a href="#l-192---sudo-pip3-install-scrapy" class="headerlink" title="l@192  ~  sudo pip3 install scrapy"></a>l@192  ~  sudo pip3 install scrapy</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">WARNING: The directory &#39;&#x2F;Users&#x2F;l&#x2F;Library&#x2F;Caches&#x2F;pip&#x2F;http&#39; or its parent directory is not owned by the current user and the cache has been disabled. Please check the permissions and owner of that directory. If executing pip with sudo, you may want sudo&#39;s -H flag.</span><br><span class="line">WARNING: The directory &#39;&#x2F;Users&#x2F;l&#x2F;Library&#x2F;Caches&#x2F;pip&#39; or its parent directory is not owned by the current user and caching wheels has been disabled. check the permissions and owner of that directory. If executing pip with sudo, you may want sudo&#39;s -H flag.</span><br><span class="line">Collecting scrapy</span><br><span class="line">  Downloading https:&#x2F;&#x2F;files.pythonhosted.org&#x2F;packages&#x2F;29&#x2F;4b&#x2F;585e8e111ffb01466c59281f34febb13ad1a95d7fb3919fd57c33fc732a5&#x2F;Scrapy-1.7.3-py2.py3-none-any.whl (234kB)</span><br><span class="line">     |████████████████████████████████| 235kB 4.4kB&#x2F;s</span><br><span class="line">Collecting w3lib&gt;&#x3D;1.17.0 (from scrapy)</span><br><span class="line">  Downloading https:&#x2F;&#x2F;files.pythonhosted.org&#x2F;packages&#x2F;6a&#x2F;45&#x2F;1ba17c50a0bb16bd950c9c2b92ec60d40c8ebda9f3371ae4230c437120b6&#x2F;w3lib-1.21.0-py2.py3-none-any.whl</span><br><span class="line">Collecting lxml; python_version !&#x3D; &quot;3.4&quot; (from scrapy)</span><br><span class="line">  Downloading https:&#x2F;&#x2F;files.pythonhosted.org&#x2F;packages&#x2F;bd&#x2F;9f&#x2F;6cda4672d3ad1aa4cf818ab8401a763787efba751c88aaf4b38fc8f923bb&#x2F;lxml-4.4.1-cp37-cp37m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl (8.9MB)</span><br><span class="line">     |████████████████████████████████| 8.9MB 97kB&#x2F;s</span><br><span class="line">Collecting Twisted&gt;&#x3D;13.1.0; python_version !&#x3D; &quot;3.4&quot; (from scrapy)</span><br><span class="line">  Downloading https:&#x2F;&#x2F;files.pythonhosted.org&#x2F;packages&#x2F;61&#x2F;31&#x2F;3855dcacd1d3b2e60c0b4ccc8e727b8cd497bd7087d327d81a9f0cbb580c&#x2F;Twisted-19.7.0.tar.bz2 (3.1MB)</span><br><span class="line">     |████████████████████████████████| 3.1MB 207kB&#x2F;s</span><br><span class="line">Collecting parsel&gt;&#x3D;1.5 (from scrapy)</span><br><span class="line">  Downloading https:&#x2F;&#x2F;files.pythonhosted.org&#x2F;packages&#x2F;86&#x2F;c8&#x2F;fc5a2f9376066905dfcca334da2a25842aedfda142c0424722e7c497798b&#x2F;parsel-1.5.2-py2.py3-none-any.whl</span><br><span class="line">Requirement already satisfied: pyOpenSSL in &#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages (from scrapy) (19.0.0)</span><br><span class="line">Requirement already satisfied: six&gt;&#x3D;1.5.2 in &#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages (from scrapy) (1.12.0)</span><br><span class="line">Collecting queuelib (from scrapy)</span><br><span class="line">  Downloading https:&#x2F;&#x2F;files.pythonhosted.org&#x2F;packages&#x2F;4c&#x2F;85&#x2F;ae64e9145f39dd6d14f8af3fa809a270ef3729f3b90b3c0cf5aa242ab0d4&#x2F;queuelib-1.5.0-py2.py3-none-any.whl</span><br><span class="line">Collecting cssselect&gt;&#x3D;0.9 (from scrapy)</span><br><span class="line">  Downloading https:&#x2F;&#x2F;files.pythonhosted.org&#x2F;packages&#x2F;3b&#x2F;d4&#x2F;3b5c17f00cce85b9a1e6f91096e1cc8e8ede2e1be8e96b87ce1ed09e92c5&#x2F;cssselect-1.1.0-py2.py3-none-any.whl</span><br><span class="line">Collecting service-identity (from scrapy)</span><br><span class="line">  Downloading https:&#x2F;&#x2F;files.pythonhosted.org&#x2F;packages&#x2F;e9&#x2F;7c&#x2F;2195b890023e098f9618d43ebc337d83c8b38d414326685339eb024db2f6&#x2F;service_identity-18.1.0-py2.py3-none-any.whl</span><br><span class="line">Collecting PyDispatcher&gt;&#x3D;2.0.5 (from scrapy)</span><br><span class="line">  Downloading https:&#x2F;&#x2F;files.pythonhosted.org&#x2F;packages&#x2F;cd&#x2F;37&#x2F;39aca520918ce1935bea9c356bcbb7ed7e52ad4e31bff9b943dfc8e7115b&#x2F;PyDispatcher-2.0.5.tar.gz</span><br><span class="line">Collecting zope.interface&gt;&#x3D;4.4.2 (from Twisted&gt;&#x3D;13.1.0; python_version !&#x3D; &quot;3.4&quot;-&gt;scrapy)</span><br><span class="line">  Downloading https:&#x2F;&#x2F;files.pythonhosted.org&#x2F;packages&#x2F;d9&#x2F;3a&#x2F;101934e0f2026f0a58698978bfedec6e2021b28b846d9e1d9b54369e044d&#x2F;zope.interface-4.6.0-cp37-cp37m-macosx_10_14_x86_64.whl (131kB)</span><br><span class="line">     |████████████████████████████████| 133kB 124kB&#x2F;s</span><br><span class="line">Collecting constantly&gt;&#x3D;15.1 (from Twisted&gt;&#x3D;13.1.0; python_version !&#x3D; &quot;3.4&quot;-&gt;scrapy)</span><br><span class="line">  Downloading https:&#x2F;&#x2F;files.pythonhosted.org&#x2F;packages&#x2F;b9&#x2F;65&#x2F;48c1909d0c0aeae6c10213340ce682db01b48ea900a7d9fce7a7910ff318&#x2F;constantly-15.1.0-py2.py3-none-any.whl</span><br><span class="line">Collecting incremental&gt;&#x3D;16.10.1 (from Twisted&gt;&#x3D;13.1.0; python_version !&#x3D; &quot;3.4&quot;-&gt;scrapy)</span><br><span class="line">  Downloading https:&#x2F;&#x2F;files.pythonhosted.org&#x2F;packages&#x2F;f5&#x2F;1d&#x2F;c98a587dc06e107115cf4a58b49de20b19222c83d75335a192052af4c4b7&#x2F;incremental-17.5.0-py2.py3-none-any.whl</span><br><span class="line">Collecting Automat&gt;&#x3D;0.3.0 (from Twisted&gt;&#x3D;13.1.0; python_version !&#x3D; &quot;3.4&quot;-&gt;scrapy)</span><br><span class="line">  Downloading https:&#x2F;&#x2F;files.pythonhosted.org&#x2F;packages&#x2F;a3&#x2F;86&#x2F;14c16bb98a5a3542ed8fed5d74fb064a902de3bdd98d6584b34553353c45&#x2F;Automat-0.7.0-py2.py3-none-any.whl</span><br><span class="line">Collecting hyperlink&gt;&#x3D;17.1.1 (from Twisted&gt;&#x3D;13.1.0; python_version !&#x3D; &quot;3.4&quot;-&gt;scrapy)</span><br><span class="line">  Downloading https:&#x2F;&#x2F;files.pythonhosted.org&#x2F;packages&#x2F;7f&#x2F;91&#x2F;e916ca10a2de1cb7101a9b24da546fb90ee14629e23160086cf3361c4fb8&#x2F;hyperlink-19.0.0-py2.py3-none-any.whl</span><br><span class="line">Collecting PyHamcrest&gt;&#x3D;1.9.0 (from Twisted&gt;&#x3D;13.1.0; python_version !&#x3D; &quot;3.4&quot;-&gt;scrapy)</span><br><span class="line">  Downloading https:&#x2F;&#x2F;files.pythonhosted.org&#x2F;packages&#x2F;9a&#x2F;d5&#x2F;d37fd731b7d0e91afcc84577edeccf4638b4f9b82f5ffe2f8b62e2ddc609&#x2F;PyHamcrest-1.9.0-py2.py3-none-any.whl (52kB)</span><br><span class="line">     |████████████████████████████████| 61kB 123kB&#x2F;s</span><br><span class="line">Collecting attrs&gt;&#x3D;17.4.0 (from Twisted&gt;&#x3D;13.1.0; python_version !&#x3D; &quot;3.4&quot;-&gt;scrapy)</span><br><span class="line">  Downloading https:&#x2F;&#x2F;files.pythonhosted.org&#x2F;packages&#x2F;23&#x2F;96&#x2F;d828354fa2dbdf216eaa7b7de0db692f12c234f7ef888cc14980ef40d1d2&#x2F;attrs-19.1.0-py2.py3-none-any.whl</span><br><span class="line">Requirement already satisfied: cryptography&gt;&#x3D;2.3 in &#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages (from pyOpenSSL-&gt;scrapy) (2.7)</span><br><span class="line">Collecting pyasn1 (from service-identity-&gt;scrapy)</span><br><span class="line">  Downloading https:&#x2F;&#x2F;files.pythonhosted.org&#x2F;packages&#x2F;6a&#x2F;6e&#x2F;209351ec34b7d7807342e2bb6ff8a96eef1fd5dcac13bdbadf065c2bb55c&#x2F;pyasn1-0.4.6-py2.py3-none-any.whl (75kB)</span><br><span class="line">     |████████████████████████████████| 81kB 94kB&#x2F;s</span><br><span class="line">Collecting pyasn1-modules (from service-identity-&gt;scrapy)</span><br><span class="line">  Downloading https:&#x2F;&#x2F;files.pythonhosted.org&#x2F;packages&#x2F;be&#x2F;70&#x2F;e5ea8afd6d08a4b99ebfc77bd1845248d56cfcf43d11f9dc324b9580a35c&#x2F;pyasn1_modules-0.2.6-py2.py3-none-any.whl (95kB)</span><br><span class="line">     |████████████████████████████████| 102kB 146kB&#x2F;s</span><br><span class="line">Requirement already satisfied: setuptools in &#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages (from zope.interface&gt;&#x3D;4.4.2-&gt;Twisted&gt;&#x3D;13.1.0; python_version !&#x3D; &quot;3.4&quot;-&gt;scrapy) (41.0.1)</span><br><span class="line">Collecting idna&gt;&#x3D;2.5 (from hyperlink&gt;&#x3D;17.1.1-&gt;Twisted&gt;&#x3D;13.1.0; python_version !&#x3D; &quot;3.4&quot;-&gt;scrapy)</span><br><span class="line">  Downloading https:&#x2F;&#x2F;files.pythonhosted.org&#x2F;packages&#x2F;14&#x2F;2c&#x2F;cd551d81dbe15200be1cf41cd03869a46fe7226e7450af7a6545bfc474c9&#x2F;idna-2.8-py2.py3-none-any.whl (58kB)</span><br><span class="line">     |████████████████████████████████| 61kB 181kB&#x2F;s</span><br><span class="line">Requirement already satisfied: cffi!&#x3D;1.11.3,&gt;&#x3D;1.8 in &#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages (from cryptography&gt;&#x3D;2.3-&gt;pyOpenSSL-&gt;scrapy) (1.12.3)</span><br><span class="line">Requirement already satisfied: asn1crypto&gt;&#x3D;0.21.0 in &#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages (from cryptography&gt;&#x3D;2.3-&gt;pyOpenSSL-&gt;scrapy) (0.24.0)</span><br><span class="line">Requirement already satisfied: pycparser in &#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages (from cffi!&#x3D;1.11.3,&gt;&#x3D;1.8-&gt;cryptography&gt;&#x3D;2.3-&gt;pyOpenSSL-&gt;scrapy) (2.19)</span><br><span class="line">Building wheels for collected packages: Twisted, PyDispatcher</span><br><span class="line">  Building wheel for Twisted (setup.py) ... done</span><br><span class="line">  Stored in directory: &#x2F;Users&#x2F;l&#x2F;Library&#x2F;Caches&#x2F;pip&#x2F;wheels&#x2F;f4&#x2F;2b&#x2F;d5&#x2F;bf550d6bead12fec7a1383be4e994758848c4aeeb9fc627ecf</span><br><span class="line">  Building wheel for PyDispatcher (setup.py) ... done</span><br><span class="line">  Stored in directory: &#x2F;Users&#x2F;l&#x2F;Library&#x2F;Caches&#x2F;pip&#x2F;wheels&#x2F;88&#x2F;99&#x2F;96&#x2F;cfef6665f9cb1522ee6757ae5955feedf2fe25f1737f91fa7f</span><br><span class="line">Successfully built Twisted PyDispatcher</span><br><span class="line">Installing collected packages: w3lib, lxml, zope.interface, constantly, incremental, attrs, Automat, idna, hyperlink, PyHamcrest, Twisted, cssselect, parsel, queuelib, pyasn1, pyasn1-modules, service-identity, PyDispatcher, scrapy</span><br><span class="line">Successfully installed Automat-0.7.0 PyDispatcher-2.0.5 PyHamcrest-1.9.0 Twisted-19.7.0 attrs-19.1.0 constantly-15.1.0 cssselect-1.1.0 hyperlink-19.0.0 idna-2.8 incremental-17.5.0 lxml-4.4.1 parsel-1.5.2 pyasn1-0.4.6 pyasn1-modules-0.2.6 queuelib-1.5.0 scrapy-1.7.3 service-identity-18.1.0 w3lib-1.21.0 zope.interface-4.6.0</span><br></pre></td></tr></table></figure><h2 id="l-192---cd-Users-l-Documents-Py-Pydemo"><a href="#l-192---cd-Users-l-Documents-Py-Pydemo" class="headerlink" title="l@192  ~  cd /Users/l/Documents/Py/Pydemo"></a>l@192  ~  cd /Users/l/Documents/Py/Pydemo</h2><h2 id="l-192--Documents-Py-Pydemo--scrapy-startproject-firstscrapy"><a href="#l-192--Documents-Py-Pydemo--scrapy-startproject-firstscrapy" class="headerlink" title="l@192  ~/Documents/Py/Pydemo  scrapy startproject firstscrapy"></a>l@192  ~/Documents/Py/Pydemo  scrapy startproject firstscrapy</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">New Scrapy project &#39;firstscrapy&#39;, using template directory &#39;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;scrapy&#x2F;templates&#x2F;project&#39;, created in:</span><br><span class="line">    &#x2F;Users&#x2F;l&#x2F;Documents&#x2F;Py&#x2F;Pydemo&#x2F;firstscrapy</span><br><span class="line"></span><br><span class="line">You can start your first spider with:</span><br><span class="line">    cd firstscrapy</span><br><span class="line">    scrapy genspider example example.com</span><br></pre></td></tr></table></figure><h2 id="l-192--Documents-Py-Pydemov-cd-firstscrapy"><a href="#l-192--Documents-Py-Pydemov-cd-firstscrapy" class="headerlink" title="l@192  ~/Documents/Py/Pydemov cd firstscrapy"></a>l@192  ~/Documents/Py/Pydemov cd firstscrapy</h2><h2 id="l-192--Documents-Py-Pydemo-firstscrapy"><a href="#l-192--Documents-Py-Pydemo-firstscrapy" class="headerlink" title="l@192  ~/Documents/Py/Pydemo/firstscrapy"></a>l@192  ~/Documents/Py/Pydemo/firstscrapy</h2>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python3 </tag>
            
            <tag> scrapy </tag>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flutter开发之Text Widget</title>
      <link href="/2019/08/21/Flutter%E5%BC%80%E5%8F%91%E4%B9%8BText%20Widget/"/>
      <url>/2019/08/21/Flutter%E5%BC%80%E5%8F%91%E4%B9%8BText%20Widget/</url>
      
        <content type="html"><![CDATA[<h3 id="Text-Widget"><a href="#Text-Widget" class="headerlink" title="Text Widget"></a>Text Widget</h3><blockquote><p>“文本”小组件显示单个样式的文本字符串。字符串可能会跨越多行，也可能全部显示在同一行上，具体取决于布局约束。</p></blockquote><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Text(</span><br><span class="line">   <span class="comment">//显示的文本</span></span><br><span class="line">  <span class="string">'Hello, <span class="subst">$_name</span>! How are you?'</span>,</span><br><span class="line">  <span class="comment">//对齐的方式</span></span><br><span class="line">  textAlign: TextAlign.center,</span><br><span class="line">  </span><br><span class="line">  overflow: TextOverflow.ellipsis,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//文本样式</span></span><br><span class="line">  style: TextStyle(fontWeight: FontWeight.bold),</span><br><span class="line">)</span><br></pre></td></tr></table></figure><blockquote><p>下面使用Text.rich构造函数，Text小部件可以显示具有不同样式TextSpans的段落。下面的示例显示每个单词具有不同样式的“Hello beautiful world”。</p></blockquote><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Text.rich(</span><br><span class="line">  TextSpan(</span><br><span class="line">    text: <span class="string">'Hello'</span>, <span class="comment">// default text style</span></span><br><span class="line">    children: &lt;TextSpan&gt;[</span><br><span class="line">      TextSpan(text: <span class="string">' beautiful '</span>, style: TextStyle(fontStyle: FontStyle.italic)),</span><br><span class="line">      TextSpan(text: <span class="string">'world'</span>, style: TextStyle(fontWeight: FontWeight.bold)),</span><br><span class="line">    ],</span><br><span class="line">  ),</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h4 id="交互"><a href="#交互" class="headerlink" title="交互"></a>交互</h4><p>要使Text对触摸事件做出反应，请使用GestureDetector.onTap处理程序将其包装在GestureDetector小部件中。</p><p>在材料设计应用程序中，请考虑使用FlatButton，或者如果不合适，至少使用InkWell而不是GestureDetector。</p><p>要使文本的各个部分具有交互性，请使用RichText并将TapGestureRecognizer指定为文本相关部分的TextSpan.recognizer。</p><blockquote><p><a href="https://api.flutter.dev/flutter/widgets/RichText-class.html" target="_blank" rel="noopener">RichText</a>，它可以让您更好地控制文本样式。<br><a href="https://api.flutter.dev/flutter/widgets/DefaultTextStyle-class.html" target="_blank" rel="noopener">DefaultTextStyle</a>，用于设置Text小部件的默认样式。</p></blockquote><h4 id="构造方法"><a href="#构造方法" class="headerlink" title="构造方法"></a>构造方法</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line">Text(<span class="built_in">String</span> data, &#123; </span><br><span class="line">           Key key, </span><br><span class="line">           TextStyle style, </span><br><span class="line">           StrutStyle strutStyle,</span><br><span class="line">           TextAlign textAlign,</span><br><span class="line">           TextDirection textDirection,</span><br><span class="line">           Locale locale, </span><br><span class="line">           <span class="built_in">bool</span> softWrap, </span><br><span class="line">           TextOverflow overflow, </span><br><span class="line">           <span class="built_in">double</span> textScaleFactor, </span><br><span class="line">           <span class="built_in">int</span> maxLines, </span><br><span class="line">           <span class="built_in">String</span> semanticsLabel </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Text.rich(TextSpan textSpan, &#123; </span><br><span class="line">                   Key key, </span><br><span class="line">                   TextStyle style,</span><br><span class="line">                   StrutStyle strutStyle,</span><br><span class="line">                   TextAlign textAlign,</span><br><span class="line">                   TextDirection textDirection, </span><br><span class="line">                   Locale locale, </span><br><span class="line">                   <span class="built_in">bool</span> softWrap, </span><br><span class="line">                   TextOverflow overflow, </span><br><span class="line">                   <span class="built_in">double</span> textScaleFactor, </span><br><span class="line">                   <span class="built_in">int</span> maxLines, </span><br><span class="line">                   <span class="built_in">String</span> semanticsLabel </span><br><span class="line">    </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h4><ul><li><p>data → String   </p></li><li><p><em>要显示的文字</em></p></li><li><p>locale → Locale</p><ul><li><em>用于在可以以不同方式呈现相同Unicode字符时选择字体，具体取决于区域设置</em></li><li><em>很少需要设置此属性。默认情况下，其值继承自包含Localizations.localeOf（context）的应用程序</em></li><li><em>有关更多信息，请参见<a href="https://api.flutter.dev/flutter/widgets/Text/locale.html" target="_blank" rel="noopener">RenderParagraph.locale</a>。</em></li></ul></li><li><p>maxLines→int</p></li><li><p><em>文本要跨越的可选最大行数，必要时包装。如果文本超过给定的行数，则会根据溢出将其截断</em></p></li><li><p>overflow→TextOverflow</p><ul><li><em>如何处理视觉溢出</em></li><li>TextOverflow枚举<ul><li>clip→const TextOverflow<br>剪切溢出的文本以修复其容器。<br>const TextOverflow（0）</li><li>ellipsis→const TextOverflow<br>将溢出的文本淡化为透明。<br>const TextOverflow（1）</li><li>ellipsis→const TextOverflow<br>使用省略号表示文本已溢出。<br>const TextOverflow（2）</li><li>visible→const TextOverflow<br>在其容器外部渲染溢出的文本。<br>const TextOverflow（3）</li><li>values→const List <TextOverflow><br>此枚举中值的常量列表，按其声明顺序排列。<br>const List <TextOverflow></TextOverflow></TextOverflow></li></ul></li></ul></li><li><p>semanticsLabel→String</p><ul><li><em>此文本的替代语义标签</em></li><li><em>如果存在, 这个小部件的语义将包含此值, 而不是实际的文本。这将覆盖任何直接应用于 TextSpans 的语义标签</em></li><li><em>这对于用全文值替换缩写或短文很有用: <code>Text(r&#39;$$&#39;, semanticsLabel: &#39;Double dollars&#39;)</code></em></li></ul></li><li><p>softWrap→bool</p><ul><li><em>文本是否应该在软换行符处中断</em></li><li><em>如果是false, 文本中的字形将被定位为无限的水平空间</em></li></ul></li><li><p>strutStyle→StrutStyle</p><ul><li><p><em>要使用的strut风格。 Strut样式定义了strut，它设置了最小垂直布局度量</em></p></li><li><p><em>允许省略或提供 null 将禁用strut. 为 StrutStyle 的任何属性提供 null 将导致使用默认值</em></p></li><li><p><em>强烈建议至少指定一个字体. 有关详细信息, 请参见 <a href="https://api.flutter.dev/flutter/painting/StrutStyle-class.html" target="_blank" rel="noopener">StrutStyle</a>。</em></p></li><li><p>eg:</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">   <span class="keyword">const</span> Text(</span><br><span class="line">        <span class="string">'Hello, world!\nSecond line!'</span>,</span><br><span class="line">        style: TextStyle(</span><br><span class="line">        fontSize: <span class="number">10</span>,</span><br><span class="line">        fontFamily: <span class="string">'Raleway'</span>,</span><br><span class="line">    ),</span><br><span class="line">  strutStyle: StrutStyle(</span><br><span class="line">        fontFamily: <span class="string">'Roboto'</span>,</span><br><span class="line">        fontSize: <span class="number">30</span>,</span><br><span class="line">        height: <span class="number">1.5</span>,</span><br><span class="line">  ),</span><br><span class="line">),</span><br></pre></td></tr></table></figure></li></ul></li><li><p>style→TextStyle</p><ul><li><em>如果为非null，则为此文本使用的样式</em></li><li><em>如果样式的 “继承” 属性为 true, 则该样式将与最接近的封闭默认文本样式合并</em></li><li><em>否则, 该样式将替换最接近的封闭的默认文本样式</em></li></ul></li><li><p>textAlign→TextAlign</p><ul><li><em>文本应如何水平对齐</em></li><li><em>TextAlign 枚举</em><ul><li>left → const TextAlign 文本左对齐 const TextAlign(0)</li><li>right → const TextAlign 文本右对齐 const TextAlign(1)</li><li>center→ const TextAlign 文本中心对齐 const TextAlign(2)</li><li>justify → const TextAlign 拉伸以柔和的换行符结束的文本行, 以填充容器的宽度. 以硬线符结束的线条与起始边缘对齐。const TextAlign(3)</li><li>start → const TextAlign  文本开始处对齐 从左到右即为左边，从右到左即为右边 const TextAlign(4)</li><li>end → const TextAlign 文本结束处对齐 从左到右即为右边，从右到左即为左边 const TextAlign(5)</li><li>values → const List<TextAlign> 此枚举中值的常量列表，按其声明顺序排列。</TextAlign></li></ul></li></ul></li><li><p>textDirection→TextDirection</p><ul><li><em>文本的方向性</em></li><li><em>这也就解释为什么出现TextAlign.start和TextAlign.end等textAlign值</em></li><li><em>eg: 例如，如果数据是英语短语后跟希伯来语短语，则在TextDirection.ltr上下文中，英语短语将位于左侧，希伯来语短语位于其右侧，而在TextDirection.rtl上下文中，英语短语将 在右边，左边是希伯来语。</em></li></ul></li><li><p>textScaleFactor→double</p><ul><li><em>每个逻辑像素的字体像素数</em></li><li><em>例如，如果文本比例因子为1.5，则文本将比指定的字体大小大50％</em></li><li><em>作为textScaleFactor赋予构造函数的值。 如果为null，将使用从环境MediaQuery获取的MediaQueryData.textScaleFactor，如果范围内没有MediaQuery，则使用1.0。</em></li></ul></li><li><p>textSpan→TextSpan</p></li><li><p><em>要显示为TextSpan的文本</em></p></li><li><p>hashCode→int</p></li><li><p><em>此对象的哈希码</em></p></li><li><p>key→Key</p></li><li><p><em>控制一个小部件如何替换树中的另一个小部件</em></p></li><li><p>runtimeType→Type</p><ul><li><em>表示对象的运行时类型</em></li></ul></li></ul><h4 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h4><ul><li><p>build（BuildContext context）→Widget</p><ul><li><em>描述此窗口小部件表示的用户界面部分</em></li></ul></li><li><p>debugFillProperties（DiagnosticPropertiesBuilder properties）→void</p><ul><li><em>添加与节点关联的其他属性</em></li></ul></li><li><p>createElement（）→StatelessElement</p><ul><li><em>创建StatelessElement以管理此窗口小部件在树中的位置。 […]</em></li></ul></li><li><p>debugDescribeChildren（）→ List<DiagnosticsNode></DiagnosticsNode></p><ul><li><em>返回描述此节点的子节点的DiagnosticsNode对象列表。 […]</em></li></ul></li><li><p>noSuchMethod（Invocation invocation）→dynamic</p><ul><li><em>访问不存在的方法或属性时调用。 […]</em></li></ul></li><li><p>toDiagnosticsNode（{String name，DiagnosticsTreeStyle style}）→DiagnosticsNode</p><ul><li><em>返回调试工具和DiagnosticsNode.toStringDeep使用的对象的调试表示形式。 […]</em></li></ul></li><li><p>toString（{DiagnosticLevel minLevel：DiagnosticLevel.debug}）→字符串</p><ul><li><em>返回此对象的字符串表示形式</em></li></ul></li><li><p>toStringDeep（{String prefixLineOne：’’，String prefixOtherLines，DiagnosticLevel minLevel：DiagnosticLevel.debug}）→String</p><ul><li><em>返回此节点及其后代的字符串表示形式。 […]</em></li></ul></li><li><p>toStringShallow（{String joiner：’，’，DiagnosticLevel minLevel：DiagnosticLevel.debug}）→String</p><ul><li><em>返回对象的单行详细描述。 […]</em></li></ul></li><li><p>toStringShort（）→String</p><ul><li><em>这个小部件的简短文字描述</em></li></ul></li></ul><h3 id="Operators运算符"><a href="#Operators运算符" class="headerlink" title="Operators运算符"></a>Operators运算符</h3><ul><li>operator ==(dynamic other) → bool<ul><li><em>等值运算符。 […]</em></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter Text </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flutter开发之Scaffold Widget</title>
      <link href="/2019/08/20/Flutter%E5%BC%80%E5%8F%91%E4%B9%8BScaffold%20Widget/"/>
      <url>/2019/08/20/Flutter%E5%BC%80%E5%8F%91%E4%B9%8BScaffold%20Widget/</url>
      
        <content type="html"><![CDATA[<h3 id="Scaffold"><a href="#Scaffold" class="headerlink" title="Scaffold"></a>Scaffold</h3><blockquote><p>实现基本材料设计视觉布局结构</p></blockquote><h4 id="构造函数-Constructors"><a href="#构造函数-Constructors" class="headerlink" title="构造函数(Constructors)"></a>构造函数(Constructors)</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Scaffold(&#123;</span><br><span class="line">    Key key, </span><br><span class="line">    PreferredSizeWidget appBar, </span><br><span class="line">    Widget body,</span><br><span class="line">    Widget floatingActionButton, </span><br><span class="line">    FloatingActionButtonLocation floatingActionButtonLocation, FloatingActionButtonAnimator floatingActionButtonAnimator, </span><br><span class="line">    <span class="built_in">List</span>&lt;Widget&gt; persistentFooterButtons, </span><br><span class="line">    Widget drawer, </span><br><span class="line">    Widget endDrawer, </span><br><span class="line">    Widget bottomNavigationBar, </span><br><span class="line">    Widget bottomSheet, </span><br><span class="line">    Color backgroundColor, </span><br><span class="line">    <span class="built_in">bool</span> resizeToAvoidBottomPadding, </span><br><span class="line">    <span class="built_in">bool</span> resizeToAvoidBottomInset, </span><br><span class="line">    <span class="built_in">bool</span> primary: <span class="keyword">true</span>, </span><br><span class="line">    DragStartBehavior drawerDragStartBehavior: DragStartBehavior.start,</span><br><span class="line">    <span class="built_in">bool</span> extendBody: <span class="keyword">false</span> </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="属性（Properties）"><a href="#属性（Properties）" class="headerlink" title="属性（Properties）"></a>属性（Properties）</h4><ul><li>appBar → PreferredSizeWidget</li></ul><blockquote><p>顶部导航栏</p></blockquote><ul><li>backgroundColor → Color</li></ul><blockquote><p>背景色</p></blockquote><ul><li>body → Widget</li></ul><blockquote><p>Scaffold的主要内容</p></blockquote><ul><li>bottomNavigationBar → Widget</li></ul><blockquote><p>底部导航栏</p></blockquote><ul><li>bottomSheet → Widget</li></ul><blockquote><p>The persistent bottom sheet to display. […]</p></blockquote><ul><li>drawer → Widget</li></ul><blockquote><p>显示在容器侧面的面板，通常隐藏在移动设备上。从左到右（TextDirection.ltr）或从右到左（TextDirection.rtl）滑入</p></blockquote><ul><li>drawerDragStartBehavior → DragStartBehavior</li></ul><blockquote><p>确定处理拖动开始行为的方式</p></blockquote><ul><li>endDrawer → Widget</li></ul><blockquote><p>显示在身体侧面的面板，通常隐藏在移动设备上。从右到左（TextDirection.ltr）或从左到右（TextDirection.rtl）滑动</p></blockquote><ul><li>extendBody → bool</li></ul><blockquote><p>如果为true，并且指定了bottomNavigationBar或persistentFooterButtons，则body将延伸到Scaffold的底部，而不是仅延伸到bottomNavigationBar或persistentFooterButtons的顶部</p></blockquote><ul><li>floatingActionButton → Widget</li></ul><blockquote><p>显示在容器上方的按钮，位于右下角</p></blockquote><ul><li>floatingActionButtonAnimator → FloatingActionButtonAnimator</li></ul><blockquote><p>Animator将floatingActionButton移动到新的floatingActionButtonLocation</p></blockquote><ul><li>floatingActionButtonLocation → FloatingActionButtonLocation</li></ul><blockquote><p>负责确定floatingActionButton的去向</p></blockquote><ul><li>persistentFooterButtons → List<Widget></Widget></li></ul><blockquote><p>一组显示在脚手架底部的按钮</p></blockquote><ul><li>primary → bool</li></ul><blockquote><p>此脚手架是否显示在屏幕顶部</p></blockquote><ul><li>resizeToAvoidBottomInset → bool</li></ul><blockquote><p>如果为true，则body和scaffold的浮动小部件应自行调整大小，以避免屏幕键盘的高度由环境MediaQuery的MediaQueryData.viewInsets底部属性定义</p></blockquote><ul><li>resizeToAvoidBottomPadding → bool<blockquote><p>不推荐使用此标志，请改用resizeToAvoidBottomInset,<br>@Deprecated（’使用resizeToAvoidBottomInset指定键盘出现时是否应调整主体大小’）</p></blockquote></li></ul>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter Scaffold </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flutter开发之Row Widget</title>
      <link href="/2019/08/18/Flutter%E5%BC%80%E5%8F%91%E4%B9%8BRow%20Widget/"/>
      <url>/2019/08/18/Flutter%E5%BC%80%E5%8F%91%E4%B9%8BRow%20Widget/</url>
      
        <content type="html"><![CDATA[<h3 id="Row"><a href="#Row" class="headerlink" title="Row"></a>Row</h3><blockquote><p>一个在水平数组中显示它的子级的小部件</p></blockquote><p>要使子级扩展以填充可用的水平空间, 请将子级包裹在一个展开的小部件中。</p><p><em>想使用竖直布局的，请前往-&gt;<a href> Column</a></em></p><p>如果你只有一个子级, 那就考虑用 “对齐” 或 “中心” 来定位子级。</p><blockquote><p>本示例将可用空间划分为三个 (水平), 并将文本置于前两个单元格中的中心, 并将 Flutter 图标置于第三个单元格的中心: </p></blockquote><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Row(</span><br><span class="line">  children: &lt;Widget&gt;[</span><br><span class="line">    Expanded(</span><br><span class="line">      child: Text(<span class="string">'Deliver features faster'</span>, textAlign: TextAlign.center),</span><br><span class="line">    ),</span><br><span class="line">    Expanded(</span><br><span class="line">      child: Text(<span class="string">'Craft beautiful UIs'</span>, textAlign: TextAlign.center),</span><br><span class="line">    ),</span><br><span class="line">    Expanded(</span><br><span class="line">      child: FittedBox(</span><br><span class="line">        fit: BoxFit.contain, <span class="comment">// otherwise the logo will be tiny</span></span><br><span class="line">        child: <span class="keyword">const</span> FlutterLogo(),</span><br><span class="line">      ),</span><br><span class="line">    ),</span><br><span class="line">  ],</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p><strong>效果图：</strong><br><br><img src="/2019/08/18/Flutter%E5%BC%80%E5%8F%91%E4%B9%8BRow%20Widget/%22%22" alt="Row"></p>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter Row </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flutter开发之RaisedButton Widget</title>
      <link href="/2019/08/17/Flutter%E5%BC%80%E5%8F%91%E4%B9%8BRaisedButton%20Widget/"/>
      <url>/2019/08/17/Flutter%E5%BC%80%E5%8F%91%E4%B9%8BRaisedButton%20Widget/</url>
      
        <content type="html"><![CDATA[<h3 id="RaisedButton"><a href="#RaisedButton" class="headerlink" title="RaisedButton"></a>RaisedButton</h3><blockquote><p>一个凸起的按钮</p></blockquote><p>如果<code>onPressed</code>（即为按钮点击事件）回调为<code>null</code>，则该按钮将被禁用，默认情况下将类似于<code>disabledColor</code>中的平面按钮。如果您尝试更改按钮的颜色并且没有任何效果，请检查您是否正在传递非<code>null</code> <code>onPressed</code>处理程序。</p><p>如果您想为点击提供墨水飞溅效果,但不想使用按钮,请考虑直接使用<a href="https://api.flutter.dev/flutter/material/InkWell-class.html" target="_blank" rel="noopener">inkwell</a>。</p><p>凸起按钮的最小尺寸为88.0×36.0，可以用<code>ButtonTheme</code>覆盖。</p><p><strong>此示例演示如何呈现禁用的RaisedButton，启用的RaisedButton以及最后一个具有渐变背景的RaisedButton:</strong></p><p><img src="https://flutter.github.io/assets-for-api-docs/assets/material/raised_button.png" alt="Img"></p><p>源码：</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">Widget build(BuildContext context) &#123;</span><br><span class="line">  <span class="keyword">return</span> Center(</span><br><span class="line">    child: Column(</span><br><span class="line">      mainAxisSize: MainAxisSize.min,</span><br><span class="line">      children: &lt;Widget&gt;[</span><br><span class="line">        <span class="keyword">const</span> RaisedButton(</span><br><span class="line">          onPressed: <span class="keyword">null</span>,</span><br><span class="line">          child: Text(</span><br><span class="line">            <span class="string">'Disabled Button'</span>,</span><br><span class="line">            style: TextStyle(fontSize: <span class="number">20</span>)</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">        <span class="keyword">const</span> SizedBox(height: <span class="number">30</span>),</span><br><span class="line">        RaisedButton(</span><br><span class="line">          onPressed: () &#123;&#125;,</span><br><span class="line">          child: <span class="keyword">const</span> Text(</span><br><span class="line">            <span class="string">'Enabled Button'</span>,</span><br><span class="line">            style: TextStyle(fontSize: <span class="number">20</span>)</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">        <span class="keyword">const</span> SizedBox(height: <span class="number">30</span>),</span><br><span class="line">        RaisedButton(</span><br><span class="line">          onPressed: () &#123;&#125;,</span><br><span class="line">          textColor: Colors.white,</span><br><span class="line">          padding: <span class="keyword">const</span> EdgeInsets.all(<span class="number">0.0</span>),</span><br><span class="line">          child: Container(</span><br><span class="line">            decoration: <span class="keyword">const</span> BoxDecoration(</span><br><span class="line">              gradient: LinearGradient(</span><br><span class="line">                colors: &lt;Color&gt;[</span><br><span class="line">                  Color(<span class="number">0xFF0D47A1</span>),</span><br><span class="line">                  Color(<span class="number">0xFF1976D2</span>),</span><br><span class="line">                  Color(<span class="number">0xFF42A5F5</span>),</span><br><span class="line">                ],</span><br><span class="line">              ),</span><br><span class="line">            ),</span><br><span class="line">            padding: <span class="keyword">const</span> EdgeInsets.all(<span class="number">10.0</span>),</span><br><span class="line">            child: <span class="keyword">const</span> Text(</span><br><span class="line">              <span class="string">'Gradient Button'</span>,</span><br><span class="line">              style: TextStyle(fontSize: <span class="number">20</span>)</span><br><span class="line">            ),</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">      ],</span><br><span class="line">    ),</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="构造函数（Constructors）"><a href="#构造函数（Constructors）" class="headerlink" title="构造函数（Constructors）"></a>构造函数（Constructors）</h4><blockquote><p>创建一个填充按钮</p></blockquote><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">RaisedButton(&#123;</span><br><span class="line">   Key key, </span><br><span class="line">   <span class="meta">@required</span> VoidCallback onPressed,</span><br><span class="line">   ValueChanged&lt;<span class="built_in">bool</span>&gt; onHighlightChanged,</span><br><span class="line">   ButtonTextTheme textTheme, </span><br><span class="line">   Color textColor, </span><br><span class="line">   Color disabledTextColor, </span><br><span class="line">   Color color, </span><br><span class="line">   Color disabledColor, </span><br><span class="line">   Color highlightColor, </span><br><span class="line">   Color splashColor, </span><br><span class="line">   Brightness colorBrightness, </span><br><span class="line">   <span class="built_in">double</span> elevation, </span><br><span class="line">   <span class="built_in">double</span> highlightElevation, </span><br><span class="line">   <span class="built_in">double</span> disabledElevation, </span><br><span class="line">   EdgeInsetsGeometry padding, </span><br><span class="line">   ShapeBorder shape, </span><br><span class="line">   Clip clipBehavior: Clip.none, MaterialTapTargetSize materialTapTargetSize, <span class="built_in">Duration</span> animationDuration, </span><br><span class="line">   Widget child </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><blockquote><p>从一对小部件创建一个填充按钮，用作按钮的图标和标签</p></blockquote><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">RaisedButton.icon(&#123;</span><br><span class="line">   Key key, </span><br><span class="line">   <span class="meta">@required</span> VoidCallback onPressed,</span><br><span class="line">   ValueChanged&lt;<span class="built_in">bool</span>&gt; onHighlightChanged,</span><br><span class="line">   ButtonTextTheme textTheme, </span><br><span class="line">   Color textColor, </span><br><span class="line">   Color disabledTextColor, </span><br><span class="line">   Color color, </span><br><span class="line">   Color disabledColor, </span><br><span class="line">   Color highlightColor, </span><br><span class="line">   Color splashColor, </span><br><span class="line">   Brightness colorBrightness, </span><br><span class="line">   <span class="built_in">double</span> elevation, </span><br><span class="line">   <span class="built_in">double</span> highlightElevation, </span><br><span class="line">   <span class="built_in">double</span> disabledElevation, </span><br><span class="line">   ShapeBorder shape, </span><br><span class="line">   Clip clipBehavior, </span><br><span class="line">   MaterialTapTargetSize materialTapTargetSize,</span><br><span class="line">   <span class="built_in">Duration</span> animationDuration, </span><br><span class="line">   <span class="meta">@required</span> Widget icon, </span><br><span class="line">   <span class="meta">@required</span> Widget label </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="属性（Properties）"><a href="#属性（Properties）" class="headerlink" title="属性（Properties）"></a>属性（Properties）</h4><ul><li><code>animationDuration → Duration</code></li></ul><blockquote><p>动画的持续时间</p></blockquote><ul><li><code>child → Widget</code></li></ul><blockquote><p>按钮的标签部件</p></blockquote><ul><li><code>clipBehavior → Clip</code></li></ul><blockquote><p>根据此选项，内容将被剪裁（或不剪辑）</p></blockquote><ul><li><code>color → Color</code></li></ul><blockquote><p>按钮的填充颜色，由其材料显示，同时处于默认（未按下，已启用）状态</p></blockquote><ul><li><code>colorBrightness → Brightness</code></li></ul><blockquote><p>用于设置按钮的主题亮度</p></blockquote><ul><li><code>disabledColor → Color</code></li></ul><blockquote><p>禁用按钮时按钮的填充颜色</p></blockquote><ul><li><code>disabledElevation → double</code></li></ul><blockquote><p>按钮相对于其父级的高度</p></blockquote><ul><li><code>disabledTextColor → Color</code></li></ul><blockquote><p>禁用按钮时用于此按钮文本的颜色</p></blockquote><ul><li><code>elevation → double</code></li></ul><blockquote><p>放置此按钮相对于其父按钮的Z坐标</p></blockquote><ul><li><code>enabled → bool</code></li></ul><blockquote><p>设置启用还是禁用按钮</p></blockquote><ul><li><code>hashCode → int</code></li></ul><blockquote><p>此对象的哈希码(只读)</p></blockquote><ul><li><code>height → double</code></li></ul><blockquote><p>按钮的垂直范围(即高度)</p></blockquote><ul><li><code>highlightColor → Color</code></li></ul><blockquote><p>按钮的InkWell的高亮颜色</p></blockquote><ul><li><code>highlightElevation → double</code></li></ul><blockquote><p>启用并按下按钮时按钮相对于其父级的高度</p></blockquote><ul><li><code>key → Key</code></li></ul><blockquote><p>控制一个小部件如何替换树中的另一个小部件</p></blockquote><ul><li><code>materialTapTargetSize → MaterialTapTargetSize</code></li></ul><blockquote><p>配置点击目标的最小尺寸</p></blockquote><ul><li><code>minWidth → double</code></li></ul><blockquote><p>按钮占据的最小水平范围(最小宽度)</p></blockquote><ul><li><code>onHighlightChanged → ValueChanged&lt;bool&gt;</code></li></ul><blockquote><p>由底层InkWell小部件的<code>InkWell.onHighlightChanged</code>回调调用</p></blockquote><ul><li><code>onPressed → VoidCallback</code></li></ul><blockquote><p>点击或以其他方式激活按钮时调用的回调</p></blockquote><ul><li><code>padding → EdgeInsetsGeometry</code></li></ul><blockquote><p>buttons子级的内部填充</p></blockquote><ul><li><code>runtimeType → Type</code></li></ul><blockquote><p>表示对象的运行时类型(只读)</p></blockquote><ul><li><code>shape → ShapeBorder</code></li></ul><blockquote><p>按钮的阴影效果设置</p></blockquote><ul><li><code>splashColor → Color</code></li></ul><blockquote><p>按钮墨水的泼溅颜色</p></blockquote><ul><li><code>textColor → Color</code></li></ul><blockquote><p>按钮的文本颜色</p></blockquote><ul><li><p><code>textTheme → ButtonTextTheme</code></p><blockquote><p>定义按钮的基色，以及按钮的最小尺寸，内部填充和形状的默认值</p></blockquote></li></ul>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter RaisedButton </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flutter开发之Image Widget</title>
      <link href="/2019/08/16/Flutter%E5%BC%80%E5%8F%91%E4%B9%8BImage%20Widget/"/>
      <url>/2019/08/16/Flutter%E5%BC%80%E5%8F%91%E4%B9%8BImage%20Widget/</url>
      
        <content type="html"><![CDATA[<h3 id="Image-Widget"><a href="#Image-Widget" class="headerlink" title="Image Widget"></a>Image Widget</h3><blockquote><p>显示图像的小部件,支持以下图像格式: JPEG、PNG、GIF、动画 GIF、WebP、动画 WebP、BMP 和 WBMP</p></blockquote><p><strong>为图像可以指定的各种方式提供了几个构造函数:</strong></p><ul><li>new Image, 通过 ImageProvider获取图像</li><li>new Image.asset, 使用key值从资源包获取图像</li><li>new Image.network, 通过URL网络请求获取图像</li><li>new Image.file, 从文件中获取图像.</li><li>new Image.memory, 从 Uint8List中 获取图像.</li></ul><h4 id="构造方法（Constructors）"><a href="#构造方法（Constructors）" class="headerlink" title="构造方法（Constructors）"></a>构造方法（Constructors）</h4><blockquote><p>Image 创建一个显示图像的小部件</p></blockquote><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Image(&#123;</span><br><span class="line">    Key key, </span><br><span class="line">    <span class="meta">@required</span> ImageProvider image, </span><br><span class="line">    <span class="built_in">String</span> semanticLabel, </span><br><span class="line">    <span class="built_in">bool</span> excludeFromSemantics: <span class="keyword">false</span>, </span><br><span class="line">    <span class="built_in">double</span> width, <span class="built_in">double</span> height, </span><br><span class="line">    Color color, </span><br><span class="line">    BlendMode colorBlendMode, </span><br><span class="line">    BoxFit fit, </span><br><span class="line">    AlignmentGeometry alignment: Alignment.center, ImageRepeat repeat: ImageRepeat.noRepeat, </span><br><span class="line">    Rect centerSlice, </span><br><span class="line">    <span class="built_in">bool</span> matchTextDirection: <span class="keyword">false</span>, </span><br><span class="line">    <span class="built_in">bool</span> gaplessPlayback: <span class="keyword">false</span>, </span><br><span class="line">    FilterQuality filterQuality: FilterQuality.low </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><blockquote><p>创建一个小部件,显示从资源包里获得的 ImageStream,图像的键是由名称参数给出的</p></blockquote><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Image.asset(<span class="built_in">String</span> name, &#123; </span><br><span class="line">    Key key, </span><br><span class="line">    AssetBundle bundle, </span><br><span class="line">    <span class="built_in">String</span> semanticLabel, </span><br><span class="line">    <span class="built_in">bool</span> excludeFromSemantics: <span class="keyword">false</span>, </span><br><span class="line">    <span class="built_in">double</span> scale, </span><br><span class="line">    <span class="built_in">double</span> width, </span><br><span class="line">    <span class="built_in">double</span> height, </span><br><span class="line">    Color color, </span><br><span class="line">    BlendMode colorBlendMode, </span><br><span class="line">    BoxFit fit, </span><br><span class="line">    AlignmentGeometry alignment: Alignment.center, ImageRepeat repeat: ImageRepeat.noRepeat, </span><br><span class="line">    Rect centerSlice, </span><br><span class="line">    <span class="built_in">bool</span> matchTextDirection: <span class="keyword">false</span>, </span><br><span class="line">    <span class="built_in">bool</span> gaplessPlayback: <span class="keyword">false</span>, </span><br><span class="line">    <span class="built_in">String</span> package, </span><br><span class="line">    FilterQuality filterQuality: FilterQuality.low </span><br><span class="line">        </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><blockquote><p>创建一个小部件, 显示从文件中获得的 ImageStream</p></blockquote><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Image.file(File file, &#123; </span><br><span class="line">    Key key, </span><br><span class="line">    <span class="built_in">double</span> scale: <span class="number">1.0</span>, </span><br><span class="line">    <span class="built_in">String</span> semanticLabel, </span><br><span class="line">    <span class="built_in">bool</span> excludeFromSemantics: <span class="keyword">false</span>, </span><br><span class="line">    <span class="built_in">double</span> width, </span><br><span class="line">    <span class="built_in">double</span> height, </span><br><span class="line">    Color color, </span><br><span class="line">    BlendMode colorBlendMode, </span><br><span class="line">    BoxFit fit, </span><br><span class="line">    AlignmentGeometry alignment: Alignment.center, ImageRepeat repeat: ImageRepeat.noRepeat, </span><br><span class="line">    Rect centerSlice, </span><br><span class="line">    <span class="built_in">bool</span> matchTextDirection: <span class="keyword">false</span>, </span><br><span class="line">    <span class="built_in">bool</span> gaplessPlayback: <span class="keyword">false</span>, </span><br><span class="line">    FilterQuality filterQuality: FilterQuality.low </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><blockquote><p>创建一个小部件,显示从Uint8List中获得的ImageStream</p></blockquote><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Image.memory(Uint8List bytes, &#123; </span><br><span class="line">    Key key, </span><br><span class="line">    <span class="built_in">double</span> scale: <span class="number">1.0</span>, </span><br><span class="line">    <span class="built_in">String</span> semanticLabel, </span><br><span class="line">    <span class="built_in">bool</span> excludeFromSemantics: <span class="keyword">false</span>, </span><br><span class="line">    <span class="built_in">double</span> width, </span><br><span class="line">    <span class="built_in">double</span> height, </span><br><span class="line">    Color color, </span><br><span class="line">    BlendMode colorBlendMode, </span><br><span class="line">    BoxFit fit, </span><br><span class="line">    AlignmentGeometry alignment: Alignment.center, ImageRepeat repeat: ImageRepeat.noRepeat, </span><br><span class="line">    Rect centerSlice, </span><br><span class="line">    <span class="built_in">bool</span> matchTextDirection: <span class="keyword">false</span>, </span><br><span class="line">    <span class="built_in">bool</span> gaplessPlayback: <span class="keyword">false</span>, </span><br><span class="line">    FilterQuality filterQuality: FilterQuality.low</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><blockquote><p>创建一个小部件, 显示从网络获得的ImageStream</p></blockquote><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Image.network(<span class="built_in">String</span> src, &#123; </span><br><span class="line">    Key key, </span><br><span class="line">    <span class="built_in">double</span> scale: <span class="number">1.0</span>, </span><br><span class="line">    <span class="built_in">String</span> semanticLabel, </span><br><span class="line">    <span class="built_in">bool</span> excludeFromSemantics: <span class="keyword">false</span>, </span><br><span class="line">    <span class="built_in">double</span> width, </span><br><span class="line">    <span class="built_in">double</span> height, </span><br><span class="line">    Color color, </span><br><span class="line">    BlendMode colorBlendMode, </span><br><span class="line">    BoxFit fit, </span><br><span class="line">    AlignmentGeometry alignment: Alignment.center, ImageRepeat repeat: ImageRepeat.noRepeat, </span><br><span class="line">    Rect centerSlice, </span><br><span class="line">    <span class="built_in">bool</span> matchTextDirection: <span class="keyword">false</span>, </span><br><span class="line">    <span class="built_in">bool</span> gaplessPlayback: <span class="keyword">false</span>, </span><br><span class="line">    FilterQuality filterQuality: FilterQuality.low,</span><br><span class="line">    <span class="built_in">Map</span>&lt;<span class="built_in">String</span>, <span class="built_in">String</span>&gt; headers </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="属性（Properties）"><a href="#属性（Properties）" class="headerlink" title="属性（Properties）"></a>属性（Properties）</h4><ul><li><p>alignment → AlignmentGeometry</p><ul><li><em>设置图像的对齐方式</em></li></ul></li><li><p>centerSlice → Rect</p><ul><li><em>九片图像的中心切片</em></li><li><em>中心切片内的图像区域将水平和垂直拉伸，以使图像适合其目标</em></li><li><em>中心切片上方和下方的图像区域将仅水平拉伸，中心切片左侧和右侧的图像区域将仅垂直拉伸</em> </li></ul></li><li><p>color → Color</p><ul><li><em>如果非 null, 则使用颜色混合模式将此颜色与每个图像像素混合</em></li></ul></li><li><p>colorBlendMode → BlendMode</p><ul><li><em>用于将颜色与此图像相结合</em></li></ul></li><li><p>excludeFromSemantics → bool</p><ul><li><em>是否从语义中排除此图像</em></li></ul></li><li><p>filterQuality → FilterQuality</p><ul><li><em>用于设置图像的FilterQuality</em></li></ul></li><li><p>fit → BoxFit</p><ul><li><em>图片填充的方式</em><ul><li><code>contain</code> 在目标框中尽可能大的显示完整图像<br>  <img src="https://flutter.github.io/assets-for-api-docs/assets/painting/box_fit_contain.png" alt="box_fit"></li><li><code>cover</code>   在目标框中尽可能小的覆盖整个目标框<br>  <img src="https://flutter.github.io/assets-for-api-docs/assets/painting/box_fit_cover.png" alt="box_fit">      </li><li><code>fill</code>  通过拉伸纵横比来填充整个目标框<br>  <br><img src="https://flutter.github.io/assets-for-api-docs/assets/painting/box_fit_fill.png" alt="box_fit"> </li><li><code>fitHeight</code> 在目标框中高度填充满，不论宽度是否溢出<br>  <img src="https://flutter.github.io/assets-for-api-docs/assets/painting/box_fit_fitHeight.png" alt="box_fit"> </li><li><code>fitWidth</code>  在目标框中宽度填充满，不论高度是否溢出<br>  <img src="https://flutter.github.io/assets-for-api-docs/assets/painting/box_fit_fitWidth.png" alt="box_fit"> </li><li><code>none</code> 对齐目标框内的源（默认情况下，居中）并丢弃位于框外的源的任何部分。源图像未调整大小。<br>   <img src="https://flutter.github.io/assets-for-api-docs/assets/painting/box_fit_none.png" alt="box_fit"> </li><li><code>scaleDown</code> 对齐目标框中的源 (默认情况下, 居中), 并在必要时缩小源的比例, 以确保源适合框中。<br><br><img src="https://flutter.github.io/assets-for-api-docs/assets/painting/box_fit_scaleDown.png" alt="box_fit"> </li></ul></li></ul></li></ul><ul><li><p>gaplessPlayback → bool</p><ul><li><em>当图像更换时是继续显示旧图像 (true), 还是短暂不显示任何内容 (false)</em></li></ul></li><li><p>height → double</p><ul><li><em>如果非空, 则要求图像具有此高度</em></li></ul></li><li><p>image → ImageProvider</p><ul><li><em>要显示的图像</em></li></ul></li><li><p>matchTextDirection → bool</p><ul><li><em>是否将图像绘制到文本方向的方向</em></li></ul></li><li><p>repeat → ImageRepeat</p><ul><li><em>如何绘制图像不包括的布局边界的任何部分</em><ul><li><code>noRepeat</code> 让盒子的未覆盖部分保持透明,不重复</li><li><code>repeat</code>   在 x 和 y 方向上重复图像, 直到框被填满</li><li><code>repeatX</code> 按 x 方向重复图像, 直到水平方向填充满</li><li><code>repeatY</code> 按 Y 方向重复图像, 直到垂直方向填充满</li></ul></li></ul></li><li><p>semanticLabel → String</p><ul><li><em>对图像的语义描述</em></li></ul></li><li><p>width → double</p><ul><li><em>如果非空, 则要求图像具有此宽度</em></li></ul></li><li><p>hashCode → int</p><ul><li><em>此对象的哈希代码</em></li></ul></li><li><p>key → Key</p><ul><li><em>控制一个小部件如何替换树中的另一个小部件</em></li></ul></li><li><p>runtimeType → Type</p><ul><li><em>对象的运行时类型</em></li></ul></li></ul><h4 id="方法（Methods）"><a href="#方法（Methods）" class="headerlink" title="方法（Methods）"></a>方法（Methods）</h4><blockquote><p>在树中的给定位置为这个小部件创建可变状态。</p></blockquote><ul><li>createState() → _ImageState</li></ul><blockquote><p>添加与节点管理相关联的其他属性</p></blockquote><ul><li>debugFillProperties(DiagnosticPropertiesBuilder properties) → void</li></ul><blockquote><p>创建StatelessElement以管理此窗口小部件在树中的位置</p></blockquote><ul><li>createElement() → StatelessElement</li></ul><blockquote><p>返回描述此节点的子节点的DiagnosticsNode对象列表。</p></blockquote><ul><li>debugDescribeChildren() → List<DiagnosticsNode></DiagnosticsNode></li></ul><blockquote><p>访问不存在的方法或属性时调用</p></blockquote><ul><li>noSuchMethod(Invocation invocation) → dynamic</li></ul><blockquote><p>返回调试工具和DiagnosticsNode.toStringDeep使用的对象的调试表示形式</p></blockquote><ul><li>toDiagnosticsNode({String name, DiagnosticsTreeStyle style }) → DiagnosticsNode</li></ul><blockquote><p>返回此对象的字符串表示形式</p></blockquote><ul><li>toString({DiagnosticLevel minLevel: DiagnosticLevel.debug }) → String</li></ul><blockquote><p>返回此节点及其后代的字符串表示形式</p></blockquote><ul><li>toStringDeep({String prefixLineOne: ‘’, String prefixOtherLines, DiagnosticLevel minLevel: DiagnosticLevel.debug }) → String</li></ul><blockquote><p>返回对象的单行详细描述</p></blockquote><ul><li>toStringShallow({String joiner: ‘, ‘, DiagnosticLevel minLevel: DiagnosticLevel.debug }) → String</li></ul><blockquote><p>这个小部件的简短文字描述</p></blockquote><ul><li>toStringShort() → String</li></ul>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter Image </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flutter开发之Container Widget</title>
      <link href="/2019/08/15/Flutter%E5%BC%80%E5%8F%91%E4%B9%8BContainer%20Widget/"/>
      <url>/2019/08/15/Flutter%E5%BC%80%E5%8F%91%E4%B9%8BContainer%20Widget/</url>
      
        <content type="html"><![CDATA[<h3 id="Container-Widget"><a href="#Container-Widget" class="headerlink" title="Container Widget"></a>Container Widget</h3><blockquote><p>一个方便的小部件, 结合了普通的绘画、定位和大小的小部件。</p></blockquote><p>容器首先用填充物（由装饰中存在的任何边界膨胀）包围子对象，然后对填充范围应用附加约束（如果其中一个为非空，则将宽度和高度合并为约束）。然后容器被从边缘描述的额外的空白空间包围。</p><p>在绘画过程中，容器首先应用给定的变换，然后绘制装饰填充填充范围，然后绘制子对象，最后绘制前场装饰，也填充填充填充范围。</p><p>没有子对象的容器尽量大，除非传入的约束是无限的，在这种情况下，它们尽量小。有子对象的容器会根据子对象的大小来调整大小。构造函数的width、height和constraints参数重写了这一点。</p><h4 id="布局行为介绍-Layout-behavior"><a href="#布局行为介绍-Layout-behavior" class="headerlink" title="布局行为介绍(Layout behavior)"></a>布局行为介绍(Layout behavior)</h4><blockquote><p>有关框布局模型的介绍，请参阅<a href="https://api.flutter.dev/flutter/rendering/BoxConstraints-class.html" target="_blank" rel="noopener">BoxConstraints</a>。</p></blockquote><p>由于Container结合了许多其他小部件，每个小部件都有自己的布局行为，因此Container的布局行为有点复杂。</p><p>摘要：容器尝试按顺序：遵循对齐，将自身大小调整为子对象，以符合宽度，高度和约束，以扩展以适合父对象，尽可能小。</p><p>进一步来说：</p><p>如果窗口小部件没有子节点，没有高度，没有宽度，没有约束，并且父节点提供无限制约束，则Container尝试尽可能小。</p><p>如果窗口小部件没有子节点且没有对齐，但提供了高度，宽度或约束，则在给定这些约束和父节点约束的组合的情况下，Container会尽可能小。</p><p>如果窗口小部件没有子节点，没有高度，没有宽度，没有约束，没有对齐，但是父节点提供了有界约束，那么Container会扩展以适应父节点提供的约束。</p><p>如果窗口小部件具有对齐，并且父窗口提供无限制约束，则Container会尝试围绕子窗口调整自身大小。</p><p>如果窗口小部件具有对齐，并且父窗口提供有界约束，则Container会尝试展开以适合父窗口，然后根据对齐方式将子项置于其自身内部。</p><p>否则，窗口小部件具有子级但没有高度，没有宽度，没有约束，也没有对齐，并且Container将约束从父级传递给子级并调整其大小以匹配子级。</p><p>边距和填充属性也会影响布局，如这些属性的文档中所述。 （它们的效果仅仅增加了上述规则。）装饰可以隐含地增加填充（例如，BoxDecoration中的边界有助于填充）;请参阅<a href="https://api.flutter.dev/flutter/widgets/Container/padding.html" target="_blank" rel="noopener">Decoration.padding</a>。</p><p><strong>此示例显示一个48x48琥珀色方块（放置在中心小部件内，以防父小部件对容器应采用的大小有自己的意见），并留有一个空白，使其远离相邻小部件：</strong><br><img src="https://upload-images.jianshu.io/upload_images/11100630-9aafd0dda6e7ffd5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/567" alt="Container"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Center(</span><br><span class="line">  child: Container(</span><br><span class="line">    margin: const EdgeInsets.all(10.0),</span><br><span class="line">    color: Colors.amber[600],</span><br><span class="line">    width: 48.0,</span><br><span class="line">    height: 48.0,</span><br><span class="line">  ),</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p><strong>这个例子展示了如何同时使用容器的许多特性。这些约束被设置为适合字体大小加上足够的垂直净空，同时水平展开以适合父级。填充用于确保内容和文本之间有空间。这个颜色使盒子变成蓝色。对齐会使子项在框中居中。最后，变换对整个装置应用轻微的旋转以完成效果:</strong></p><p><img src="https://upload-images.jianshu.io/upload_images/11100630-8872dd960763226b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="屏幕快照 2019-05-25 下午6.39.27.png"></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Container(</span><br><span class="line">  constraints: BoxConstraints.expand(</span><br><span class="line">    height: Theme.of(context).textTheme.display1.fontSize * <span class="number">1.1</span> + <span class="number">200.0</span>,</span><br><span class="line">  ),</span><br><span class="line">  padding: <span class="keyword">const</span> EdgeInsets.all(<span class="number">8.0</span>),</span><br><span class="line">  color: Colors.blue[<span class="number">600</span>],</span><br><span class="line">  alignment: Alignment.center,</span><br><span class="line">  child: Text(<span class="string">'Hello World'</span>,</span><br><span class="line">    style: Theme.of(context)</span><br><span class="line">        .textTheme</span><br><span class="line">        .display1</span><br><span class="line">        .copyWith(color: Colors.white)),</span><br><span class="line">  transform: Matrix4.rotationZ(<span class="number">0.1</span>),</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p><strong>也可以看看：</strong></p><p><em>AnimatedContainer，一种在变化时平滑动画属性的变体。<br>边框，其中包含大量使用Container的示例。<br>墨水，在材质上绘制装饰，允许InkResponse和InkWell喷溅在它们上面绘画。<br>布局小部件的目录。</em></p><h4 id="构造方法（Constructors）"><a href="#构造方法（Constructors）" class="headerlink" title="构造方法（Constructors）"></a>构造方法（Constructors）</h4><blockquote><p>创建一个小部件, 结合了普通的绘画、定位和大小调整小部件。</p></blockquote><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Container(&#123;Key key, </span><br><span class="line">    AlignmentGeometry alignment,</span><br><span class="line">    EdgeInsetsGeometry padding, </span><br><span class="line">    Color color, </span><br><span class="line">    Decoration decoration, </span><br><span class="line">    Decoration foregroundDecoration, </span><br><span class="line">    <span class="built_in">double</span> width, </span><br><span class="line">    <span class="built_in">double</span> height, </span><br><span class="line">    BoxConstraints constraints, EdgeInsetsGeometry margin, </span><br><span class="line">    Matrix4 transform, </span><br><span class="line">    Widget child </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="属性（Properties）"><a href="#属性（Properties）" class="headerlink" title="属性（Properties）"></a>属性（Properties）</h4><ul><li><p>alignment → AlignmentGeometry</p></li><li><p><em>对齐内部的子级</em></p></li><li><p>child → Widget</p></li><li><p><em>容器内部的子级</em></p></li><li><p>constraints → BoxConstraints </p></li><li><p><em>要应用于子级的附加约束</em></p></li><li><p>decoration → Decoration</p><ul><li><em>子级背后的装饰</em></li><li><em>可以设置边框、背景色、背景图片、圆角等属性</em></li><li><em>需要注意的是 <code>deoration</code>和 <code>color</code> 背景颜色不能共存，二者同时只能有一个</em><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">decoration: <span class="keyword">new</span> BoxDecoration(</span><br><span class="line">               border: <span class="keyword">new</span> Border.all(width: <span class="number">2.0</span>, color: Colors.red),</span><br><span class="line">               color: Colors.grey,</span><br><span class="line">               borderRadius: <span class="keyword">new</span> BorderRadius.all(<span class="keyword">new</span> Radius.circular(<span class="number">20.0</span>)),</span><br><span class="line">               image: <span class="keyword">new</span> DecorationImage(</span><br><span class="line">                 image: <span class="keyword">new</span> NetworkImage(<span class="string">'http://b-ssl.duitang.com/uploads/item/201609/26/20160926203611_HXQxk.jpeg'</span>),</span><br><span class="line">                 centerSlice: <span class="keyword">new</span> Rect.fromLTRB(<span class="number">270.0</span>, <span class="number">180.0</span>, <span class="number">1360.0</span>, <span class="number">730.0</span>),</span><br><span class="line">               ),</span><br><span class="line">             ),</span><br></pre></td></tr></table></figure></li><li><img src alt="nodecoration">)<img src alt="nodecoration"></li><li><em>第一张图设置了背景色，未使用decoration；第二张图设置了decoration，未设置背景色</em></li></ul></li><li><p>foregroundDecoration → Decoration</p><ul><li><em>在子级前面的装饰</em></li><li><em>可以设置边框、背景色、背景图片、圆角等属性</em></li><li><em><code>foregroundDecoration</code>和 <code>color</code> 背景颜色可以共存，但是<code>color</code>有可能被遮挡</em></li><li><em>会遮挡child</em></li><li><img src alt="nodecoration"></li></ul></li><li><p>margin → EdgeInsetsGeometry</p></li><li><p><em>我的理解就是外边距</em></p></li><li><p>padding → EdgeInsetsGeometry</p></li><li><p><em>我的理解就是内边距</em></p></li><li><p>transform → Matrix4</p><ul><li><em>在绘制容器之前要应用的转换矩阵</em></li></ul></li><li><p>hashCode → int</p></li><li><p><em>此对象的哈希代码</em></p></li><li><p>key → Key</p><ul><li><em>控制一个小部件如何替换树中的另一个小部件</em></li></ul></li><li><p>runtimeType → Type</p><ul><li><em>对象的运行时类型</em></li></ul></li></ul><h4 id="方法（Methods）"><a href="#方法（Methods）" class="headerlink" title="方法（Methods）"></a>方法（Methods）</h4><ul><li><p>build(BuildContext context) → Widget</p><blockquote><p>描述此窗口小部件表示的用户界面部分</p></blockquote></li><li><p>debugFillProperties(DiagnosticPropertiesBuilder properties) → void</p><blockquote><p>添加与节点关联的其他属性</p></blockquote></li><li><p>createElement() → StatelessElement</p><blockquote><p>创建StatelessElement以管理此窗口小部件在树中的位置</p></blockquote></li><li><p>debugDescribeChildren() → List<DiagnosticsNode></DiagnosticsNode></p><blockquote><p>返回描述此节点的子节点的DiagnosticsNode对象列表。</p></blockquote></li><li><p>noSuchMethod(Invocation invocation) → dynamic</p><blockquote><p>访问不存在的方法或属性时调用</p></blockquote></li><li><p>toDiagnosticsNode({String name, DiagnosticsTreeStyle style }) → DiagnosticsNode</p><blockquote><p>返回调试工具和DiagnosticsNode.toStringDeep使用的对象的调试表示形式</p></blockquote></li><li><p>toString({DiagnosticLevel minLevel: DiagnosticLevel.debug }) → String</p><blockquote><p>返回此对象的字符串表示形式</p></blockquote></li><li><p>toStringDeep({String prefixLineOne: ‘’, String prefixOtherLines, DiagnosticLevel minLevel: DiagnosticLevel.debug }) → String</p><blockquote><p>返回此节点及其后代的字符串表示形式</p></blockquote></li><li><p>toStringShallow({String joiner: ‘, ‘, DiagnosticLevel minLevel: DiagnosticLevel.debug }) → String</p><blockquote><p>返回对象的单行详细描述</p></blockquote></li><li><p>toStringShort() → String</p><blockquote><p>这个小部件的简短文字描述</p></blockquote></li></ul>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter Container </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flutter开发之BottomNavigationBar底部导航栏</title>
      <link href="/2019/08/14/Flutter%E5%BC%80%E5%8F%91%E4%B9%8BBottomNavigationBar%E5%BA%95%E9%83%A8%E5%AF%BC%E8%88%AA%E6%A0%8F/"/>
      <url>/2019/08/14/Flutter%E5%BC%80%E5%8F%91%E4%B9%8BBottomNavigationBar%E5%BA%95%E9%83%A8%E5%AF%BC%E8%88%AA%E6%A0%8F/</url>
      
        <content type="html"><![CDATA[<h3 id="BottomNavigationBar"><a href="#BottomNavigationBar" class="headerlink" title="BottomNavigationBar"></a>BottomNavigationBar</h3><blockquote><p>显示在应用程序的底部，用于在少量视图中进行选择，通常在三到五之间。</p></blockquote><p>底部导航栏通常与<code>Scaffold</code>结合使用，它作为<code>Scaffold.bottomNavigationBar</code>参数提供。</p><p>底部导航栏的类型更改其项目的显示方式。如果未指定，则当少于四个项时它会自动设置为<code>BottomNavigationBarType.fixed</code>，否则为<code>BottomNavigationBarType.shifting</code>。</p><p><code>BottomNavigationBarType.fixed</code>，当少于四个项目时的默认值。如果选中的项目为非null，则使用<code>selectedItemColor</code>渲染所选项目，否则使用主题的<code>ThemeData.primaryColor</code>。如果<code>backgroundColor</code>为<code>null</code>，则导航栏的背景颜色默认为<code>Material</code>背景颜色<code>ThemeData.canvasColor</code>（基本上是不透明的白色）。</p><p><code>BottomNavigationBarType.shifting</code>，当有四个或更多项时的默认值。如果<code>selectedItemColor</code>为<code>null</code>，则所有项目都以白色呈现。导航栏的背景颜色与所选项目的<code>BottomNavigationBarItem.backgroundColor</code>相同。在这种情况下，假设每个项目将具有不同的背景颜色，并且背景颜色将与白色形成鲜明对比。</p><p><strong>此示例显示BottomNavigationBar，因为它在Scaffold小部件中使用。 BottomNavigationBar有三个BottomNavigationBarItem小部件，currentIndex设置为索引0.所选项目为琥珀色。 _onItemTapped函数更改所选项的索引，并在Scaffold的中心显示相应的消息:</strong></p><p><img src="https://flutter.github.io/assets-for-api-docs/assets/material/bottom_navigation_bar.png" alt="IMG"> </p><p><strong>源码：</strong></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span> _selectedIndex = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">const</span> TextStyle optionStyle = TextStyle(fontSize: <span class="number">30</span>, fontWeight: FontWeight.bold);</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="built_in">List</span>&lt;Widget&gt; _widgetOptions = &lt;Widget&gt;[</span><br><span class="line">  Text(</span><br><span class="line">    <span class="string">'Index 0: Home'</span>,</span><br><span class="line">    style: optionStyle,</span><br><span class="line">  ),</span><br><span class="line">  Text(</span><br><span class="line">     <span class="string">'Index 1: Business'</span>,</span><br><span class="line">     style: optionStyle,</span><br><span class="line">  ),</span><br><span class="line">  Text(</span><br><span class="line">     <span class="string">'Index 2: School'</span>,</span><br><span class="line">     style: optionStyle,</span><br><span class="line">  ),</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> _onItemTapped(<span class="built_in">int</span> index) &#123;</span><br><span class="line">  setState(() &#123;</span><br><span class="line">    _selectedIndex = index;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@override</span></span><br><span class="line">Widget build(BuildContext context) &#123;</span><br><span class="line">  <span class="keyword">return</span> Scaffold(</span><br><span class="line">    appBar: AppBar(</span><br><span class="line">      title: <span class="keyword">const</span> Text(<span class="string">'BottomNavigationBar Sample'</span>),</span><br><span class="line">    ),</span><br><span class="line">    body: Center(</span><br><span class="line">      child: _widgetOptions.elementAt(_selectedIndex),</span><br><span class="line">    ),</span><br><span class="line">    bottomNavigationBar: BottomNavigationBar(</span><br><span class="line">      items: <span class="keyword">const</span> &lt;BottomNavigationBarItem&gt;[</span><br><span class="line">        BottomNavigationBarItem(</span><br><span class="line">          icon: Icon(Icons.home),</span><br><span class="line">          title: Text(<span class="string">'Home'</span>),</span><br><span class="line">        ),</span><br><span class="line">        BottomNavigationBarItem(</span><br><span class="line">          icon: Icon(Icons.business),</span><br><span class="line">          title: Text(<span class="string">'Business'</span>),</span><br><span class="line">        ),</span><br><span class="line">        BottomNavigationBarItem(</span><br><span class="line">          icon: Icon(Icons.school),</span><br><span class="line">          title: Text(<span class="string">'School'</span>),</span><br><span class="line">        ),</span><br><span class="line">      ],</span><br><span class="line">      currentIndex: _selectedIndex,</span><br><span class="line">      selectedItemColor: Colors.amber[<span class="number">800</span>],</span><br><span class="line">      onTap: _onItemTapped,</span><br><span class="line">    ),</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="构造方法（Constructors）"><a href="#构造方法（Constructors）" class="headerlink" title="构造方法（Constructors）"></a>构造方法（Constructors）</h4><blockquote><p>创建一个底部导航栏，通常用作Scaffold的Scaffold.bottomNavigationBar参数。</p></blockquote><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">BottomNavigationBar(&#123;</span><br><span class="line">    Key key, </span><br><span class="line">    <span class="meta">@required</span> <span class="built_in">List</span>&lt;BottomNavigationBarItem&gt; items, </span><br><span class="line">    ValueChanged&lt;<span class="built_in">int</span>&gt; onTap, </span><br><span class="line">    <span class="built_in">int</span> currentIndex: <span class="number">0</span>, </span><br><span class="line">    <span class="built_in">double</span> elevation: <span class="number">8.0</span>, </span><br><span class="line">    BottomNavigationBarType type, </span><br><span class="line">    Color fixedColor, </span><br><span class="line">    Color backgroundColor, </span><br><span class="line">    <span class="built_in">double</span> iconSize: <span class="number">24.0</span>, </span><br><span class="line">    Color selectedItemColor, </span><br><span class="line">    Color unselectedItemColor, </span><br><span class="line">    <span class="built_in">double</span> selectedFontSize: <span class="number">14.0</span>, </span><br><span class="line">    <span class="built_in">double</span> unselectedFontSize: <span class="number">12.0</span>, </span><br><span class="line">    <span class="built_in">bool</span> showSelectedLabels: <span class="keyword">true</span>, </span><br><span class="line">    <span class="built_in">bool</span> showUnselectedLabels </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="属性（Properties）"><a href="#属性（Properties）" class="headerlink" title="属性（Properties）"></a>属性（Properties）</h4><ul><li><code>backgroundColor → Color</code></li></ul><blockquote><p>背景颜色</p></blockquote><ul><li><code>currentIndex → int</code></li></ul><blockquote><p>当前活动<code>BottomNavigationBarItem</code>的项目索引(一般就是当前选中的那个项目索引)</p></blockquote><ul><li><code>elevation → double</code></li></ul><blockquote><p>此底部导航栏的Z坐标</p></blockquote><ul><li><code>fixedColor → Color</code></li></ul><blockquote><p>选中项目颜色的值（只读）</p></blockquote><ul><li><code>iconSize → double</code></li></ul><blockquote><p>所有<code>BottomNavigationBarItem</code>图标的大小</p></blockquote><ul><li><code>items → List&lt;BottomNavigationBarItem&gt;</code></li></ul><blockquote><p>定义在底部导航栏中排列的按钮项的外观</p></blockquote><ul><li><code>onTap → ValueChanged&lt;int&gt;</code></li></ul><blockquote><p>点击其中一个项目时响应事件</p></blockquote><ul><li><code>selectedFontSize → double</code></li></ul><blockquote><p>选中时<code>BottomNavigationBarItem</code>标签的字体大小</p></blockquote><ul><li><code>selectedItemColor → Color</code></li></ul><blockquote><p>选中时<code>BottomNavigationBarItem.icon</code>和<code>BottomNavigationBarItem.label</code>的颜色</p></blockquote><ul><li><code>showSelectedLabels → bool</code></li></ul><blockquote><p>是否为未选择的<code>BottomNavigationBarItems</code>显示标签</p></blockquote><ul><li><code>showUnselectedLabels → bool</code></li></ul><blockquote><p>是否为选定的<code>BottomNavigationBarItem</code>显示标签</p></blockquote><ul><li><code>type → BottomNavigationBarType</code></li></ul><blockquote><p>定义<code>BottomNavigationBar</code>的布局和行为</p></blockquote><ul><li><code>unselectedFontSize → double</code></li></ul><blockquote><p>未选中<code>BottomNavigationBarItem</code>标签的字体大小</p></blockquote><ul><li><code>unselectedItemColor → Color</code></li></ul><blockquote><p>未选中的<code>BottomNavigationBarItem.icon</code>和<code>BottomNavigationBarItem.labels</code>的颜色</p></blockquote><ul><li><code>hashCode → int</code></li></ul><blockquote><p>对象的哈希值（只读）</p></blockquote><ul><li><code>key → Key</code></li></ul><blockquote><p>控制一个小部件如何替换树中的另一个小部件</p></blockquote><ul><li><p><code>runtimeType → Type</code></p><blockquote><p>表示对象的运行时类型(只读)</p></blockquote></li></ul>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter BottomNavigationBar </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flutter开发之AppBar Widget</title>
      <link href="/2019/08/13/Flutter%E5%BC%80%E5%8F%91%E4%B9%8BAppBar%20Widget/"/>
      <url>/2019/08/13/Flutter%E5%BC%80%E5%8F%91%E4%B9%8BAppBar%20Widget/</url>
      
        <content type="html"><![CDATA[<h3 id="AppBar"><a href="#AppBar" class="headerlink" title="AppBar"></a>AppBar</h3><p>应用栏通常用于Scaffold.appBar属性，该属性将应用栏放置在屏幕顶部的固定高度小部件中。对于可滚动的应用栏，请参阅<a href="https://api.flutter.dev/flutter/material/SliverAppBar-class.html" target="_blank" rel="noopener">SliverAppBar</a>，它将一个AppBar嵌入到一个条子中，以便在CustomScrollView中使用。</p><p>AppBar在底部（如果有）上方显示工具栏小部件，前导，标题和操作。底部通常用于TabBar。如果指定了flexibleSpace窗口小部件，则它将堆叠在工具栏和底部窗口小部件后面。下图显示了当编写语言从左到右（例如英语）时，每个插槽在工具栏中的显示位置：<br><img src="https://flutter.github.io/assets-for-api-docs/assets/material/app_bar.png" alt="image"></p><p>如果省略了前导小部件，但AppBar位于带有抽屉的脚手架中，则会插入一个按钮以打开抽屉。否则，如果最近的导航器具有任何先前的路径，则会插入BackButton。可以通过将automatedImplyLeading设置为false来关闭此行为。在这种情况下，空的前导小部件将导致中间/标题小部件拉伸开始。</p><h4 id="构造方法（Constructors）"><a href="#构造方法（Constructors）" class="headerlink" title="构造方法（Constructors）"></a>构造方法（Constructors）</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">AppBar(&#123;</span><br><span class="line">    Key key, </span><br><span class="line">    Widget leading, </span><br><span class="line">    <span class="built_in">bool</span> automaticallyImplyLeading: <span class="keyword">true</span>, </span><br><span class="line">    Widget title, </span><br><span class="line">    <span class="built_in">List</span>&lt;Widget&gt; actions, </span><br><span class="line">    Widget flexibleSpace, </span><br><span class="line">    PreferredSizeWidget bottom, </span><br><span class="line">    <span class="built_in">double</span> elevation, </span><br><span class="line">    ShapeBorder shape, </span><br><span class="line">    Color backgroundColor, </span><br><span class="line">    Brightness brightness, </span><br><span class="line">    IconThemeData iconTheme, </span><br><span class="line">    IconThemeData actionsIconTheme, </span><br><span class="line">    TextTheme textTheme, </span><br><span class="line">    <span class="built_in">bool</span> primary: <span class="keyword">true</span>, </span><br><span class="line">    <span class="built_in">bool</span> centerTitle, <span class="built_in">double</span> titleSpacing: NavigationToolbar.kMiddleSpacing, </span><br><span class="line">    <span class="built_in">double</span> toolbarOpacity: <span class="number">1.0</span>, </span><br><span class="line">    <span class="built_in">double</span> bottomOpacity: <span class="number">1.0</span> </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>eg:</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">AppBar(</span><br><span class="line">  title: Text(<span class="string">'My Fancy Dress'</span>),</span><br><span class="line">  actions: &lt;Widget&gt;[</span><br><span class="line">    IconButton(</span><br><span class="line">      icon: Icon(Icons.playlist_play),</span><br><span class="line">      tooltip: <span class="string">'Air it'</span>,</span><br><span class="line">      onPressed: _airDress,</span><br><span class="line">    ),</span><br><span class="line">    IconButton(</span><br><span class="line">      icon: Icon(Icons.playlist_add),</span><br><span class="line">      tooltip: <span class="string">'Restitch it'</span>,</span><br><span class="line">      onPressed: _restitchDress,</span><br><span class="line">    ),</span><br><span class="line">    IconButton(</span><br><span class="line">      icon: Icon(Icons.playlist_add_check),</span><br><span class="line">      tooltip: <span class="string">'Repair it'</span>,</span><br><span class="line">      onPressed: _repairDress,</span><br><span class="line">    ),</span><br><span class="line">  ],</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h4 id="属性（Properties）"><a href="#属性（Properties）" class="headerlink" title="属性（Properties）"></a>属性（Properties）</h4><ul><li>actions → List<Widget></Widget></li></ul><blockquote><p>要在标题小部件后显示的小部件</p></blockquote><ul><li>actionsIconTheme → IconThemeData</li></ul><blockquote><p>用于应用栏操作中显示的图标的颜色，不透明度和大小。仅当操作的主题不同于应用栏的主要小部件中显示的图标时，才应使用此选项</p></blockquote><ul><li>automaticallyImplyLeading → bool</li></ul><blockquote><p>Controls whether we should try to imply the leading widget if null. […]</p></blockquote><ul><li>backgroundColor → Color</li></ul><blockquote><p>用于应用栏材质的颜色。通常这应该与亮度，iconTheme，textTheme一起设置。</p></blockquote><ul><li>bottom → PreferredSizeWidget</li></ul><blockquote><p>此小组件显示在应用栏的底部</p></blockquote><ul><li>bottomOpacity → double</li></ul><blockquote><p>应用栏底部的不透明程度(0.0 - 1.0)</p></blockquote><ul><li>brightness → Brightness</li></ul><blockquote><p>应用栏材质的亮度。通常，这与backgroundColor，iconTheme，textTheme一起设置</p></blockquote><ul><li>centerTitle → bool</li></ul><blockquote><p>标题是否居中</p></blockquote><ul><li>elevation → double</li></ul><blockquote><p>放置此应用程序栏相对于其父应用程序栏的Z坐标</p></blockquote><ul><li>flexibleSpace → Widget</li></ul><blockquote><p>此小组件堆叠在工具栏和选项卡栏后面。它的高度与应用栏的整体高度相同</p></blockquote><ul><li>iconTheme → IconThemeData</li></ul><blockquote><p>用于应用栏图标的颜色，不透明度和大小。通常，这与backgroundColor，brightness，textTheme一起设置</p></blockquote><ul><li>leading → Widget</li></ul><blockquote><p>要在标题之前显示的小部件</p></blockquote><ul><li>preferredSize → Size</li></ul><blockquote><p>高度为kToolbarHeight和底部窗口小部件首选高度之和的大小</p></blockquote><ul><li>primary → bool</li></ul><blockquote><p>此应用栏是否显示在屏幕顶部</p></blockquote><ul><li>shape → ShapeBorder</li></ul><blockquote><p>形状和阴影</p></blockquote><ul><li>textTheme → TextTheme</li></ul><blockquote><p>应用栏中用于文本的排版样式。通常，这与亮度backgroundColor，iconTheme一起设置</p></blockquote><ul><li>title → Widget</li></ul><blockquote><p>appbar中显示的主要小部件</p></blockquote><ul><li>titleSpacing → double</li></ul><blockquote><p>横轴上标题内容周围的间距。即使没有前导内容或操作，也会应用此间距。如果希望title占用所有可用空间，请将此值设置为0.0</p></blockquote><ul><li><p>toolbarOpacity → double</p><blockquote><p>应用栏的工具栏部分透明度(0.0-1.0)</p></blockquote></li></ul>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter AppBar </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flutter开发之基础 Widgets</title>
      <link href="/2019/08/12/Flutter%E5%BC%80%E5%8F%91%E4%B9%8B%E5%9F%BA%E7%A1%80%20Widgets/"/>
      <url>/2019/08/12/Flutter%E5%BC%80%E5%8F%91%E4%B9%8B%E5%9F%BA%E7%A1%80%20Widgets/</url>
      
        <content type="html"><![CDATA[<h3 id="基础-Widgets"><a href="#基础-Widgets" class="headerlink" title="基础 Widgets"></a>基础 Widgets</h3><ol><li><p><a href="https://docs.flutter.io/flutter/widgets/Container-class.html" target="_blank" rel="noopener">Container</a></p><blockquote><p>一个拥有绘制、定位、调整大小的 widget。</p></blockquote></li><li><p><a href="https://docs.flutter.io/flutter/widgets/Row-class.html" target="_blank" rel="noopener">Row</a></p><blockquote><p>在水平方向上排列子widget的列表。</p></blockquote></li><li><p><a href="https://docs.flutter.io/flutter/widgets/Column-class.html" target="_blank" rel="noopener">Column</a></p><blockquote><p>在垂直方向上排列子widget的列表。</p></blockquote></li><li><p><a href="https://docs.flutter.io/flutter/widgets/Image-class.html" target="_blank" rel="noopener">Image</a></p><blockquote><p>一个显示图片的widget。</p></blockquote></li><li><p><a href="https://docs.flutter.io/flutter/widgets/Text-class.html" target="_blank" rel="noopener">Text</a></p><blockquote><p>单一格式的文本。</p></blockquote></li><li><p><a href="https://docs.flutter.io/flutter/widgets/Icon-class.html" target="_blank" rel="noopener">Icon</a></p><blockquote><p>图标。</p></blockquote></li><li><p><a href="https://docs.flutter.io/flutter/material/RaisedButton-class.html" target="_blank" rel="noopener">RaisedButton</a></p><blockquote><p>Material Design中的button，一个凸起的材质矩形按钮</p></blockquote></li><li><p><a href="https://docs.flutter.io/flutter/material/Scaffold-class.html" target="_blank" rel="noopener">Scaffold</a></p><blockquote><p>Material Design布局结构的基本实现。此类提供了用于显示drawer、snackbar和底部sheet的API。</p></blockquote></li><li><p><a href="https://docs.flutter.io/flutter/material/AppBar-class.html" target="_blank" rel="noopener">AppBar</a></p><blockquote><p>一个Material Design应用程序栏，由工具栏和其他可能的widget（如TabBar和FlexibleSpaceBar）组成。</p></blockquote></li><li><p><a href="https://docs.flutter.io/flutter/material/FlutterLogo-class.html" target="_blank" rel="noopener">FlutterLogo</a></p><blockquote><p>Flutter logo,以widget形式,这个widget遵从IconTheme。</p></blockquote></li><li><p><a href="https://docs.flutter.io/flutter/widgets/Placeholder-class.html" target="_blank" rel="noopener">Placeholder</a></p><blockquote><p>一个绘制了一个盒子的的widget，代表日后有widget将会被添加到该盒子中</p></blockquote></li></ol>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter Widgets </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flutter-go运行报错（FIRAnalyticsConfiguration）</title>
      <link href="/2019/07/19/Flutter-go%E8%BF%90%E8%A1%8C%E6%8A%A5%E9%94%99%EF%BC%88FIRAnalyticsConfiguration%EF%BC%89/"/>
      <url>/2019/07/19/Flutter-go%E8%BF%90%E8%A1%8C%E6%8A%A5%E9%94%99%EF%BC%88FIRAnalyticsConfiguration%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<h3 id="flutter-go-项目下载后，运行报如下错误："><a href="#flutter-go-项目下载后，运行报如下错误：" class="headerlink" title="flutter go 项目下载后，运行报如下错误："></a>flutter go 项目下载后，运行报如下错误：</h3><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">Launching lib/main.dart <span class="keyword">on</span> iPhone Xʀ <span class="keyword">in</span> debug mode...</span><br><span class="line">Running Xcode build...                                                  </span><br><span class="line">                                                   </span><br><span class="line">Xcode build done.                                            <span class="number">3.3</span>s</span><br><span class="line">Failed to build iOS app</span><br><span class="line">Error output from Xcode build:</span><br><span class="line">↳</span><br><span class="line">    ** BUILD FAILED **</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Xcode<span class="string">'s output:</span></span><br><span class="line"><span class="string">↳</span></span><br><span class="line"><span class="string">    === BUILD TARGET firebase_analytics OF PROJECT Pods WITH CONFIGURATION Debug ===</span></span><br><span class="line"><span class="string">    /Users/l/Documents/flutter/.pub-cache/hosted/pub.dartlang.org/firebase_analytics-2.1.1+2/ios/Classes/FirebaseAnalyticsPlu</span></span><br><span class="line"><span class="string">    gin.m:60:7: error: use of undeclared identifier '</span>FIRAnalyticsConfiguration<span class="string">'</span></span><br><span class="line"><span class="string">        [[FIRAnalyticsConfiguration sharedInstance] setAnalyticsCollectionEnabled:[enabled boolValue]];</span></span><br><span class="line"><span class="string">          ^</span></span><br><span class="line"><span class="string">    1 error generated.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Could not build the application for the simulator.</span></span><br><span class="line"><span class="string">Error launching application on iPhone Xʀ.</span></span><br></pre></td></tr></table></figure><p><strong>解决方案：</strong></p><hr><p>将根目录下<code>pubspec.yaml</code>文件中 <code>firebase_analytics: ^2.0.2+1</code> 改为 <code>firebase_analytics: ^3.0.1</code> 之后运行flutter run</p><hr><p><em>执行通过</em></p>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter的坑 </tag>
            
            <tag> Flutter-go </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flutter Flutter.h file not found</title>
      <link href="/2019/07/05/Flutter%20Flutter.h%20file%20not%20found/"/>
      <url>/2019/07/05/Flutter%20Flutter.h%20file%20not%20found/</url>
      
        <content type="html"><![CDATA[<h4 id="1-‘Flutter-Flutter-h’-file-not-found"><a href="#1-‘Flutter-Flutter-h’-file-not-found" class="headerlink" title="1. ‘Flutter/Flutter.h’ file not found"></a>1. ‘Flutter/Flutter.h’ file not found</h4><h5 id="解决方案1"><a href="#解决方案1" class="headerlink" title="解决方案1."></a>解决方案1.</h5><p>点击这里<a href="https://github.com/flutter/flutter/tree/master/packages/flutter_tools/templates/cocoapods" target="_blank" rel="noopener">前往下载</a>对应版本文件,替换原来的文件<code>ios/Podfile</code>内容，删除<code>ios/Podfile.lock</code>,重新 <code>pod install</code> 即可</p><h5 id="解决方案2"><a href="#解决方案2" class="headerlink" title="解决方案2."></a>解决方案2.</h5><p>执行代码：<code>flutter run -v</code> 和 <code>flutter doctor -v</code> 检测配置是否成功</p><p>可能会出现以下情况：</p><p>Mac os 10.15 无法打开“idevice_id”,因为无法验证开发者</p><p>Mac os 10.15 无法打开“ideviceinfo”,因为无法验证开发者</p><p>解决方法 打开终端（Terminal），输入以下命令后回车，如需要，请输入密码</p><p><code>sudo xattr -r -d com.apple.quarantine &lt;path&gt;</code></p><blockquote><p>注：<path></path>为应用程序路径，直接从文件夹目录拖拽即可自动填写<path></path></p></blockquote><h5 id="解决方案3"><a href="#解决方案3" class="headerlink" title="解决方案3."></a>解决方案3.</h5><p> 找到 <code>iOS/Flutter</code> 文件夹，再找到以前备份的无报错代码替换掉文件夹内容，应该就不会报错了。</p><p> 再执行下 <code>flutter build ios --release</code><br> 编译过程中会重新生成新的  <code>iOS/Flutter</code> 文件夹下内容，覆盖我们替换的文件。</p><h5 id="以上解决方案有可能需要结合使用。"><a href="#以上解决方案有可能需要结合使用。" class="headerlink" title="以上解决方案有可能需要结合使用。"></a>以上解决方案有可能需要结合使用。</h5>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter的坑 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flutter 编译成Swift</title>
      <link href="/2019/06/29/Flutter%20%E7%BC%96%E8%AF%91%E6%88%90Swift/"/>
      <url>/2019/06/29/Flutter%20%E7%BC%96%E8%AF%91%E6%88%90Swift/</url>
      
        <content type="html"><![CDATA[<h3 id="flutter-create-i-swift-a-kotlin-swiftflutter"><a href="#flutter-create-i-swift-a-kotlin-swiftflutter" class="headerlink" title="flutter create -i swift -a kotlin swiftflutter"></a><code>flutter create -i swift -a kotlin swiftflutter</code></h3><h3 id="flutter-create-org-com-yourcompany-i-swift-a-kotlin-description-39-Your-App-Description-39-your-app-name"><a href="#flutter-create-org-com-yourcompany-i-swift-a-kotlin-description-39-Your-App-Description-39-your-app-name" class="headerlink" title="flutter create --org com.yourcompany -i swift -a kotlin --description &#39;Your App Description&#39; your_app_name"></a><code>flutter create --org com.yourcompany -i swift -a kotlin --description &#39;Your App Description&#39; your_app_name</code></h3><p>flutter  run -d 06157df6f3881f3e  –flavor tencent</p>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter命令 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flutter  VSCode命令收集</title>
      <link href="/2019/06/27/Flutter%20%20VSCode%E5%91%BD%E4%BB%A4%E6%94%B6%E9%9B%86/"/>
      <url>/2019/06/27/Flutter%20%20VSCode%E5%91%BD%E4%BB%A4%E6%94%B6%E9%9B%86/</url>
      
        <content type="html"><![CDATA[<ul><li><p><code>open -a Simulator</code></p><blockquote><p>打开模拟器</p></blockquote></li><li><p><code>flutter run</code></p><blockquote><p>编译执行flutter程序</p></blockquote></li><li><p><code>flutter packages get</code></p><blockquote><p>获取相同版本的软件包</p></blockquote></li><li><p><code>flutter packages upgrade</code></p><blockquote><p>如果要升级到软件包的新版本，例如使用该软件包中的新功能</p></blockquote></li></ul>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> VSCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>androidx</title>
      <link href="/2019/06/25/androidx/"/>
      <url>/2019/06/25/androidx/</url>
      
        <content type="html"><![CDATA[<h4 id="1-ViewModelProviders"><a href="#1-ViewModelProviders" class="headerlink" title="1. ViewModelProviders"></a>1. ViewModelProviders</h4><p>在<code>build.gradle</code> 的 <code>dependencies</code> 中加入</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">implementation <span class="string">'androidx.lifecycle:lifecycle-extensions:2.0.0'</span></span><br></pre></td></tr></table></figure><p>在使用的地方导入：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> androidx.lifecycle.ViewModelProviders;</span><br></pre></td></tr></table></figure><p>即可使用：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">myViewModel = ViewModelProviders.of(<span class="keyword">this</span>).get(MyViewModel<span class="class">.<span class="keyword">class</span>)</span>;</span><br></pre></td></tr></table></figure><blockquote><p>该方法 2.1.0 已弃用 ViewModelProviders.of() ,改为</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//导入 import androidx.lifecycle.ViewModelProvider;</span></span><br><span class="line">myViewModel = ViewModelProvider(<span class="keyword">this</span>).get(MyViewModel<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//或者</span></span><br><span class="line">myViewModel = ViewModelProvider(getActivity()).get(MyViewModel<span class="class">.<span class="keyword">class</span>)</span>;</span><br></pre></td></tr></table></figure><h4 id="2-DataBinding"><a href="#2-DataBinding" class="headerlink" title="2. DataBinding"></a>2. DataBinding</h4><p>在 <code>build.gradle</code> 的  defaultConfig中加入 </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dataBinding&#123;</span><br><span class="line">    enabled <span class="keyword">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>Sync Now</code>一下，把下面代码套在布局最外层，即可使用。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;layout xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    xmlns:app=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span><br><span class="line">    xmlns:tools=<span class="string">"http://schemas.android.com/tools"</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;data&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/data&gt;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//============</span></span><br><span class="line">    <span class="comment">//这里写自己的布局</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&lt;/layout&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Android Studio运行Flutter项目run不起来</title>
      <link href="/2019/06/19/Android%20Studio%E8%BF%90%E8%A1%8CFlutter%E9%A1%B9%E7%9B%AErun%E4%B8%8D%E8%B5%B7%E6%9D%A5/"/>
      <url>/2019/06/19/Android%20Studio%E8%BF%90%E8%A1%8CFlutter%E9%A1%B9%E7%9B%AErun%E4%B8%8D%E8%B5%B7%E6%9D%A5/</url>
      
        <content type="html"><![CDATA[<h4 id="解决方案："><a href="#解决方案：" class="headerlink" title="解决方案："></a>解决方案：</h4><ol><li>修改<code>Flutter SDK</code>中的<code>flutter.gradle</code>文件,通过 <code>flutter&gt;packages&gt;flutter_tools&gt;gradle&gt;flutter.gradle</code>(注意这是Flutter SDK安装位置不是Android Studio的)路径找到<code>flutter.gradle</code>，打开<code>flutter.gradle</code>文件，修改配置：</li></ol><p>注释掉<code>google()</code>和<code>jcenter()</code>,加入阿里的配置项</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">maven &#123;url <span class="string">'https://maven.aliyun.com/repository/google'</span>&#125;</span><br><span class="line">maven &#123;url <span class="string">'https://maven.aliyun.com/repository/jcenter'</span>&#125;</span><br><span class="line">maven &#123;url <span class="string">'https://maven.aliyun.com/nexus/content/groups/public'</span>&#125;</span><br></pre></td></tr></table></figure><p> 修改后：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">buildscript &#123;</span><br><span class="line">    repositories &#123;</span><br><span class="line">        <span class="comment">//注释掉 google()和jcenter()</span></span><br><span class="line">        <span class="comment">// google()</span></span><br><span class="line">        <span class="comment">// jcenter()</span></span><br><span class="line">    maven &#123;url <span class="string">'https://maven.aliyun.com/repository/google'</span>&#125;</span><br><span class="line">    maven &#123;url <span class="string">'https://maven.aliyun.com/repository/jcenter'</span>&#125;</span><br><span class="line">    maven &#123;url <span class="string">'https://maven.aliyun.com/nexus/content/groups/public'</span>&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    dependencies &#123;</span><br><span class="line">        classpath <span class="string">'com.android.tools.build:gradle:3.2.1'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li><p>手动下载<code>gradle</code>进行配置</p><p>找到创建的flutter项目：</p><p>通过路径<code>flutterdemo001/android/gradle/wrapper/gradle-wrapper.properties</code>找到对应文件打开后：</p></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#Fri Jun 23 08:50:38 CEST 2017</span><br><span class="line">distributionBase=GRADLE_USER_HOME</span><br><span class="line">distributionPath=wrapper/dists</span><br><span class="line">zipStoreBase=GRADLE_USER_HOME</span><br><span class="line">zipStorePath=wrapper/dists</span><br><span class="line">distributionUrl=https\:<span class="comment">//services.gradle.org/distributions/gradle-4.10.2-all.zip</span></span><br></pre></td></tr></table></figure><p>​<br>  找到<code>distributionUrl</code>对应的地址<code>https://services.gradle.org/distributions/gradle-4.10.2-all.zip</code>就是gradle的下载地址,注意文件中https后面有个<code>\</code>,复制到浏览器记得要删掉</p><p>   点击下载 <a href="https://services.gradle.org/distributions/gradle-4.10.2-all.zip" target="_blank" rel="noopener">gradle-4.10.2-all.zip</a></p><p>   点击下载<a href="http://services.gradle.org/distributions/" target="_blank" rel="noopener">其他版本gradle</a></p><p>   下载完成后，进行解压。<br>   然后打开目录：<code>Macintosh HD 》 用户 》当前登录用户名称》.gradle》wrapper》dists</code>⁩,<br>   可能有些电脑未打开隐藏文件可见，是看不到<code>.gradle</code>文件夹的,它是一个隐藏文件夹。<br>   使用快捷键<code>shift+command+.</code>来切换隐藏文件可见还是隐藏。找到dists文件夹后，把解压后的<code>gradle</code>拷贝一份放到dists文件夹下即可。</p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> Android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Swift 简单链表实现</title>
      <link href="/2019/06/17/Swift%E7%AE%80%E5%8D%95%E9%93%BE%E8%A1%A8%E5%AE%9E%E7%8E%B0/"/>
      <url>/2019/06/17/Swift%E7%AE%80%E5%8D%95%E9%93%BE%E8%A1%A8%E5%AE%9E%E7%8E%B0/</url>
      
        <content type="html"><![CDATA[<h4 id="Swift-简单链表实现"><a href="#Swift-简单链表实现" class="headerlink" title="Swift 简单链表实现"></a>Swift 简单链表实现</h4><blockquote><p>链表中的元素在内存中不是顺序存储的，查找慢，插入、删除只需要对元素指针重新赋值，效率高；数组元素在内存上连续存放，可以通过下标查找元素；插入、删除需要移动大量元素，比较适用于元素很少变化的情况</p></blockquote><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="comment">//链表节点</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> value: <span class="type">T</span> <span class="comment">//节点存储数据</span></span><br><span class="line">    <span class="keyword">weak</span> <span class="keyword">var</span> next: <span class="type">Node?</span> <span class="comment">//节点链接到的下一个节点</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">weak</span> <span class="keyword">var</span> previous: <span class="type">Node?</span><span class="comment">//节点链接到的上一个节点</span></span><br><span class="line">     </span><br><span class="line">    <span class="keyword">init</span>(value: <span class="type">T</span>) &#123;</span><br><span class="line">      <span class="keyword">self</span>.value = value</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//自定义链表</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NodeList</span>:<span class="title">CustomStringConvertible</span></span>&#123;</span><br><span class="line">    <span class="comment">//链表起点节点</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> head:<span class="type">Node?</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//链表终点节点</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> tail:<span class="type">Node?</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//链表内数据是否为空</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">var</span> isEmpty:<span class="type">Bool</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> head == <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//返回第一个节点</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">var</span> first:<span class="type">Node?</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> head</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//返回最后一个节点</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">var</span> last:<span class="type">Node?</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> tail</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//添加一个链接节点数据</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">append</span><span class="params">(value:T)</span></span>&#123;</span><br><span class="line">        <span class="keyword">let</span> newNode = <span class="type">Node</span>(value: value)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> tailNode = tail&#123;</span><br><span class="line">            newNode.previous = tailNode</span><br><span class="line">            tailNode.next = newNode</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            head = newNode</span><br><span class="line">        &#125;</span><br><span class="line">        tail = newNode</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//删除节点</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">remove</span><span class="params">(node:Node)</span></span> -&gt; <span class="type">T</span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//保存要删除节点的上一个和下一个节点</span></span><br><span class="line">        <span class="keyword">let</span> prev = node.previous</span><br><span class="line">        <span class="keyword">let</span> next = node.next</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//如果要删处节点的上一节点不为空</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> prev = prev &#123;</span><br><span class="line">            <span class="comment">//上一个节点链接到的下一个节点，修改为要删除的下一个节点</span></span><br><span class="line">            prev.next = next</span><br><span class="line">        &#125;</span><br><span class="line">            <span class="comment">//如果要删处节点的上一节点为空，说明要删除的是链表起点节点</span></span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//把下一个节点改为起点节点</span></span><br><span class="line">            head = next</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//要删出的上一个节点，链接到上一个节点</span></span><br><span class="line">        next?.previous = prev</span><br><span class="line">        <span class="keyword">if</span> next == <span class="literal">nil</span> &#123;</span><br><span class="line">            <span class="comment">//next为nil说明要删除的是最后一个，把倒数以前倒数第二个，置为最后一个</span></span><br><span class="line">            tail = prev</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        node.previous = <span class="literal">nil</span></span><br><span class="line">        node.next = <span class="literal">nil</span></span><br><span class="line">        <span class="keyword">return</span> node.value</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//删除所有节点数据</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">removeAll</span><span class="params">()</span></span> &#123;</span><br><span class="line">      head = <span class="literal">nil</span></span><br><span class="line">      tail = <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//取对应索引的节点</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">nodeAt</span><span class="params">(index: Int)</span></span> -&gt; <span class="type">Node?</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> index &gt;= <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> node = head</span><br><span class="line">        <span class="keyword">var</span> i = index</span><br><span class="line">        <span class="keyword">while</span> node != <span class="literal">nil</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> i == <span class="number">0</span> &#123; <span class="keyword">return</span> node &#125;</span><br><span class="line">          i -= <span class="number">1</span></span><br><span class="line">          node = node!.next</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//输出节点数据</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">var</span> description: <span class="type">String</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> text = <span class="string">""</span></span><br><span class="line">        <span class="keyword">var</span> node = head</span><br><span class="line">        <span class="keyword">while</span> node != <span class="literal">nil</span> &#123;</span><br><span class="line">            text += <span class="string">"\(node!.value)"</span></span><br><span class="line">            </span><br><span class="line">            node = node!.next</span><br><span class="line">            <span class="keyword">if</span> node != <span class="literal">nil</span> &#123;</span><br><span class="line">                text += <span class="string">","</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"["</span> + text + <span class="string">"]"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Swift </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 链表 </tag>
            
            <tag> swift </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>touch取消textfield的第一响应</title>
      <link href="/2019/06/17/touch%E5%8F%96%E6%B6%88textfield%E7%9A%84%E7%AC%AC%E4%B8%80%E5%93%8D%E5%BA%94/"/>
      <url>/2019/06/17/touch%E5%8F%96%E6%B6%88textfield%E7%9A%84%E7%AC%AC%E4%B8%80%E5%93%8D%E5%BA%94/</url>
      
        <content type="html"><![CDATA[<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">touchesEnded</span><span class="params">(<span class="number">_</span> touches: Set&lt;UITouch&gt;, with event: UIEvent?)</span></span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> touch:<span class="type">AnyObject</span> <span class="keyword">in</span> touches &#123;</span><br><span class="line">        <span class="keyword">let</span> t:<span class="type">UITouch</span> = touch <span class="keyword">as</span>! <span class="type">UITouch</span></span><br><span class="line">        <span class="comment">//检测当前触摸的view是否是textField</span></span><br><span class="line">        <span class="keyword">if</span> t.view == pwdField || t.view == pwdField || t.view == phoneField&#123;</span><br><span class="line">            t.view?.becomeFirstResponder()</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            phoneField.resignFirstResponder()</span><br><span class="line">            pwdField.resignFirstResponder()</span><br><span class="line">            verificationField.resignFirstResponder()</span><br><span class="line">            <span class="keyword">self</span>.resignFirstResponder()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Swift </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Responsder </tag>
            
            <tag> touch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Swift Responsder</title>
      <link href="/2019/06/17/SwiftResponsder/"/>
      <url>/2019/06/17/SwiftResponsder/</url>
      
        <content type="html"><![CDATA[<h3 id="通过响应者链获取对应的第一个符合条件的Responsder"><a href="#通过响应者链获取对应的第一个符合条件的Responsder" class="headerlink" title="通过响应者链获取对应的第一个符合条件的Responsder"></a>通过响应者链获取对应的第一个符合条件的Responsder</h3><blockquote><p>传入响应检测的起点<code>Responsder</code>，一般用于UIView中查找响应者链中的控制器</p></blockquote><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">nextResponder</span><span class="params">(currentView:UIView)</span></span>-&gt;<span class="type">UIViewController</span>&#123;</span><br><span class="line"><span class="keyword">var</span> vc:<span class="type">UIResponder</span> = currentView</span><br><span class="line"><span class="keyword">while</span> vc.isKind(of: <span class="type">UIViewController</span>.<span class="keyword">self</span>) != <span class="literal">true</span> &#123;</span><br><span class="line">vc = vc.next!</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> vc <span class="keyword">as</span>! <span class="type">UIViewController</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Swift </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Responsder </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Swift中String转类名Class</title>
      <link href="/2019/06/17/Swift%E4%B8%ADString%E8%BD%AC%E7%B1%BB%E5%90%8DClass/"/>
      <url>/2019/06/17/Swift%E4%B8%ADString%E8%BD%AC%E7%B1%BB%E5%90%8DClass/</url>
      
        <content type="html"><![CDATA[<h3 id="String-gt-Class"><a href="#String-gt-Class" class="headerlink" title="String-&gt;Class"></a>String-&gt;Class</h3><blockquote><p>Swift中引入了命名空间的概念，转Class需要拼接命名空间</p></blockquote><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//这是一个简单的通过字符串类名，转Class然后初始化后跳转的一个小例子</span></span><br><span class="line"><span class="meta">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">OnClick</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//控制器字符串名称</span></span><br><span class="line">    <span class="keyword">let</span> vcNameString = <span class="string">"OneViewController"</span></span><br><span class="line">    <span class="comment">//获取命名空间也就是项目名称</span></span><br><span class="line">    <span class="keyword">let</span> clsName = <span class="type">Bundle</span>.main.infoDictionary![<span class="string">"CFBundleExecutable"</span>] <span class="keyword">as</span>? <span class="type">String</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//拼接</span></span><br><span class="line">    <span class="keyword">let</span> className=clsName! + <span class="string">"."</span> + vcNameString</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//字符串转Class 需要注意的是这里的`UIViewController`强转必须带上`.Type`,否则转换不成功</span></span><br><span class="line">    <span class="keyword">let</span> classT = <span class="type">NSClassFromString</span>(className)! <span class="keyword">as</span>! <span class="type">UIViewController</span>.<span class="type">Type</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="type">URLRouter</span>.shared.pushViewController(viewController:classT.<span class="keyword">init</span>()  , animated: <span class="literal">true</span>)</span><br><span class="line">&#125;<span class="comment">//成功完成跳转</span></span><br></pre></td></tr></table></figure><a id="more"></a><ul><li><strong><em>注意</em></strong><ol><li>Swift中引入了命名空间的概念，转Class需要拼接命名空间</li><li>这里的<code>UIViewController</code>强转必须带上<code>.Type</code>,否则转换不成功</li></ol></li></ul>]]></content>
      
      
      <categories>
          
          <category> Swift </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> Class </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Android报错</title>
      <link href="/2019/06/17/Android%20%E6%8A%A5%E9%94%99/"/>
      <url>/2019/06/17/Android%20%E6%8A%A5%E9%94%99/</url>
      
        <content type="html"><![CDATA[<h5 id="1-MISSING-ACCESSIBILITY-LABEL-WHERE-MINSDK-lt-17-YOU-SHOULD-PROVIDE-AN-‘ANDROID-HINT’"><a href="#1-MISSING-ACCESSIBILITY-LABEL-WHERE-MINSDK-lt-17-YOU-SHOULD-PROVIDE-AN-‘ANDROID-HINT’" class="headerlink" title="1.*MISSING ACCESSIBILITY LABEL: WHERE MINSDK &lt; 17, YOU SHOULD PROVIDE AN ‘ANDROID:HINT’ *"></a>1.*<em>MISSING ACCESSIBILITY LABEL: WHERE MINSDK &lt; 17, YOU SHOULD PROVIDE AN ‘ANDROID:HINT’ *</em></h5><blockquote><p>在布局文件（默认为main_activity.xml）添加</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xmlns:tools=<span class="string">"http://schemas.android.com/tools"</span></span><br><span class="line">  </span><br><span class="line">tools:ignore=<span class="string">"LabelFor"</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>根目录下的build.gradle</title>
      <link href="/2019/06/16/%E3%80%8Ebuild.gradle%E3%80%8F/"/>
      <url>/2019/06/16/%E3%80%8Ebuild.gradle%E3%80%8F/</url>
      
        <content type="html"><![CDATA[<h4 id="根目录下的build-gradle"><a href="#根目录下的build-gradle" class="headerlink" title="根目录下的build.gradle"></a>根目录下的build.gradle</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Top-level build file where you can add configuration options common to all sub-projects/modules.</span></span><br><span class="line"></span><br><span class="line">buildscript &#123;</span><br><span class="line">    repositories &#123;</span><br><span class="line">        google()</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//代码托管库，设置后可以在项目中引用jcenter上的开源项目</span></span><br><span class="line">        jcenter()</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//引用anroid插件</span></span><br><span class="line">    dependencies &#123;</span><br><span class="line">    </span><br><span class="line">        <span class="comment">//声明gradle插件，插件版本号</span></span><br><span class="line">        classpath <span class="string">'com.android.tools.build:gradle:3.5.3'</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// <span class="doctag">NOTE:</span> Do not place your application dependencies here; they belong</span></span><br><span class="line">        <span class="comment">// in the individual module build.gradle files</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">allprojects &#123;</span><br><span class="line">    repositories &#123;</span><br><span class="line">        google()</span><br><span class="line">        jcenter()</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">task <span class="title">clean</span><span class="params">(type: Delete)</span> </span>&#123;</span><br><span class="line">    delete rootProject.buildDir</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="app目录下的build-gradle"><a href="#app目录下的build-gradle" class="headerlink" title="app目录下的build.gradle"></a>app目录下的build.gradle</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//声明是Android应用程序还是库模块</span></span><br><span class="line"><span class="comment">//com.android.appliccation 标识应用程序，可以直接运行</span></span><br><span class="line"><span class="comment">//com.android.library 标识这是一个库模块，依附于别的应用程序运行</span></span><br><span class="line"></span><br><span class="line">apply plugin: <span class="string">'com.android.application'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//配置项目构建的各种属性</span></span><br><span class="line">android &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//程序在编译时会检查lint，有任何错误提示会停止build，我们可以关闭这个开关</span></span><br><span class="line">    lintOptions&#123;</span><br><span class="line">        <span class="comment">//即使报错也不会停止打包</span></span><br><span class="line">        abortOnError <span class="keyword">false</span></span><br><span class="line">        <span class="comment">//打包release版本的时候是否进行检测</span></span><br><span class="line">        checkReleaseBuilds <span class="keyword">false</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//编译SDK的版本，也就是API Level</span></span><br><span class="line">    compileSdkVersion <span class="number">28</span></span><br><span class="line">    <span class="comment">//build tools的版本，其中包括了打包工具aapt 、 dx</span></span><br><span class="line">    <span class="comment">//这个目录工具位于 sdk目录/build-tools/ 下</span></span><br><span class="line">    buildToolsVersion <span class="string">'28.0.3'</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//关闭Android Studio的PNG合法性检查</span></span><br><span class="line">    aaptOptions.cruncherEnabled = <span class="keyword">false</span></span><br><span class="line">    aaptOptions.useNewCruncher = <span class="keyword">false</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//默认配置</span></span><br><span class="line">    defaultConfig &#123;</span><br><span class="line">        <span class="comment">//应用程序的包名</span></span><br><span class="line">        applicationId <span class="string">"com.ifeiyv.android001"</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//最小的SDK版本，如果设置小于这个版本，或者大于maxSdkVersion将无法安装这个应用</span></span><br><span class="line">        minSdkVersion <span class="number">19</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//目标sdk版本，充分测试过的版本（建议版本）</span></span><br><span class="line">        targetSdkVersion <span class="number">28</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//版本号 每次更新增减</span></span><br><span class="line">        versionCode <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//版本号，用户看到的版本号</span></span><br><span class="line">        versionName <span class="string">"1.0"</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//指定打包成Jar文件时候的文件名称</span></span><br><span class="line">        archivesBaseName = <span class="string">"demo-$versionName"</span></span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        <span class="comment">//Native Development Kit</span></span><br><span class="line">        <span class="comment">//原生开发工具包是一组可以让您在Android应用中利用C和c++代码的工具,可用以从您自己的源代码构建,或者利用现有的预构建库.</span></span><br><span class="line">        ndk&#123;</span><br><span class="line">            <span class="comment">//设置（so）文件名称</span></span><br><span class="line">            moduleName <span class="string">"testfeiyv"</span></span><br><span class="line">            ldLibs <span class="string">"log"</span>,<span class="string">"z"</span>,<span class="string">"m"</span>,<span class="string">"jnigraphics"</span>,<span class="string">"android"</span></span><br><span class="line">            </span><br><span class="line">            <span class="comment">//显示指定支持的ABIs</span></span><br><span class="line">            abiFilters <span class="string">"armeabi"</span>,<span class="string">"x86"</span>,<span class="string">"armeabi-v7a"</span></span><br><span class="line">            </span><br><span class="line">            <span class="comment">//C++11</span></span><br><span class="line">            cFlags <span class="string">"-sd=c++11 -fexceptions"</span></span><br><span class="line">            </span><br><span class="line">            stl <span class="string">"gnustl_static"</span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//当方法数超过65535的时候允许打包成多个dex文件，动态加载dex</span></span><br><span class="line">        <span class="comment">//(方法的索引使用的是一个short值，而short最大值是65535)</span></span><br><span class="line">        multiDexEnabled <span class="keyword">true</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//Instrumentation单元测试</span></span><br><span class="line">        testInstrumentationRunner <span class="string">"androidx.test.runner.AndroidJUnitRunner"</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    sourceSets&#123;</span><br><span class="line">        main&#123;</span><br><span class="line">            <span class="comment">//指定清单文件</span></span><br><span class="line">            manifest.srcFile <span class="string">'AndroidManifest.xml'</span></span><br><span class="line">            <span class="comment">//指定res资源目录</span></span><br><span class="line">            res.srcDirs = [<span class="string">'res'</span>]</span><br><span class="line">            <span class="comment">//asset资源文件</span></span><br><span class="line">            assets.srcDir  = [<span class="string">'assets'</span>]</span><br><span class="line">            <span class="comment">//jni代码目录</span></span><br><span class="line">            jni.srcDirs <span class="string">'src/main/jni'</span></span><br><span class="line">            <span class="comment">//jni库目录</span></span><br><span class="line">            jniLibs.srcDir <span class="string">'src/main/jniLibs'</span></span><br><span class="line">            <span class="comment">//指定Java源代码目录</span></span><br><span class="line">            java.srcDirs = [<span class="string">'src'</span>]</span><br><span class="line">            <span class="comment">//指定resource目录</span></span><br><span class="line">            resources.srcDirs = [<span class="string">'src'</span>]</span><br><span class="line">            <span class="comment">//指定aidl目录</span></span><br><span class="line">            aidl.srcDirs = [<span class="string">'src'</span>]</span><br><span class="line">            <span class="comment">//指定source目录</span></span><br><span class="line">            renderscript.srcDirs = [<span class="string">'src'</span>]</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//指定debug模式的路径</span></span><br><span class="line">        debug.setRoot(<span class="string">'build-types/debug'</span>)</span><br><span class="line">        <span class="comment">//指定release模式的路径</span></span><br><span class="line">        release.setRoot(<span class="string">'build-types/release'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//mltiDex的一些相关配置，这样配置可以使编译速度更快</span></span><br><span class="line">    dexOptions&#123;</span><br><span class="line">        <span class="comment">//让它不要对Lib做preDexing</span></span><br><span class="line">        preDexLibraries = fasle</span><br><span class="line">        <span class="comment">//开启incremental dexing,优化编译效率。这个功能Android Studio默认是关闭的</span></span><br><span class="line">        incremental <span class="keyword">true</span></span><br><span class="line">        <span class="comment">//增加java堆内存大小</span></span><br><span class="line">        javaMaxHeapSize <span class="string">"4g"</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//签名配置</span></span><br><span class="line">    signingConfigs&#123;</span><br><span class="line">        release&#123;</span><br><span class="line">            <span class="comment">//密钥文件路径</span></span><br><span class="line">            <span class="function">storeFile <span class="title">file</span><span class="params">(<span class="string">"feiyv.keystore"</span>)</span></span></span><br><span class="line"><span class="function">            <span class="comment">//密钥文件密码</span></span></span><br><span class="line"><span class="function">            storePassword "feiyvpwd"</span></span><br><span class="line"><span class="function">            <span class="comment">//key 别名</span></span></span><br><span class="line"><span class="function">            keyAlias "fy"</span></span><br><span class="line"><span class="function">            <span class="comment">//key密码</span></span></span><br><span class="line"><span class="function">            keyPassword "fypwd"</span></span><br><span class="line"><span class="function">        &#125;</span></span><br><span class="line"><span class="function">        debug</span>&#123;</span><br><span class="line">           <span class="comment">//密钥文件路径</span></span><br><span class="line">            <span class="function">storeFile <span class="title">file</span><span class="params">(<span class="string">"feiyv.keystore"</span>)</span></span></span><br><span class="line"><span class="function">            <span class="comment">//密钥文件密码</span></span></span><br><span class="line"><span class="function">            storePassword "feiyvpwd"</span></span><br><span class="line"><span class="function">            <span class="comment">//key 别名</span></span></span><br><span class="line"><span class="function">            keyAlias "fy"</span></span><br><span class="line"><span class="function">            <span class="comment">//key密码</span></span></span><br><span class="line"><span class="function">            keyPassword "fypwd" </span></span><br><span class="line"><span class="function">        &#125;</span></span><br><span class="line"><span class="function">    &#125;</span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function">    <span class="comment">//指定生成安装文件的配置，常有两个子包：release，debug，注：直接运行的都是debug安装文件</span></span></span><br><span class="line"><span class="function">    buildTypes </span>&#123;</span><br><span class="line">        <span class="comment">//release版本的配置，即生成发布版文件的配置</span></span><br><span class="line">        release &#123;</span><br><span class="line">            <span class="comment">//是否支持zip</span></span><br><span class="line">            zipAlignEnabled <span class="keyword">true</span></span><br><span class="line">            <span class="comment">//移除无用的resource文件</span></span><br><span class="line">            shrinkResources <span class="keyword">true</span></span><br><span class="line">            <span class="comment">//是否对代码进行混淆，true标识混淆</span></span><br><span class="line">            minifyEnabled <span class="keyword">false</span></span><br><span class="line">            </span><br><span class="line">            <span class="comment">//指定混淆时使用的规则文件：</span></span><br><span class="line">            <span class="comment">//proguard-android.tex指所有项目通用的混淆规则，proguard-rules.pro当前项目特有的混淆规则</span></span><br><span class="line">            <span class="comment">//release的Proguard默认为Module下的proguard-rules.pro文件</span></span><br><span class="line">            <span class="function">proguardFiles <span class="title">getDefaultProguardFile</span><span class="params">(<span class="string">'proguard-android-optimize.txt'</span>)</span>, 'proguard-rules.pro'</span></span><br><span class="line"><span class="function">            </span></span><br><span class="line"><span class="function">            <span class="comment">//是否支持调试</span></span></span><br><span class="line"><span class="function">            debuggable <span class="keyword">false</span> </span></span><br><span class="line"><span class="function">            </span></span><br><span class="line"><span class="function">            <span class="comment">//ndk的一些配置</span></span></span><br><span class="line"><span class="function">            ndk </span>&#123;</span><br><span class="line">                 <span class="comment">// cFlags "-std=c++11 -fexceptions -O3 -D__RELEASE__" // C++11</span></span><br><span class="line">                 <span class="comment">// platformVersion = "19"</span></span><br><span class="line">                 moduleName <span class="string">"hebbewifisafe"</span> <span class="comment">// 设置库(so)文件名称</span></span><br><span class="line">                ldLibs <span class="string">"log"</span>, <span class="string">"z"</span>, <span class="string">"m"</span>, <span class="string">"jnigraphics"</span>, <span class="string">"android"</span></span><br><span class="line">                 <span class="comment">// 引入库，比如要用到的__android_log_print</span></span><br><span class="line">                 abiFilters <span class="string">"armeabi"</span>, <span class="string">"x86"</span>, <span class="string">"armeabi-v7a"</span><span class="comment">// "x86"</span></span><br><span class="line">                 cFlags <span class="string">"-std=c++11 -fexceptions"</span> <span class="comment">// C++11</span></span><br><span class="line">                 stl <span class="string">"gnustl_static"</span></span><br><span class="line">             &#125;</span><br><span class="line">                <span class="comment">// 采用动态替换字符串的方式生成不同的 release.apk （3.0之后版本的修改方式）</span></span><br><span class="line">             applicationVariants.all &#123; variant -&gt;</span><br><span class="line">                 variant.outputs.all &#123; output -&gt;</span><br><span class="line">                     <span class="keyword">if</span> (!variant.buildType.isDebuggable()) &#123;</span><br><span class="line">                         <span class="comment">// 获取签名的名字 variant.signingConfig.name</span></span><br><span class="line">                         <span class="comment">// 要被替换的源字符串</span></span><br><span class="line">                        def sourceFile = <span class="string">"app-release"</span>;</span><br><span class="line">                         <span class="comment">// 替换的字符串</span></span><br><span class="line">　　　　　　　　　　　　　　　def replaceFile = <span class="string">"Demo-V$&#123;variant.versionName&#125;.$&#123;releaseTime()&#125;"</span></span><br><span class="line">　　　　　　　　　　　　　　　outputFileName = output.outputFile.name.replace(sourceFile, replaceFile)</span><br><span class="line">                     &#125;</span><br><span class="line">                 &#125;</span><br><span class="line">             &#125;</span><br><span class="line">             jniDebuggable <span class="keyword">false</span>  <span class="comment">// 关闭jni调试</span></span><br><span class="line">        &#125;</span><br><span class="line">        debug &#123; <span class="comment">// debug版本的配置</span></span><br><span class="line">            minifyEnabled <span class="keyword">false</span></span><br><span class="line">             zipAlignEnabled <span class="keyword">true</span></span><br><span class="line">             shrinkResources <span class="keyword">true</span> <span class="comment">// 移除无用的resource文件</span></span><br><span class="line">             <span class="function">proguardFiles <span class="title">getDefaultProguardFile</span><span class="params">(<span class="string">'proguard-android.txt'</span>)</span>, 'proguard-rules.pro'</span></span><br><span class="line"><span class="function">             debuggable <span class="keyword">true</span></span></span><br><span class="line"><span class="function"> <span class="comment">//          jniDebuggable true</span></span></span><br><span class="line"><span class="function">             ndk </span>&#123;</span><br><span class="line">                 cFlags <span class="string">"-std=c++11 -fexceptions -g -D __DEBUG__"</span> <span class="comment">// C++11</span></span><br><span class="line">             &#125;</span><br><span class="line">             jniDebuggable <span class="keyword">true</span></span><br><span class="line">         &#125;</span><br><span class="line"> </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    productFlavors&#123;</span><br><span class="line">        <span class="comment">//这里可以设置产品发布的一些东西</span></span><br><span class="line">        <span class="comment">//比如一种软件要发布到不同的渠道</span></span><br><span class="line">        <span class="comment">//且不同渠道中的包名不同，可以在此处</span></span><br><span class="line">        <span class="comment">//甚至可以设置不同的AndroidManifest.xml</span></span><br><span class="line">        tencent&#123;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        huanwei&#123;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        all&#123;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 所谓ProductFlavors其实就是可定义的产品特性，</span></span><br><span class="line">    <span class="comment">// 配合 manifest merger 使用的时候就可以达成在一次编译</span></span><br><span class="line">    <span class="comment">// 过程中产生多个具有自己特性配置的版本。</span></span><br><span class="line">    <span class="comment">// 这个配置的作用就是，为每个渠道包产生不同的 UMENG_CHANNEL_VALUE 的值。</span></span><br><span class="line">    productFlavors.all&#123;</span><br><span class="line">        flavor -&gt; flavor.manifestPlaceholder = [UMENG_CHANNEL_VALUE:name]</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> <span class="comment">// 指定当前项目的所有依赖关系：本地依赖、库依赖、远程依赖</span></span><br><span class="line"> <span class="comment">// 本地依赖：可以对本地 Jar 包或目录添加依赖关系</span></span><br><span class="line"> <span class="comment">// 库依赖：可以对项目中的库模块添加依赖关系</span></span><br><span class="line"> <span class="comment">// 远程依赖：可以对 jcenter 库上的开源项目添加依赖</span></span><br><span class="line"> <span class="comment">// 标准的远程依赖格式是 域名:组织名:版本号</span></span><br><span class="line"> </span><br><span class="line">dependencies &#123;</span><br><span class="line">    <span class="function">implementation <span class="title">fileTree</span><span class="params">(dir: <span class="string">'libs'</span>, include: [<span class="string">'*.jar'</span>])</span></span></span><br><span class="line"><span class="function">    implementation 'com.android.support:recyclerview-v7:28.0.0'</span></span><br><span class="line"><span class="function"><span class="comment">//    implementation 'androidx.appcompat:appcompat:1.0.2'</span></span></span><br><span class="line"><span class="function"><span class="comment">//    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'</span></span></span><br><span class="line"><span class="function">    testImplementation 'junit:junit:4.12'</span></span><br><span class="line"><span class="function"><span class="comment">//    androidTestImplementation 'androidx.test.ext:junit:1.1.0'</span></span></span><br><span class="line"><span class="function"><span class="comment">//    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.1'</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">&#125;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"> <span class="comment">// 声明是要使用谷歌服务框架</span></span></span><br><span class="line"><span class="function"> apply plugin: 'com.google.gms.google-services'</span></span><br><span class="line"><span class="function"> </span></span><br><span class="line"><span class="function"> </span></span><br><span class="line"><span class="function"> <span class="comment">// 第三方依赖库的本地缓存路径</span></span></span><br><span class="line"><span class="function"> task showMeCache &lt;&lt; </span>&#123;</span><br><span class="line">     configurations.compile.each &#123; println it &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 使用maven仓库。android有两个标准的library文件服务器，一个jcenter一个maven。两者毫无关系。</span></span><br><span class="line"><span class="comment">// jcenter有的maven可能没有，反之亦然。</span></span><br><span class="line"><span class="comment">// 如果要使用jcenter的话就把mavenCentral()替换成jcenter()</span></span><br><span class="line">repositories &#123;</span><br><span class="line">     mavenCentral()</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> <span class="function">def <span class="title">releaseTime</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="keyword">new</span> Date().format(<span class="string">"MMdd.HHmm"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> android </tag>
            
            <tag> flutter </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SWIFT 常用方法</title>
      <link href="/2019/06/12/SWIFT%20%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95/"/>
      <url>/2019/06/12/SWIFT%20%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  LayoutProperties.swift</span></span><br><span class="line"><span class="comment">//  IfeiyvSwift</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by l on 2019/6/12.</span></span><br><span class="line"><span class="comment">//  Copyright © 2019 ifeiyv. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"><span class="keyword">import</span> CommonCrypto</span><br><span class="line"></span><br><span class="line"><span class="comment">//Mark:------------Layout</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Screen</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK:屏幕宽度</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> width:<span class="type">CGFloat</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">UIScreen</span>.main.bounds.width</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//MARK:屏幕高度</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> height:<span class="type">CGFloat</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">UIScreen</span>.main.bounds.height</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//MARK:分辨率 倍率</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> scale:<span class="type">CGFloat</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">Screen</span>.width/<span class="number">375.0</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">UIView</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK: 设置或者获取UIView的frame</span></span><br><span class="line">    <span class="keyword">var</span> fy_frame:<span class="type">CGRect</span>&#123;</span><br><span class="line">        <span class="keyword">set</span>&#123;</span><br><span class="line">            <span class="keyword">self</span>.frame = fy_frame</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">get</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">self</span>.frame</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK: 设置或者获取UIView的origin</span></span><br><span class="line">    <span class="keyword">var</span> fy_origin:<span class="type">CGPoint</span>&#123;</span><br><span class="line">        <span class="keyword">set</span>&#123;</span><br><span class="line">            <span class="keyword">self</span>.frame = <span class="type">CGRect</span>(x: fy_origin.x, y: fy_origin.y, width: <span class="keyword">self</span>.fy_width, height: <span class="keyword">self</span>.fy_height)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">get</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">self</span>.frame.origin</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK: 设置或者获取UIView的size</span></span><br><span class="line">    <span class="keyword">var</span> fy_size:<span class="type">CGSize</span>&#123;</span><br><span class="line">        <span class="keyword">set</span>&#123;</span><br><span class="line">            <span class="keyword">self</span>.frame = <span class="type">CGRect</span>(x: <span class="keyword">self</span>.fy_origin.x, y: <span class="keyword">self</span>.fy_origin.y, width: fy_size.width, height: fy_size.height)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">get</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">self</span>.frame.size</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK: 设置或者获取UIView的宽度</span></span><br><span class="line">    <span class="keyword">var</span> fy_width:<span class="type">CGFloat</span>&#123;</span><br><span class="line">        <span class="keyword">set</span>&#123;</span><br><span class="line">            <span class="keyword">self</span>.frame = <span class="type">CGRect</span>(x: <span class="keyword">self</span>.frame.origin.x, y: <span class="keyword">self</span>.frame.origin.y, width: fy_width, height: <span class="keyword">self</span>.frame.size.height)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">get</span>&#123;</span><br><span class="line">           <span class="keyword">return</span> <span class="keyword">self</span>.bounds.size.width</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK: 设置或者获取UIView的宽度</span></span><br><span class="line">    <span class="keyword">var</span> fy_height:<span class="type">CGFloat</span>&#123;</span><br><span class="line">        <span class="keyword">set</span>&#123;</span><br><span class="line">            <span class="keyword">self</span>.frame = <span class="type">CGRect</span>(x: <span class="keyword">self</span>.frame.origin.x, y: <span class="keyword">self</span>.frame.origin.y, width: <span class="keyword">self</span>.frame.size.width, height: fy_height)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">get</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">self</span>.bounds.size.height</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK: 设置或者获取UIView的x坐标</span></span><br><span class="line">    <span class="keyword">var</span> fy_x:<span class="type">CGFloat</span>&#123;</span><br><span class="line">        <span class="keyword">set</span>&#123;</span><br><span class="line">            <span class="keyword">self</span>.frame = <span class="type">CGRect</span>(x: fy_x, y: <span class="keyword">self</span>.frame.origin.y, width: <span class="keyword">self</span>.frame.size.width, height: <span class="keyword">self</span>.frame.size.height)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">get</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">self</span>.frame.origin.x</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK: 设置或者获取UIView的y坐标</span></span><br><span class="line">    <span class="keyword">var</span> fy_y:<span class="type">CGFloat</span>&#123;</span><br><span class="line">        <span class="keyword">set</span>&#123;</span><br><span class="line">            <span class="keyword">self</span>.frame = <span class="type">CGRect</span>(x: <span class="keyword">self</span>.frame.origin.x, y: fy_y, width: <span class="keyword">self</span>.frame.size.width, height:<span class="keyword">self</span>.frame.size.height)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">get</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">self</span>.frame.origin.y</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK: 设置或者获取UIView的maxX坐标</span></span><br><span class="line">    <span class="keyword">var</span> fy_maxX:<span class="type">CGFloat</span>&#123;</span><br><span class="line">        <span class="keyword">get</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">self</span>.fy_x+<span class="keyword">self</span>.fy_width</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK: 设置或者获取UIView的maxY坐标</span></span><br><span class="line">    <span class="keyword">var</span> fy_maxY:<span class="type">CGFloat</span>&#123;</span><br><span class="line">        <span class="keyword">get</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">self</span>.fy_y+<span class="keyword">self</span>.fy_height</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">UIView</span></span>&#123;</span><br><span class="line">    <span class="comment">//MARK: 切圆角</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">corner</span><span class="params">(byRoundingCorners corners: UIRectCorner, radii: CGFloat)</span></span> &#123;</span><br><span class="line">        <span class="keyword">let</span> maskPath = <span class="type">UIBezierPath</span>(roundedRect: <span class="keyword">self</span>.bounds, byRoundingCorners: corners, cornerRadii: <span class="type">CGSize</span>(width: radii, height: radii))</span><br><span class="line">        <span class="keyword">let</span> maskLayer = <span class="type">CAShapeLayer</span>()</span><br><span class="line">        maskLayer.frame = <span class="keyword">self</span>.bounds</span><br><span class="line">        maskLayer.path = maskPath.cgPath</span><br><span class="line">        <span class="keyword">self</span>.layer.mask = maskLayer</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">FYError</span>: <span class="title">Swift</span>.<span class="title">Error</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="type">NOFINT</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">UINib</span></span>&#123;</span><br><span class="line">    <span class="comment">//MARK: 加载XIB</span></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">readNibView</span>(<span class="title">str</span>: <span class="title">String</span>) <span class="title">throws</span> -&gt; <span class="title">UIView</span> </span>&#123;</span><br><span class="line">        <span class="keyword">let</span> nib = <span class="type">UINib</span>.<span class="keyword">init</span>(nibName: str, bundle: <span class="literal">nil</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> view = nib.instantiate(withOwner: <span class="literal">nil</span>, options: <span class="literal">nil</span>).first <span class="keyword">as</span>? <span class="type">UIView</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> view</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">throw</span> <span class="type">FYError</span>.<span class="type">NOFINT</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//Mark:------------UIColor</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">UIColor</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">fy_RGB</span><span class="params">(red:CGFloat,green:CGFloat,blue:CGFloat)</span></span> -&gt; <span class="type">UIColor</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> fy_RGBA(red: red, green: green, blue: blue, alpha: <span class="number">1.0</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">fy_RGBA</span><span class="params">(red:CGFloat,green:CGFloat,blue:CGFloat,alpha:CGFloat)</span></span> -&gt; <span class="type">UIColor</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">UIColor</span>.<span class="keyword">init</span>(red: red/<span class="number">255.0</span>, green: green/<span class="number">255.0</span>, blue: blue/<span class="number">255.0</span>, alpha: alpha)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">fy_hexColor</span><span class="params">(hexColor:String,defaultStringColor:String = <span class="string">"000000"</span>,alpha:CGFloat = <span class="number">1.0</span>)</span></span> -&gt; <span class="type">UIColor</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> cString: <span class="type">String</span> = hexColor.trimmingCharacters(<span class="keyword">in</span>: <span class="type">NSCharacterSet</span>.whitespacesAndNewlines)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> cString.<span class="built_in">count</span> &lt; <span class="number">6</span> &#123;</span><br><span class="line">            cString = defaultStringColor</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> cString.hasPrefix(<span class="string">"0X"</span>) || cString.hasPrefix(<span class="string">"0x"</span>) &#123;</span><br><span class="line">            cString = <span class="type">String</span>(cString.suffix(from: cString.index(cString.startIndex, offsetBy: <span class="number">2</span>)))</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> cString.hasPrefix(<span class="string">"#"</span>) &#123;</span><br><span class="line">            cString = <span class="type">String</span>(cString.suffix(from: cString.index(cString.startIndex, offsetBy: <span class="number">1</span>)))</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> cString.<span class="built_in">count</span> != <span class="number">6</span> &#123;</span><br><span class="line">            cString = defaultStringColor</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">var</span> range: <span class="type">NSRange</span> = <span class="type">NSMakeRange</span>(<span class="number">0</span>, <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">let</span> rString = (cString <span class="keyword">as</span> <span class="type">NSString</span>).substring(with: range)</span><br><span class="line">        range.location = <span class="number">2</span></span><br><span class="line">        <span class="keyword">let</span> gString = (cString <span class="keyword">as</span> <span class="type">NSString</span>).substring(with: range)</span><br><span class="line">        range.location = <span class="number">4</span></span><br><span class="line">        <span class="keyword">let</span> bString = (cString <span class="keyword">as</span> <span class="type">NSString</span>).substring(with: range)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">var</span> r: <span class="type">UInt32</span> = <span class="number">0x0</span></span><br><span class="line">        <span class="keyword">var</span> g: <span class="type">UInt32</span> = <span class="number">0x0</span></span><br><span class="line">        <span class="keyword">var</span> b: <span class="type">UInt32</span> = <span class="number">0x0</span></span><br><span class="line">        <span class="type">Scanner</span>(string: rString).scanHexInt32(&amp;r)</span><br><span class="line">        <span class="type">Scanner</span>(string: gString).scanHexInt32(&amp;g)</span><br><span class="line">        <span class="type">Scanner</span>(string: bString).scanHexInt32(&amp;b)</span><br><span class="line">        <span class="keyword">return</span> fy_RGBA(red: <span class="type">CGFloat</span>(r), green: <span class="type">CGFloat</span>(g), blue: <span class="type">CGFloat</span>(b), alpha: alpha)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Mark:------------String</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">String</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> <span class="type">EMPTY</span> = <span class="string">""</span></span><br><span class="line">    <span class="comment">/// String使用下标截取字符串</span></span><br><span class="line">    <span class="comment">/// 例: "示例字符串"[0..&lt;2] 结果是 "示例"</span></span><br><span class="line">    <span class="keyword">subscript</span> (r: <span class="type">Range</span>&lt;<span class="type">Int</span>&gt;) -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> startIndex = <span class="keyword">self</span>.index(<span class="keyword">self</span>.startIndex, offsetBy: r.lowerBound)</span><br><span class="line">            <span class="keyword">let</span> endIndex = <span class="keyword">self</span>.index(<span class="keyword">self</span>.startIndex, offsetBy: r.upperBound)</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">return</span> <span class="type">String</span>(<span class="keyword">self</span>[startIndex..&lt;endIndex])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK: 返回一个字符串的前n位, 若字符串长不足n，则直接返回当前字符串</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">fy_start</span><span class="params">(length n: Int)</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">self</span>.<span class="built_in">count</span> &lt; n &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">self</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> n &lt; <span class="number">0</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">self</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">let</span> index = <span class="keyword">self</span>.index(<span class="keyword">self</span>.startIndex, offsetBy: n)</span><br><span class="line">        <span class="keyword">return</span> <span class="type">String</span>(<span class="keyword">self</span>[..&lt;index])</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK: 返回一个字符串的后n位, 若字符串长不足n，则直接返回当前字符串</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">fy_last</span><span class="params">(length n: Int)</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">self</span>.<span class="built_in">count</span> &lt; n &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">self</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">let</span> index = <span class="keyword">self</span>.index((<span class="keyword">self</span>.endIndex), offsetBy: -n)</span><br><span class="line">        <span class="keyword">return</span> <span class="type">String</span>(<span class="keyword">self</span>[index...])</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK: 删除所有的空格</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">fy_trimAll</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.replacingOccurrences(of: <span class="string">" "</span>, with: <span class="type">String</span>.<span class="type">EMPTY</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK: 判断是否包含数字和字母</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">fy_isPassWord</span><span class="params">()</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> numberRegex:<span class="type">NSPredicate</span> = <span class="type">NSPredicate</span>(format: <span class="string">"SELF MATCHES %@"</span>, <span class="string">"^.*[0-9]+.*$"</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">let</span> letterRegex:<span class="type">NSPredicate</span> = <span class="type">NSPredicate</span>(format: <span class="string">"SELF MATCHES %@"</span>, <span class="string">"^.*[A-Za-z]+.*$"</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> numberRegex.evaluate(with: <span class="keyword">self</span>) &amp;&amp; letterRegex.evaluate(with: <span class="keyword">self</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK: md5加密</span></span><br><span class="line">    <span class="keyword">var</span> fy_md5: <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> cStr = <span class="keyword">self</span>.cString(using: .utf8)</span><br><span class="line">        <span class="keyword">let</span> digestLen = <span class="type">Int</span>(<span class="type">CC_MD5_DIGEST_LENGTH</span>)</span><br><span class="line">        <span class="keyword">let</span> buffer = <span class="type">UnsafeMutablePointer</span>&lt;<span class="type">UInt8</span>&gt;.allocate(capacity: digestLen)</span><br><span class="line">        <span class="type">CC_MD5</span>(cStr!,(<span class="type">CC_LONG</span>)(strlen(cStr!)), buffer)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">let</span> md5String = <span class="type">NSMutableString</span>()</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span> ..&lt; digestLen &#123;</span><br><span class="line">            md5String.appendFormat(<span class="string">"%02X"</span>, buffer[i])</span><br><span class="line">        &#125;</span><br><span class="line">        free(buffer)</span><br><span class="line">        <span class="keyword">return</span> md5String <span class="keyword">as</span> <span class="type">String</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK: base64编码</span></span><br><span class="line">    <span class="keyword">var</span> fy_base64Encoding: <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> data = <span class="keyword">self</span>.data(using: <span class="type">String</span>.<span class="type">Encoding</span>.utf8)</span><br><span class="line">        <span class="keyword">var</span> base64String = data?.base64EncodedString(options: .lineLength76Characters)</span><br><span class="line">        base64String = base64String?.replacingOccurrences(of: <span class="string">"\r"</span>, with: <span class="string">""</span>)</span><br><span class="line">        <span class="keyword">return</span> base64String ?? <span class="string">""</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK: base64解码</span></span><br><span class="line">    <span class="keyword">var</span> fy_base64Decoded: <span class="type">String</span> &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">let</span> decodedData = <span class="type">Data</span>(base64Encoded: <span class="keyword">self</span>, options: <span class="type">Data</span>.<span class="type">Base64DecodingOptions</span>(rawValue: <span class="number">0</span>))</span><br><span class="line">        <span class="keyword">return</span> <span class="type">String</span>(data: decodedData!, encoding: <span class="type">String</span>.<span class="type">Encoding</span>.utf8) ?? <span class="string">""</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK: 返回188****8888类型字符串</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">fy_getSecretMobileNo</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">self</span>.isEmpty &#123; <span class="keyword">return</span> <span class="keyword">self</span> &#125;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">self</span>.<span class="built_in">count</span> &gt; <span class="number">7</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"\(self.fy_start(length: 3))****\(self.fy_last(length:4))"</span></span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK: 截取从start开始,长度为lenght的字符串</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// - Parameters:</span></span><br><span class="line">    <span class="comment">///   - start: 开始</span></span><br><span class="line">    <span class="comment">///   - lenght: 长度</span></span><br><span class="line">    <span class="comment">/// - Returns: 处理结果</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">fy_startIndexToLenght</span><span class="params">(<span class="number">_</span> start: Int, lenght: Int)</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> start &gt; <span class="keyword">self</span>.<span class="built_in">count</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">self</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">let</span> startIndex = <span class="keyword">self</span>.index(<span class="keyword">self</span>.startIndex, offsetBy: start)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">self</span>.<span class="built_in">count</span> &lt; (start + lenght) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="type">String</span>(<span class="keyword">self</span>.suffix(from: startIndex))</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">let</span> endIndex = <span class="keyword">self</span>.index(<span class="keyword">self</span>.startIndex, offsetBy: start + lenght)</span><br><span class="line">        <span class="keyword">return</span> <span class="type">String</span>(<span class="keyword">self</span>[startIndex..&lt;endIndex])</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK: 判断链接中是否存在中文</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">fy_isIncludeChineseIn</span><span class="params">()</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="number">_</span>, value) <span class="keyword">in</span> <span class="keyword">self</span>.enumerated() &#123;</span><br><span class="line">            <span class="keyword">if</span> value &gt;= <span class="string">"\u&#123;4E00&#125;"</span> &amp;&amp; value &lt;= <span class="string">"\u&#123;9FA5&#125;"</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//MARK: 判断是否有效邮箱</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// - Returns: 结果</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">fy_isPeriodEmail</span><span class="params">()</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> email = <span class="string">"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]&#123;2,4&#125;"</span></span><br><span class="line">        <span class="keyword">let</span> regextestEmails = <span class="type">NSPredicate</span>(format: <span class="string">"SELF MATCHES %@"</span>, email)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> regextestEmails.evaluate(with: <span class="keyword">self</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK: 判断是否有效身份证号</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// - Returns: Bool</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">fy_isPeriodIdCard</span><span class="params">()</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">self</span>.<span class="built_in">count</span> != <span class="number">18</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">let</span> regex2 = <span class="string">"^(^[1-9]\\d&#123;7&#125;((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d&#123;3&#125;$)|(^[1-9]\\d&#123;5&#125;[1-9]\\d&#123;3&#125;((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])((\\d&#123;4&#125;)|\\d&#123;3&#125;[Xx])$)$"</span></span><br><span class="line">        <span class="keyword">let</span> identityCardPredicate = <span class="type">NSPredicate</span>(format: <span class="string">"SELF MATCHES %@"</span>, regex2)</span><br><span class="line">        <span class="keyword">let</span> flag = identityCardPredicate.evaluate(with: <span class="keyword">self</span>)</span><br><span class="line">        <span class="keyword">if</span> !flag &#123;</span><br><span class="line">            <span class="comment">// 格式错误</span></span><br><span class="line">            <span class="keyword">return</span> flag</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 格式正确，判断合法性</span></span><br><span class="line">            <span class="comment">// 将前十七位加权因子保存在数组里</span></span><br><span class="line">            <span class="keyword">let</span> idCardWiArray = [<span class="string">"7"</span>, <span class="string">"9"</span>, <span class="string">"10"</span>, <span class="string">"5"</span>, <span class="string">"8"</span>, <span class="string">"4"</span>, <span class="string">"2"</span>, <span class="string">"1"</span>, <span class="string">"6"</span>, <span class="string">"3"</span>, <span class="string">"7"</span>, <span class="string">"9"</span>, <span class="string">"10"</span>, <span class="string">"5"</span>, <span class="string">"8"</span>, <span class="string">"4"</span>, <span class="string">"2"</span>]</span><br><span class="line">            <span class="comment">// 这是除以11后，可能产生的11位余数， 验证码，也保存在数组里</span></span><br><span class="line">            <span class="keyword">let</span> idCardYArray = [<span class="string">"1"</span>, <span class="string">"0"</span>, <span class="string">"10"</span>, <span class="string">"9"</span>, <span class="string">"8"</span>, <span class="string">"7"</span>, <span class="string">"6"</span>, <span class="string">"5"</span>, <span class="string">"4"</span>, <span class="string">"3"</span>, <span class="string">"2"</span>]</span><br><span class="line">            <span class="keyword">var</span> idCardArr = [<span class="type">Int</span>]()</span><br><span class="line">            <span class="keyword">var</span> idCardWiSum = <span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> index <span class="keyword">in</span> <span class="number">0</span>..&lt;<span class="number">17</span> &#123;</span><br><span class="line">                <span class="keyword">let</span> subStrIndex = fy_startIndexToLenght(index, lenght: <span class="number">1</span>)</span><br><span class="line">                <span class="keyword">let</span> idCardWiIndex = idCardWiArray[index]</span><br><span class="line">                <span class="comment">// 数组保存所有乘积</span></span><br><span class="line">                idCardArr.append(<span class="type">Int</span>(subStrIndex)! * <span class="type">Int</span>(idCardWiIndex)!)</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// 将所有乘积相加</span></span><br><span class="line">            <span class="keyword">for</span> index <span class="keyword">in</span> <span class="number">0</span>..&lt;idCardArr.<span class="built_in">count</span> &#123;</span><br><span class="line">                idCardWiSum += idCardArr[index]</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// 计算出校验码所在数组的位置</span></span><br><span class="line">            <span class="keyword">let</span> idCardMod = idCardWiSum % <span class="number">11</span></span><br><span class="line">            <span class="comment">// 得到最后一位身份证号码</span></span><br><span class="line">            <span class="keyword">let</span> idCardLast = fy_startIndexToLenght(<span class="number">17</span>, lenght: <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">if</span> idCardMod == <span class="number">2</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> idCardLast == <span class="string">"X"</span> || idCardLast == <span class="string">"x"</span> &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> idCardLast == idCardYArray[idCardMod] &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK: 正则匹配6-12位数字和大小写字母组合</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// - Returns: Bool</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">fy_checkPassword</span><span class="params">()</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> password = <span class="string">"^(?![0-9]+$)(?![a-zA-Z]+$)[a-zA-Z0-9]&#123;6,12&#125;"</span></span><br><span class="line">        <span class="keyword">let</span> regextestPassword = <span class="type">NSPredicate</span>(format: <span class="string">"SELF MATCHES %@"</span>, password)</span><br><span class="line">        <span class="keyword">return</span> regextestPassword.evaluate(with:<span class="keyword">self</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK: 判断字符串是否包含其他字符串(必须全部一样)</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">fy_contains</span><span class="params">(<span class="built_in">find</span>: String)</span></span> -&gt; <span class="type">Bool</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.range(of: <span class="built_in">find</span>) != <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK: 字符串转换成整型</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">fy_toInt</span><span class="params">()</span></span> -&gt; <span class="type">Int?</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">Int</span>(<span class="keyword">self</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK: 识别有效手机号</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">fy_verifyPhoneNumber</span><span class="params">()</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> mobile = <span class="string">"^1((3[0-9]|4[5-68-9]|5[0-35-9]|6[6]|7[0-9]|8[0-9]|9[89])\\d&#123;8&#125;$)"</span></span><br><span class="line">        <span class="keyword">let</span> regextestmobile = <span class="type">NSPredicate</span>(format: <span class="string">"SELF MATCHES %@"</span>,mobile)</span><br><span class="line">        <span class="keyword">return</span> regextestmobile.evaluate(with: <span class="keyword">self</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//MARK: 识别是否有效座机号 eg: 021-8688995</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">fy_landlineNumber</span><span class="params">()</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> strNum = <span class="string">"^(0\\d&#123;2,3&#125;-?\\d&#123;7,8&#125;$)"</span></span><br><span class="line">        <span class="keyword">let</span> checktest = <span class="type">NSPredicate</span>.<span class="keyword">init</span>(format: <span class="string">"SELF MATCHES %@"</span>, strNum)</span><br><span class="line">        <span class="keyword">let</span> isPhone = checktest.evaluate(with: <span class="keyword">self</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">let</span> strNum1 = <span class="string">"^(\\d&#123;7,8&#125;$)"</span></span><br><span class="line">        <span class="keyword">let</span> checktest1 = <span class="type">NSPredicate</span>.<span class="keyword">init</span>(format: <span class="string">"SELF MATCHES %@"</span>, strNum1)</span><br><span class="line">        <span class="keyword">let</span> isPhone1 = checktest1.evaluate(with: <span class="keyword">self</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> isPhone || isPhone1 &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Array</span></span>&#123;</span><br><span class="line">    <span class="comment">//MARK: 数组转JSON字符串</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">arrayToString</span><span class="params">()</span></span> -&gt; <span class="type">String?</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> data = <span class="keyword">try</span>? <span class="type">JSONSerialization</span>.data(withJSONObject: <span class="keyword">self</span>, options: <span class="type">JSONSerialization</span>.<span class="type">WritingOptions</span>.<span class="keyword">init</span>(rawValue: <span class="number">0</span>)) &#123;</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">let</span> jsonStr = <span class="type">String</span>.<span class="keyword">init</span>(data: data, encoding: <span class="type">String</span>.<span class="type">Encoding</span>.utf8) &#123;</span><br><span class="line">                <span class="keyword">return</span> jsonStr</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Swift </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift Method </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SWIFT关键字</title>
      <link href="/2019/06/06/SWIFT%E5%85%B3%E9%94%AE%E5%AD%97/"/>
      <url>/2019/06/06/SWIFT%E5%85%B3%E9%94%AE%E5%AD%97/</url>
      
        <content type="html"><![CDATA[<h4 id="discardableResult"><a href="#discardableResult" class="headerlink" title="@discardableResult"></a>@discardableResult</h4><blockquote><p>修饰的方法有返回值，调用时可以不接收返回值，并且不会出现警告⚠️</p></blockquote><h4 id="IBInspectable"><a href="#IBInspectable" class="headerlink" title="IBInspectable"></a>IBInspectable</h4><blockquote><p>属性声明的时候加上 IBInspectable 修饰，Xcode 会自动添加到 Storyboard 中 Attributes inspector 栏目中</p></blockquote><h4 id="typealias"><a href="#typealias" class="headerlink" title="typealias"></a>typealias</h4><blockquote><p>定义了一个类型别名</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Swift </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift关键字 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UITableBarController(Objc)</title>
      <link href="/2017/04/10/UITableBarController/"/>
      <url>/2017/04/10/UITableBarController/</url>
      
        <content type="html"><![CDATA[<h4 id="UITableBarController"><a href="#UITableBarController" class="headerlink" title="UITableBarController"></a>UITableBarController</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"AppDelegate.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"RootViewController.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"ViewController1.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"ViewController2.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"ViewController3.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"ViewController4.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"ViewController5.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"ViewController6.h"</span></span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">AppDelegate</span> ()&lt;<span class="title">UITabBarControllerDelegate</span>&gt;</span></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> 系统代理的使用：</span></span><br><span class="line"><span class="comment"> 1.遵守协议</span></span><br><span class="line"><span class="comment"> 2.设置代理</span></span><br><span class="line"><span class="comment"> 3.实现代理方法</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">AppDelegate</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (<span class="built_in">BOOL</span>)application:(<span class="built_in">UIApplication</span> *)application didFinishLaunchingWithOptions:(<span class="built_in">NSDictionary</span> *)launchOptions &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">self</span>.window = [[<span class="built_in">UIWindow</span> alloc]initWithFrame:[<span class="built_in">UIScreen</span> mainScreen].bounds];</span><br><span class="line">    [<span class="keyword">self</span>.window setBackgroundColor:[<span class="built_in">UIColor</span> whiteColor]];</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span> createTabBarController];</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span>.window makeKeyAndVisible];</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//创建UITabBarController</span></span><br><span class="line">-(<span class="keyword">void</span>)createTabBarController&#123;</span><br><span class="line"><span class="comment">//    初始化UITabBarController</span></span><br><span class="line">    <span class="built_in">UITabBarController</span> *tabBarVc = [[<span class="built_in">UITabBarController</span> alloc]init];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置代理</span></span><br><span class="line">    tabBarVc.delegate = <span class="keyword">self</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">self</span>.window.rootViewController = tabBarVc;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置tabBar的背景色</span></span><br><span class="line"><span class="comment">//    tabBarVc.tabBar.barTintColor = [UIColor yellowColor];</span></span><br><span class="line">    </span><br><span class="line">    ViewController1 *vc1 = [[ViewController1 alloc]init];</span><br><span class="line">    ViewController2 *vc2 = [[ViewController2 alloc]init];</span><br><span class="line">    ViewController3 *vc3 = [[ViewController3 alloc]init];</span><br><span class="line">    ViewController4 *vc4 = [[ViewController4 alloc]init];</span><br><span class="line">    ViewController5 *vc5 = [[ViewController5 alloc]init];</span><br><span class="line">    ViewController6 *vc6 = [[ViewController6 alloc]init];</span><br><span class="line">     </span><br><span class="line"><span class="comment">//    系统item样式</span></span><br><span class="line"><span class="comment">//    UITabBarSystemItemMore,</span></span><br><span class="line"><span class="comment">//    UITabBarSystemItemFavorites,</span></span><br><span class="line"><span class="comment">//    UITabBarSystemItemFeatured,</span></span><br><span class="line"><span class="comment">//    UITabBarSystemItemTopRated,</span></span><br><span class="line"><span class="comment">//    UITabBarSystemItemRecents,</span></span><br><span class="line"><span class="comment">//    UITabBarSystemItemContacts,</span></span><br><span class="line"><span class="comment">//    UITabBarSystemItemHistory,</span></span><br><span class="line"><span class="comment">//    UITabBarSystemItemBookmarks,</span></span><br><span class="line"><span class="comment">//    UITabBarSystemItemSearch,</span></span><br><span class="line"><span class="comment">//    UITabBarSystemItemDownloads,</span></span><br><span class="line"><span class="comment">//    UITabBarSystemItemMostRecent,</span></span><br><span class="line"><span class="comment">//    UITabBarSystemItemMostViewed,</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UITabBarItem</span> *item1 = [[<span class="built_in">UITabBarItem</span> alloc]initWithTabBarSystemItem:<span class="built_in">UITabBarSystemItemFavorites</span> tag:<span class="number">11</span>];</span><br><span class="line">    vc1.tabBarItem = item1;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UITabBarItem</span> *item2 = [[<span class="built_in">UITabBarItem</span> alloc]initWithTabBarSystemItem:<span class="built_in">UITabBarSystemItemContacts</span> tag:<span class="number">12</span>];</span><br><span class="line">    vc2.tabBarItem = item2;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UITabBarItem</span> *item3 = [[<span class="built_in">UITabBarItem</span> alloc]initWithTabBarSystemItem:<span class="built_in">UITabBarSystemItemDownloads</span> tag:<span class="number">13</span>];</span><br><span class="line">    vc3.tabBarItem = item3;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UITabBarItem</span> *item4 = [[<span class="built_in">UITabBarItem</span> alloc]initWithTabBarSystemItem:<span class="built_in">UITabBarSystemItemFavorites</span> tag:<span class="number">14</span>];</span><br><span class="line">    vc4.tabBarItem = item4;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UITabBarItem</span> *item5 = [[<span class="built_in">UITabBarItem</span> alloc]initWithTabBarSystemItem:<span class="built_in">UITabBarSystemItemFeatured</span> tag:<span class="number">15</span>];</span><br><span class="line">    vc5.tabBarItem = item5;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UITabBarItem</span> *item6 = [[<span class="built_in">UITabBarItem</span> alloc]initWithTabBarSystemItem:<span class="built_in">UITabBarSystemItemHistory</span> tag:<span class="number">16</span>];</span><br><span class="line">    vc6.tabBarItem = item6;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    镂空处颜色</span></span><br><span class="line">    tabBarVc.tabBar.tintColor = [<span class="built_in">UIColor</span> redColor];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    透明度</span></span><br><span class="line">    tabBarVc.tabBar.translucent = <span class="literal">NO</span>;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    最多只显示5个，多出来的会自动生成一个More，它是一个导航控制器</span></span><br><span class="line">    tabBarVc.viewControllers = @[vc1,vc2,vc3,vc4,vc5,vc6];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置选中哪一个控制器</span></span><br><span class="line"><span class="comment">//    tabBarVc.selectedIndex = 3;</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSUserDefaults</span> *defaults = [<span class="built_in">NSUserDefaults</span> standardUserDefaults];</span><br><span class="line">    <span class="built_in">NSUInteger</span> index = [defaults integerForKey:<span class="string">@"index"</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%ld"</span>,index);</span><br><span class="line"><span class="comment">//     设置选中第index个控制器</span></span><br><span class="line">    tabBarVc.selectedIndex = index;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    排序</span></span><br><span class="line">    [<span class="keyword">self</span> order];</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark - </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark UITabBarController delegate</span></span><br><span class="line">-(<span class="built_in">BOOL</span>)tabBarController:(<span class="built_in">UITabBarController</span> *)tabBarController shouldSelectViewController:(<span class="built_in">UIViewController</span> *)viewController&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"将要选中视图控制器"</span>);</span><br><span class="line">    <span class="keyword">if</span> (viewController.tabBarItem.tag == <span class="number">13</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NO</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//  YES:可以选中</span></span><br><span class="line"><span class="comment">//  NO:不能选中</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)tabBarController:(<span class="built_in">UITabBarController</span> *)tabBarController didSelectViewController:(<span class="built_in">UIViewController</span> *)viewController&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"已经选中指定的视图控制器"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSArray</span> *array = tabBarController.viewControllers;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"array = %@"</span>,array);</span><br><span class="line">    <span class="built_in">NSUInteger</span> index = [array indexOfObject:viewController];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    初始化NSUserDefaults (单例)</span></span><br><span class="line">    <span class="built_in">NSUserDefaults</span> *defaults = [<span class="built_in">NSUserDefaults</span> standardUserDefaults];</span><br><span class="line"><span class="comment">//    设置index</span></span><br><span class="line">    [defaults setInteger:index forKey:<span class="string">@"index"</span>];</span><br><span class="line"><span class="comment">//    同步</span></span><br><span class="line">    [defaults synchronize];</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)tabBarController:(<span class="built_in">UITabBarController</span> *)tabBarController willBeginCustomizingViewControllers:(<span class="built_in">NSArray</span> *)viewControllers&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"willBeginCustomizingViewControllers"</span>);</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)tabBarController:(<span class="built_in">UITabBarController</span> *)tabBarController willEndCustomizingViewControllers:(<span class="built_in">NSArray</span> *)viewControllers changed:(<span class="built_in">BOOL</span>)changed&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"willEndCustomizingViewControllers"</span>);</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)tabBarController:(<span class="built_in">UITabBarController</span> *)tabBarController didEndCustomizingViewControllers:(<span class="built_in">NSArray</span> *)viewControllers changed:(<span class="built_in">BOOL</span>)changed&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"didEndCustomizingViewControllers"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSMutableArray</span> *array = [<span class="built_in">NSMutableArray</span> array];</span><br><span class="line"><span class="comment">//    changed用来判断是否交换</span></span><br><span class="line">    <span class="keyword">if</span> (changed == <span class="literal">YES</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">UIViewController</span> *vc <span class="keyword">in</span> viewControllers) &#123;</span><br><span class="line">            [array addObject:vc.title];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,array);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSUserDefaults</span> *defaults = [<span class="built_in">NSUserDefaults</span> standardUserDefaults];</span><br><span class="line">    [defaults setObject:array forKey:<span class="string">@"order"</span>];</span><br><span class="line">    [defaults synchronize];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">-(<span class="keyword">void</span>)order&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//    获取UITabBarController</span></span><br><span class="line">    <span class="built_in">UITabBarController</span> * tbc = (<span class="built_in">UITabBarController</span>*)<span class="keyword">self</span>.window.rootViewController;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSUserDefaults</span> *defaults = [<span class="built_in">NSUserDefaults</span> standardUserDefaults];</span><br><span class="line">    <span class="comment">//    取得之前排序的数组</span></span><br><span class="line">    <span class="built_in">NSMutableArray</span> *titleArray = [defaults objectForKey:<span class="string">@"order"</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//    如果排序的数组是nil,返回</span></span><br><span class="line">    <span class="keyword">if</span> (titleArray == <span class="literal">nil</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSMutableArray</span> *orderArray = [<span class="built_in">NSMutableArray</span> array];</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">NSString</span> *titler <span class="keyword">in</span> titleArray) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">UIViewController</span> *vc  <span class="keyword">in</span> tbc.viewControllers) &#123;</span><br><span class="line">            <span class="keyword">if</span> ([titler isEqualToString:vc.title]) &#123;</span><br><span class="line">                [orderArray addObject:vc];</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    tbc.viewControllers = orderArray;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#import <span class="meta-string">"BaseViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">BaseViewController</span> ()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">BaseViewController</span></span></span><br><span class="line">-(<span class="keyword">instancetype</span>)initWithNibName:(<span class="built_in">NSString</span> *)nibNameOrNil bundle:(<span class="built_in">NSBundle</span> *)nibBundleOrNil&#123;</span><br><span class="line">    <span class="keyword">self</span> = [<span class="keyword">super</span> initWithNibName:nibNameOrNil bundle:nibBundleOrNil];</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.title = <span class="built_in">NSStringFromClass</span>([<span class="keyword">self</span> <span class="keyword">class</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Random arc4random()%256/255.0</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">self</span>.view.backgroundColor = [<span class="built_in">UIColor</span> colorWithRed:Random green:Random blue:Random alpha:<span class="number">0.9</span>f];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UILabel</span> *label = [[<span class="built_in">UILabel</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">100</span>, <span class="number">100</span>, <span class="number">200</span>, <span class="number">100</span>)];</span><br><span class="line">    <span class="built_in">NSString</span> *name = <span class="built_in">NSStringFromClass</span>([<span class="keyword">self</span> <span class="keyword">class</span>]);</span><br><span class="line">    label.text = name;</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:label];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"AppDelegate.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"ViewController1.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"ViewController2.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"ViewController3.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"ViewController4.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"ViewController4_1.h"</span></span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">AppDelegate</span> ()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">AppDelegate</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (<span class="built_in">BOOL</span>)application:(<span class="built_in">UIApplication</span> *)application didFinishLaunchingWithOptions:(<span class="built_in">NSDictionary</span> *)launchOptions &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">self</span>.window = [[<span class="built_in">UIWindow</span> alloc]initWithFrame:[<span class="built_in">UIScreen</span> mainScreen].bounds];</span><br><span class="line">    [<span class="keyword">self</span>.window setBackgroundColor:[<span class="built_in">UIColor</span> whiteColor]];</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span> createUITabBarController];</span><br><span class="line">    [<span class="keyword">self</span> customTabBar];</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span>.window makeKeyAndVisible];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//创建UITabBarController</span></span><br><span class="line">-(<span class="keyword">void</span>)createUITabBarController&#123;</span><br><span class="line"><span class="comment">//    初始化UITabBarController</span></span><br><span class="line">    <span class="built_in">UITabBarController</span> *tabBarVc = [[<span class="built_in">UITabBarController</span> alloc]init];</span><br><span class="line">    <span class="keyword">self</span>.window.rootViewController = tabBarVc;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    ViewController1 *vc1 = [[ViewController1 alloc]init];</span><br><span class="line">    ViewController2 *vc2 = [[ViewController2 alloc]init];</span><br><span class="line">    ViewController3 *vc3 = [[ViewController3 alloc]init];</span><br><span class="line">    </span><br><span class="line">    ViewController4 *vc4 = [[ViewController4 alloc]init];</span><br><span class="line">    <span class="built_in">UINavigationController</span> *nav = [[<span class="built_in">UINavigationController</span> alloc]initWithRootViewController:vc4];</span><br><span class="line"></span><br><span class="line"><span class="comment">//    把导航控制器放到分栏控制器中</span></span><br><span class="line"><span class="comment">//    tabBarVc.viewControllers = @[vc1,vc2,vc3,nav];</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//    初始化UITabBarItem</span></span><br><span class="line"><span class="comment">//    Title：名字</span></span><br><span class="line"><span class="comment">//    image：图片</span></span><br><span class="line"><span class="comment">//    tag:标识</span></span><br><span class="line">    <span class="built_in">UITabBarItem</span> *item1 = [[<span class="built_in">UITabBarItem</span> alloc]initWithTitle:<span class="string">@"微信"</span> image:[<span class="built_in">UIImage</span> imageNamed:<span class="string">@"tabbar_mainframe"</span> ] tag:<span class="number">11</span>];</span><br><span class="line">    vc1.tabBarItem = item1;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UIImage</span> *image2 = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"tabbar_contactsHL"</span>];</span><br><span class="line"><span class="comment">//    对图片进行处理(显示原有尺寸)</span></span><br><span class="line">    image2 = [image2 imageWithRenderingMode:<span class="built_in">UIImageRenderingModeAlwaysOriginal</span>];</span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//Title：名称</span></span><br><span class="line"><span class="comment">//image：正常状态image</span></span><br><span class="line"><span class="comment">//selectedImage:选中状态image(需要对图片进行处理，否则会不显示选中图片)</span></span><br><span class="line">    <span class="built_in">UITabBarItem</span> *item2 = [[<span class="built_in">UITabBarItem</span> alloc]initWithTitle:<span class="string">@"通讯录"</span> image:[<span class="built_in">UIImage</span> imageNamed:<span class="string">@"tabbar_contacts"</span>] selectedImage:image2];</span><br><span class="line">    vc2.tabBarItem = item2;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UIImage</span> *image3 = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"tabbar_discoverHL"</span>];</span><br><span class="line">    image3 = [image3 imageWithRenderingMode:<span class="built_in">UIImageRenderingModeAlwaysOriginal</span>];</span><br><span class="line">    <span class="built_in">UITabBarItem</span> *item3 = [[<span class="built_in">UITabBarItem</span> alloc]initWithTitle:<span class="string">@"朋友圈"</span> image:[<span class="built_in">UIImage</span> imageNamed:<span class="string">@"tabbar_discover"</span>] selectedImage:image3];</span><br><span class="line">    vc3.tabBarItem = item3;</span><br><span class="line">    </span><br><span class="line">    item3.badgeValue = <span class="string">@"99+"</span>;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UIImage</span> *image4 = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"tabbar_meHL"</span>];</span><br><span class="line">    image4 = [image4 imageWithRenderingMode:<span class="built_in">UIImageRenderingModeAlwaysOriginal</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UITabBarItem</span> *item4 = [[<span class="built_in">UITabBarItem</span> alloc]initWithTitle:<span class="string">@"我"</span> image:[<span class="built_in">UIImage</span> imageNamed:<span class="string">@"tabbar_me"</span>] selectedImage:image4];</span><br><span class="line">    vc4.tabBarItem = item4;</span><br><span class="line">    </span><br><span class="line">    tabBarVc.viewControllers = @[vc1,vc2,vc3,nav];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//设置TabBar</span></span><br><span class="line">-(<span class="keyword">void</span>)customTabBar&#123;</span><br><span class="line"><span class="comment">//    获取UITabBarController</span></span><br><span class="line">    <span class="built_in">UITabBarController</span> *tabBarVc = (<span class="built_in">UITabBarController</span>*)<span class="keyword">self</span>.window.rootViewController;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    获取UITabBar</span></span><br><span class="line">    <span class="built_in">UITabBar</span> *tabBar = tabBarVc.tabBar;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置tabBar样式</span></span><br><span class="line">    tabBar.barStyle = <span class="built_in">UIBarStyleDefault</span>;</span><br><span class="line"><span class="comment">//    UIBarStyleDefault</span></span><br><span class="line"><span class="comment">//    UIBarStyleBlack</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置透明度</span></span><br><span class="line">    tabBar.translucent = <span class="literal">YES</span>;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置镂空颜色（字体颜色）</span></span><br><span class="line">    [tabBar setTintColor:[<span class="built_in">UIColor</span> colorWithRed:<span class="number">0</span>/<span class="number">255.0</span> green:<span class="number">176</span>/<span class="number">255.0</span> blue:<span class="number">15</span>/<span class="number">255.0</span> alpha:<span class="number">1.0</span>]];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置tabBar背景色</span></span><br><span class="line">    [tabBar setBarTintColor:[<span class="built_in">UIColor</span> redColor]];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置背景图片（当设置背景图片时，会覆盖背景色）</span></span><br><span class="line">    [tabBar setBackgroundImage:[<span class="built_in">UIImage</span> imageNamed:<span class="string">@"tabbar_bg"</span>]];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#import <span class="meta-string">"BaseViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">BaseViewController</span> ()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">BaseViewController</span></span></span><br><span class="line">-(<span class="keyword">instancetype</span>)initWithNibName:(<span class="built_in">NSString</span> *)nibNameOrNil bundle:(<span class="built_in">NSBundle</span> *)nibBundleOrNil&#123;</span><br><span class="line">    <span class="keyword">self</span> = [<span class="keyword">super</span> initWithNibName:nibNameOrNil bundle:nibBundleOrNil];</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.title = <span class="built_in">NSStringFromClass</span>([<span class="keyword">self</span> <span class="keyword">class</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Random arc4random()%256/255.0</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">self</span>.view.backgroundColor = [<span class="built_in">UIColor</span> colorWithRed:Random green:Random blue:Random alpha:<span class="number">0.9</span>f];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UILabel</span> *label = [[<span class="built_in">UILabel</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">100</span>, <span class="number">100</span>, <span class="number">200</span>, <span class="number">100</span>)];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSString</span> *name = <span class="built_in">NSStringFromClass</span>([<span class="keyword">self</span> <span class="keyword">class</span>]);</span><br><span class="line">    label.text = name;</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:label];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#import <span class="meta-string">"ViewController4.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"ViewController4_1.h"</span></span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController4</span> ()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController4</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UIButton</span> *button = [<span class="built_in">UIButton</span> buttonWithType:<span class="built_in">UIButtonTypeCustom</span>];</span><br><span class="line">    button.frame = <span class="built_in">CGRectMake</span>(<span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">    button.backgroundColor = [<span class="built_in">UIColor</span> lightGrayColor];</span><br><span class="line">    [button addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(onClick) forControlEvents:<span class="built_in">UIControlEventTouchUpInside</span>];</span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:button];</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)onClick&#123;</span><br><span class="line">    ViewController4_1 *vc = [[ViewController4_1 alloc]init];</span><br><span class="line">    [<span class="keyword">self</span>.navigationController pushViewController:vc animated:<span class="literal">YES</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%f"</span>,<span class="keyword">self</span>.tabBarController.tabBar.frame.size.height);</span><br><span class="line">&#125;</span><br><span class="line">- (<span class="keyword">void</span>)didReceiveMemoryWarning &#123;</span><br><span class="line">    [<span class="keyword">super</span> didReceiveMemoryWarning];</span><br><span class="line">    <span class="comment">// Dispose of any resources that can be recreated.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Objective-C </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UITableBarController </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vim常用命令(Objc)</title>
      <link href="/2017/04/08/vim%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
      <url>/2017/04/08/vim%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<h4 id="vim常用命令"><a href="#vim常用命令" class="headerlink" title="vim常用命令"></a>vim常用命令</h4><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">打开语法高亮:syntax on</span><br><span class="line">关闭语法高亮:syntax off</span><br><span class="line">显示行数:set nu</span><br><span class="line">取消显示行数:set nonu</span><br><span class="line"></span><br><span class="line">跳转到某一行:123</span><br><span class="line">跳转到第一行首ESC+gg</span><br><span class="line">跳转到最后一行ESC+G</span><br><span class="line"></span><br><span class="line">全部复制ggyG</span><br><span class="line">全部删除ggdG</span><br><span class="line">代码对齐gg=G</span><br><span class="line"></span><br><span class="line">自动补全Ctrl + p(编辑模式下)</span><br><span class="line"></span><br><span class="line"><span class="attribute">vim</span> 配置文件和自动对齐</span><br><span class="line">.vimrc</span><br><span class="line">vim 设置显示文件自动显示颜色</span><br><span class="line">.bash_profile</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> vim </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vim </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UIWebView(Objc)</title>
      <link href="/2017/04/07/UIWebView/"/>
      <url>/2017/04/07/UIWebView/</url>
      
        <content type="html"><![CDATA[<h4 id="UIWebView"><a href="#UIWebView" class="headerlink" title="UIWebView"></a>UIWebView</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()&lt;<span class="title">UIWebViewDelegate</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    初始化</span></span><br><span class="line">    <span class="built_in">UIWebView</span> *webView = [[<span class="built_in">UIWebView</span> alloc]initWithFrame:<span class="keyword">self</span>.view.bounds];</span><br><span class="line"><span class="comment">//    设置背景色</span></span><br><span class="line">    webView.backgroundColor = [<span class="built_in">UIColor</span> redColor];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置代理</span></span><br><span class="line">    webView.delegate = <span class="keyword">self</span>;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">//    添加到视图</span></span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:webView];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    网址</span></span><br><span class="line">    <span class="built_in">NSString</span> *path = <span class="string">@"http://www.baidu.com"</span>;</span><br><span class="line"><span class="comment">//    封装url,统一资源定位符，将字符串封装成可以识别的网址</span></span><br><span class="line">    <span class="built_in">NSURL</span> *url = [<span class="built_in">NSURL</span> URLWithString:path];</span><br><span class="line"><span class="comment">//  请求类</span></span><br><span class="line">    <span class="built_in">NSURLRequest</span> *request = [<span class="built_in">NSURLRequest</span> requestWithURL:url];</span><br><span class="line"><span class="comment">//  加载请求</span></span><br><span class="line">    [webView loadRequest:request];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark - delegate</span></span><br><span class="line"><span class="comment">//即将加载</span></span><br><span class="line">-(<span class="built_in">BOOL</span>)webView:(<span class="built_in">UIWebView</span> *)webView shouldStartLoadWithRequest:(<span class="built_in">NSURLRequest</span> *)request navigationType:(<span class="built_in">UIWebViewNavigationType</span>)navigationType&#123;</span><br><span class="line"><span class="comment">//  YES:加载网页信息</span></span><br><span class="line"><span class="comment">//  NO:不回网页信息</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"即将加载"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//已经开始加载</span></span><br><span class="line">-(<span class="keyword">void</span>)webViewDidStartLoad:(<span class="built_in">UIWebView</span> *)webView&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"已经开始加载"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//加载成功</span></span><br><span class="line">-(<span class="keyword">void</span>)webViewDidFinishLoad:(<span class="built_in">UIWebView</span> *)webView&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"加载成功"</span>);</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)webView:(<span class="built_in">UIWebView</span> *)webView didFailLoadWithError:(<span class="built_in">NSError</span> *)error&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"加载失败"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()&lt;<span class="title">UITableViewDataSource</span>,<span class="title">UITableViewDelegate</span>&gt;</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">UITableView</span> *_tableView;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span> createUITableView];</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)createUITableView&#123;</span><br><span class="line"><span class="comment">//    初始化并设置样式和frame</span></span><br><span class="line">    _tableView = [[<span class="built_in">UITableView</span> alloc]initWithFrame:<span class="keyword">self</span>.view.bounds style:<span class="built_in">UITableViewStylePlain</span>];</span><br><span class="line"><span class="comment">//    设置背景色</span></span><br><span class="line">    _tableView.backgroundColor = [<span class="built_in">UIColor</span> orangeColor];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置代理</span></span><br><span class="line">    _tableView.dataSource = <span class="keyword">self</span>;</span><br><span class="line">    _tableView.delegate = <span class="keyword">self</span>;</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:_tableView];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置tableView的头视图</span></span><br><span class="line">    <span class="built_in">UIImageView</span> *headerImageView = [[<span class="built_in">UIImageView</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="keyword">self</span>.view.frame.size.width, <span class="number">200</span>)];</span><br><span class="line">    headerImageView.image = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"1.jpg"</span>];</span><br><span class="line">    _tableView.tableHeaderView = headerImageView;</span><br><span class="line"><span class="comment">//    设置tableView的脚视图</span></span><br><span class="line">    <span class="built_in">UIImageView</span> *footerImageView = [[<span class="built_in">UIImageView</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="keyword">self</span>.view.frame.size.width, <span class="number">200</span>)];</span><br><span class="line">    footerImageView.image = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"2.jpg"</span>];</span><br><span class="line">    _tableView.tableFooterView = footerImageView;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark - </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark dataSource</span></span><br><span class="line"><span class="comment">//返回多少个分组</span></span><br><span class="line">-(<span class="built_in">NSInteger</span>)numberOfSectionsInTableView:(<span class="built_in">UITableView</span> *)tableView&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//返回每组有几行</span></span><br><span class="line">-(<span class="built_in">NSInteger</span>)tableView:(<span class="built_in">UITableView</span> *)tableView numberOfRowsInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line">    <span class="keyword">if</span> (section == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">15</span>;</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="built_in">UITableViewCell</span>*)tableView:(<span class="built_in">UITableView</span> *)tableView cellForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    1.标识</span></span><br><span class="line">    <span class="keyword">static</span> <span class="built_in">NSString</span> *identifier = <span class="string">@"cellID"</span>;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    2.从tableView复用池中取cell</span></span><br><span class="line">    <span class="built_in">UITableViewCell</span> *cell = [tableView dequeueReusableCellWithIdentifier:identifier];</span><br><span class="line"><span class="comment">//    3.如果从复用池中取不到cell,就创建新的</span></span><br><span class="line">    <span class="keyword">if</span> (cell == <span class="literal">nil</span>) &#123;</span><br><span class="line">        cell = [[<span class="built_in">UITableViewCell</span> alloc]initWithStyle:<span class="built_in">UITableViewCellStyleDefault</span> reuseIdentifier:identifier];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    cell.textLabel.text = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"第%ld组-第%ld行"</span>,indexPath.section,indexPath.row];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> cell;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark -</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark delegate</span></span><br><span class="line"><span class="comment">////设置头标题</span></span><br><span class="line">-(<span class="built_in">NSString</span>*)tableView:(<span class="built_in">UITableView</span> *)tableView titleForHeaderInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line">    <span class="keyword">if</span> (section == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">@"第一组头标题"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">@"第二组头标题"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//设置头标题高度</span></span><br><span class="line">-(<span class="built_in">CGFloat</span>)tableView:(<span class="built_in">UITableView</span> *)tableView heightForHeaderInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line"><span class="comment">//    默认22</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">40</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//设置分组脚标题</span></span><br><span class="line">-(<span class="built_in">NSString</span>*)tableView:(<span class="built_in">UITableView</span> *)tableView titleForFooterInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line">    <span class="keyword">if</span> (section == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">@"第一组脚标题"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">@"第二组脚标题"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//设置脚标题的高度</span></span><br><span class="line">-(<span class="built_in">CGFloat</span>)tableView:(<span class="built_in">UITableView</span> *)tableView heightForFooterInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">40</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//返回自定义分组的头标和脚标，会把前面设置的标题覆盖</span></span><br><span class="line"><span class="comment">//必须设置头标题或头标题高度，否则本方法不生效</span></span><br><span class="line">-(<span class="built_in">UIView</span>*)tableView:(<span class="built_in">UITableView</span> *)tableView viewForHeaderInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line">    <span class="built_in">UIButton</span> *button = [<span class="built_in">UIButton</span> buttonWithType:<span class="built_in">UIButtonTypeCustom</span>];</span><br><span class="line">    button.frame = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="keyword">self</span>.view.frame.size.width, <span class="number">40</span>);</span><br><span class="line">    [button setTitle:<span class="string">@"分组标题"</span> forState:<span class="built_in">UIControlStateNormal</span>];</span><br><span class="line">    button.backgroundColor = [<span class="built_in">UIColor</span> purpleColor];</span><br><span class="line">    [button addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(onClick) forControlEvents:<span class="built_in">UIControlEventTouchUpInside</span>];</span><br><span class="line">    <span class="keyword">return</span> button;</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)onClick&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"点点点点点"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//必须设置脚标题或脚标题高度，否则本方法不生效</span></span><br><span class="line">-(<span class="built_in">UIView</span>*)tableView:(<span class="built_in">UITableView</span> *)tableView viewForFooterInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line">    <span class="built_in">UIImageView</span> *imageView = [[<span class="built_in">UIImageView</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="keyword">self</span>.view.frame.size.width, <span class="number">40</span>)];</span><br><span class="line">    imageView.image = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"6.jpg"</span>];</span><br><span class="line">    <span class="keyword">return</span> imageView;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()&lt;<span class="title">UITableViewDelegate</span>,<span class="title">UITableViewDataSource</span>&gt;</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//    表格视图</span></span><br><span class="line">    <span class="built_in">UITableView</span> *_tableView;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line"> </span><br><span class="line">    [<span class="keyword">self</span> createUITableView];</span><br><span class="line"><span class="comment">//    [_tableView performSelector:@selector(reloadData) withObject:nil afterDelay:5];</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//创建UITableView</span></span><br><span class="line">-(<span class="keyword">void</span>)createUITableView&#123;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    初始化UITableView</span></span><br><span class="line">    _tableView = [[<span class="built_in">UITableView</span> alloc]initWithFrame:<span class="keyword">self</span>.view.bounds style:<span class="built_in">UITableViewStylePlain</span>];</span><br><span class="line"><span class="comment">//    UITableViewStylePlain, 平铺样式</span></span><br><span class="line"><span class="comment">//    UITableViewStyleGrouped 分组样式</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//    背景色</span></span><br><span class="line">    _tableView.backgroundColor = [<span class="built_in">UIColor</span> orangeColor];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置数据源代理</span></span><br><span class="line">    _tableView.dataSource = <span class="keyword">self</span>;</span><br><span class="line"><span class="comment">//    设置代理</span></span><br><span class="line">    _tableView.delegate = <span class="keyword">self</span>;</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:_tableView];</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark -</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark dataSource</span></span><br><span class="line"><span class="comment">//返回多少个分组</span></span><br><span class="line">-(<span class="built_in">NSInteger</span>)numberOfSectionsInTableView:(<span class="built_in">UITableView</span> *)tableView&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"numberOfSectionsInTableView"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//每组有多少行</span></span><br><span class="line">-(<span class="built_in">NSInteger</span>)tableView:(<span class="built_in">UITableView</span> *)tableView numberOfRowsInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"numberOfRowsInSection"</span>);</span><br><span class="line">    <span class="keyword">if</span> (section == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">20</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">-(<span class="built_in">UITableViewCell</span>*)tableView:(<span class="built_in">UITableView</span> *)tableView cellForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</span><br><span class="line"><span class="comment">//    NSLog(@"cellForRowAtIndexPath");</span></span><br><span class="line"><span class="comment">//    indexPath</span></span><br><span class="line"><span class="comment">//    表示当cell在表格视图中的位置</span></span><br><span class="line"><span class="comment">//    indexPath.section 代表的是cell所在的分组</span></span><br><span class="line"><span class="comment">//    indexPath.row     代表的是cell所在分组的行的位置</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">//    1.表格的标识</span></span><br><span class="line">    <span class="keyword">static</span> <span class="built_in">NSString</span> *identifier = <span class="string">@"cellID"</span>;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    2.按照标识从tableView复用池中取cell</span></span><br><span class="line">    <span class="built_in">UITableViewCell</span> *cell = [tableView dequeueReusableCellWithIdentifier:identifier];</span><br><span class="line"><span class="comment">//    3.如果在复用池中找不以Cell,就创建新的Cell</span></span><br><span class="line">    <span class="keyword">if</span> (cell == <span class="literal">nil</span>) &#123;</span><br><span class="line">        cell = [[<span class="built_in">UITableViewCell</span> alloc]initWithStyle:<span class="built_in">UITableViewCellStyleDefault</span> reuseIdentifier:identifier];</span><br><span class="line"><span class="comment">//        UITableViewCellStyleDefault,</span></span><br><span class="line"><span class="comment">//        UITableViewCellStyleValue1,</span></span><br><span class="line"><span class="comment">//        UITableViewCellStyleValue2,</span></span><br><span class="line"><span class="comment">//        UITableViewCellStyleSubtitle</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    设置展示标题</span></span><br><span class="line">    cell.textLabel.text = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"第%ld组"</span>,indexPath.section];</span><br><span class="line"><span class="comment">//    设置展示详细标题</span></span><br><span class="line">    cell.detailTextLabel.text = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"第%ld行"</span>,indexPath.row];</span><br><span class="line"><span class="comment">//    设置展示图片</span></span><br><span class="line">    cell.imageView.image = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"1"</span>];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    附件按钮类型</span></span><br><span class="line">    cell.accessoryType = <span class="built_in">UITableViewCellAccessoryDetailButton</span>;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    UITableViewCellAccessoryNone, 无样式</span></span><br><span class="line"><span class="comment">//    UITableViewCellAccessoryDisclosureIndicator箭头</span></span><br><span class="line"><span class="comment">//UITableViewCellAccessoryDetailDisclosureButton 箭头+信息按钮</span></span><br><span class="line"><span class="comment">//    UITableViewCellAccessoryCheckmark,对勾</span></span><br><span class="line"><span class="comment">//    UITableViewCellAccessoryDetailButton 信息按钮</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//=============================================</span></span><br><span class="line"><span class="comment">//    UIView *accessView = [[UIView alloc]initWithFrame:CGRectMake(0, 0, 40, 40)];</span></span><br><span class="line"><span class="comment">//    accessView.backgroundColor = [UIColor blackColor];</span></span><br><span class="line"><span class="comment">////    设置自定义的附件视图</span></span><br><span class="line"><span class="comment">//    cell.accessoryView = accessView;</span></span><br><span class="line"><span class="comment">//=============================================</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">//    选中样式</span></span><br><span class="line">    cell.selectionStyle = <span class="built_in">UITableViewCellSelectionStyleDefault</span>;</span><br><span class="line"><span class="comment">//    UITableViewCellSelectionStyleNone,</span></span><br><span class="line"><span class="comment">//    UITableViewCellSelectionStyleBlue,</span></span><br><span class="line"><span class="comment">//    UITableViewCellSelectionStyleGray,</span></span><br><span class="line"><span class="comment">//    UITableViewCellSelectionStyleDefault</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置选中背景View</span></span><br><span class="line">    <span class="built_in">UIView</span> *BackgroundView = [[<span class="built_in">UIView</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">50</span>, <span class="number">50</span>)];</span><br><span class="line">    BackgroundView.backgroundColor = [<span class="built_in">UIColor</span> clearColor];</span><br><span class="line">    cell.selectedBackgroundView = BackgroundView;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    UIImageView *imageView = [[UIImageView alloc]initWithFrame:CGRectMake(0, 0, self.view.frame.size.width, 44)];</span></span><br><span class="line"><span class="comment">//    imageView.image = [UIImage imageNamed:@"1"];</span></span><br><span class="line"><span class="comment">//    cell.selectedBackgroundView = imageView;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> cell;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark -</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark delegate</span></span><br><span class="line">-(<span class="keyword">void</span>)tableView:(<span class="built_in">UITableView</span> *)tableView accessoryButtonTappedForRowWithIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"点击了附件按钮"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//设置行高</span></span><br><span class="line">-(<span class="built_in">CGFloat</span>)tableView:(<span class="built_in">UITableView</span> *)tableView heightForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</span><br><span class="line"><span class="comment">//    默认行高 44</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">80</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//设置分组的头标题</span></span><br><span class="line">-(<span class="built_in">NSString</span>*)tableView:(<span class="built_in">UITableView</span> *)tableView titleForHeaderInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line">    <span class="keyword">if</span> (section == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">@"第一组组标题"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">@"第二组组标题"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//设置脚标题</span></span><br><span class="line">-(<span class="built_in">NSString</span>*)tableView:(<span class="built_in">UITableView</span> *)tableView titleForFooterInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line">    <span class="keyword">if</span> (section == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">@"第一组脚标"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">@"第二组脚标"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//组头的高度</span></span><br><span class="line">-(<span class="built_in">CGFloat</span>)tableView:(<span class="built_in">UITableView</span> *)tableView heightForHeaderInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line"><span class="comment">//    默认高度是22</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">40</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//组尾的高度</span></span><br><span class="line">-(<span class="built_in">CGFloat</span>)tableView:(<span class="built_in">UITableView</span> *)tableView heightForFooterInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line"><span class="comment">//    默认高度是22</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">40</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()&lt;<span class="title">UITableViewDataSource</span>,<span class="title">UITableViewDelegate</span>&gt;</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">UITableView</span> *_tableView;</span><br><span class="line">    <span class="built_in">NSMutableArray</span> *_dataArray;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line"></span><br><span class="line">    [<span class="keyword">self</span> createUITableView];</span><br><span class="line">    [<span class="keyword">self</span> createDataArray];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">self</span>.navigationItem.rightBarButtonItem = <span class="keyword">self</span>.editButtonItem;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//编辑按钮触发的方法</span></span><br><span class="line">-(<span class="keyword">void</span>)setEditing:(<span class="built_in">BOOL</span>)editing animated:(<span class="built_in">BOOL</span>)animated&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%d"</span>,editing);</span><br><span class="line"><span class="comment">//    重新调用父类的方法，处于Done字样时，editing=YES,处于Edit样式时，editing = NO.</span></span><br><span class="line">    [<span class="keyword">super</span> setEditing:editing animated:<span class="literal">YES</span>];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置tableView的可编辑性</span></span><br><span class="line">    [_tableView setEditing:editing animated:<span class="literal">YES</span>];</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)createUITableView&#123;</span><br><span class="line"><span class="comment">//    初始化UITableView 设置样式和frame</span></span><br><span class="line">    _tableView = [[<span class="built_in">UITableView</span> alloc]initWithFrame:<span class="keyword">self</span>.view.bounds style:<span class="built_in">UITableViewStylePlain</span>];</span><br><span class="line"><span class="comment">//    设置背景色</span></span><br><span class="line">    _tableView.backgroundColor = [<span class="built_in">UIColor</span> orangeColor];</span><br><span class="line"><span class="comment">//    设置代理</span></span><br><span class="line">    _tableView.dataSource = <span class="keyword">self</span>;</span><br><span class="line">    _tableView.delegate = <span class="keyword">self</span>;</span><br><span class="line"><span class="comment">//    添加到视图</span></span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:_tableView];</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)createDataArray&#123;</span><br><span class="line">    </span><br><span class="line">    _dataArray = [<span class="built_in">NSMutableArray</span> array];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    数据源中要添加两组数据：删除的、增加的</span></span><br><span class="line">    <span class="built_in">NSMutableArray</span> *deleteArray = [<span class="built_in">NSMutableArray</span> array];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">10</span>;  i ++) &#123;</span><br><span class="line">        <span class="built_in">NSString</span> *deleteStr = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"被删除的第%d行"</span>,i];</span><br><span class="line">        [deleteArray addObject:deleteStr];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">NSMutableArray</span> *insertArray = [<span class="built_in">NSMutableArray</span> array];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">10</span>; i ++) &#123;</span><br><span class="line">        <span class="built_in">NSString</span> *insertStr = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"增加的第%d行"</span>,i];</span><br><span class="line">        [insertArray addObject:insertStr];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    [_dataArray addObject:deleteArray];</span><br><span class="line">    [_dataArray addObject:insertArray];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,_dataArray);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark -</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark dataSource</span></span><br><span class="line"><span class="comment">//返回有多少组</span></span><br><span class="line">-(<span class="built_in">NSInteger</span>)numberOfSectionsInTableView:(<span class="built_in">UITableView</span> *)tableView&#123;</span><br><span class="line">    <span class="keyword">return</span> _dataArray.count;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//每组有多少行</span></span><br><span class="line">-(<span class="built_in">NSInteger</span>)tableView:(<span class="built_in">UITableView</span> *)tableView numberOfRowsInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSMutableArray</span> *array = [_dataArray objectAtIndex:section];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> array.count;</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="built_in">UITableViewCell</span>*)tableView:(<span class="built_in">UITableView</span> *)tableView cellForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</span><br><span class="line"><span class="comment">//    1.定义标识</span></span><br><span class="line">    <span class="keyword">static</span> <span class="built_in">NSString</span> *identifier = <span class="string">@"cellID"</span>;</span><br><span class="line"><span class="comment">//    2.从tableView复用池中取cell</span></span><br><span class="line">    <span class="built_in">UITableViewCell</span> *cell = [tableView dequeueReusableCellWithIdentifier:identifier];</span><br><span class="line"><span class="comment">//    3.如果取不到cell,就创建新的cell</span></span><br><span class="line">    <span class="keyword">if</span> (cell == <span class="literal">nil</span>) &#123;</span><br><span class="line">        cell = [[<span class="built_in">UITableViewCell</span> alloc]initWithStyle:<span class="built_in">UITableViewCellStyleDefault</span> reuseIdentifier:identifier];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    cell.textLabel.text = _dataArray[indexPath.section][indexPath.row];</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//    赋值</span></span><br><span class="line">    cell.textLabel.text = [[_dataArray objectAtIndex:indexPath.section]objectAtIndex:indexPath.row];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> cell;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark -</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark delegate</span></span><br><span class="line"><span class="comment">//选中了哪一行</span></span><br><span class="line">-(<span class="keyword">void</span>)tableView:(<span class="built_in">UITableView</span> *)tableView didSelectRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</span><br><span class="line"><span class="comment">//    NSLog(@"选中了哪一行");</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"第%ld组-第%ld行"</span>,indexPath.section,indexPath.row);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//反选</span></span><br><span class="line">-(<span class="keyword">void</span>)tableView:(<span class="built_in">UITableView</span> *)tableView didDeselectRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</span><br><span class="line"><span class="comment">//    NSLog(@"didDeselectRowAtIndexPath");</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"----第%ld组-第%ld行"</span>,indexPath.section,indexPath.row);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//设置tableView 的编辑状态</span></span><br><span class="line">-(<span class="built_in">UITableViewCellEditingStyle</span>)tableView:(<span class="built_in">UITableView</span> *)tableView editingStyleForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    UITableViewCellEditingStyleNone,无效果</span></span><br><span class="line"><span class="comment">//    UITableViewCellEditingStyleDelete,删除</span></span><br><span class="line"><span class="comment">//    UITableViewCellEditingStyleInsert 增加</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (indexPath.section == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">UITableViewCellEditingStyleDelete</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">UITableViewCellEditingStyleInsert</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)tableView:(<span class="built_in">UITableView</span> *)tableView commitEditingStyle:(<span class="built_in">UITableViewCellEditingStyle</span>)editingStyle forRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (editingStyle == <span class="built_in">UITableViewCellEditingStyleDelete</span>) &#123;</span><br><span class="line"><span class="comment">//        删除当前对应行的数据源</span></span><br><span class="line">        [[_dataArray objectAtIndex:indexPath.section]removeObjectAtIndex:indexPath.row];</span><br><span class="line">        </span><br><span class="line"><span class="comment">//        [tableView reloadData];</span></span><br><span class="line"><span class="comment">//       刷新表</span></span><br><span class="line">        [tableView deleteRowsAtIndexPaths:@[indexPath] withRowAnimation:<span class="built_in">UITableViewRowAnimationNone</span>];</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">NSString</span> *insertStr = <span class="string">@"我是新来的"</span>;</span><br><span class="line"><span class="comment">//        数据源添加新数据</span></span><br><span class="line">        [[_dataArray objectAtIndex:indexPath.section] insertObject:insertStr atIndex:indexPath.row];</span><br><span class="line"><span class="comment">//        刷表</span></span><br><span class="line"><span class="comment">//        [tableView reloadData];</span></span><br><span class="line">        [tableView insertRowsAtIndexPaths:@[indexPath] withRowAnimation:<span class="built_in">UITableViewRowAnimationNone</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//是否允许某一行被编辑</span></span><br><span class="line">-(<span class="built_in">BOOL</span>)tableView:(<span class="built_in">UITableView</span> *)tableView canEditRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</span><br><span class="line"><span class="comment">//    if (indexPath.row % 2 == 0) &#123;</span></span><br><span class="line"><span class="comment">//        return  YES;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//    return NO;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//移动要实现的方法</span></span><br><span class="line">-(<span class="keyword">void</span>)tableView:(<span class="built_in">UITableView</span> *)tableView moveRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)sourceIndexPath toIndexPath:(<span class="built_in">NSIndexPath</span> *)destinationIndexPath&#123;</span><br><span class="line"><span class="comment">//    sourceIndexPath 将要移动的cell的位置信息</span></span><br><span class="line"><span class="comment">//    destinationIndexPath 目的位置信息</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//    根据sourceIndexPath.section来获得第section组的数据</span></span><br><span class="line">    <span class="built_in">NSMutableArray</span> *sourceArray = _dataArray[sourceIndexPath.section];</span><br><span class="line"><span class="comment">//    取出要移动cell所在行的数据</span></span><br><span class="line">    <span class="built_in">NSString</span> *sourceStr = sourceArray[sourceIndexPath.row];</span><br><span class="line"><span class="comment">//    删除要移动cell所在行的数据</span></span><br><span class="line">    [sourceArray removeObjectAtIndex:sourceIndexPath.row];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    根据destinationIndexPath.section来获取要插入的数组</span></span><br><span class="line">    <span class="built_in">NSMutableArray</span> *destinationArray = _dataArray[destinationIndexPath.section];</span><br><span class="line">    </span><br><span class="line">    [destinationArray insertObject:sourceStr atIndex:destinationIndexPath.row];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//能否移动</span></span><br><span class="line">-(<span class="built_in">BOOL</span>)tableView:(<span class="built_in">UITableView</span> *)tableView canMoveRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</span><br><span class="line">    <span class="keyword">if</span> (indexPath.section == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NO</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Objective-C </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIWebView </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UISwitch(Objc)</title>
      <link href="/2017/04/06/UISwitch/"/>
      <url>/2017/04/06/UISwitch/</url>
      
        <content type="html"><![CDATA[<h4 id="UISwitch"><a href="#UISwitch" class="headerlink" title="UISwitch"></a>UISwitch</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line"><span class="comment">//    初始化并设置frame</span></span><br><span class="line">    <span class="built_in">UIStepper</span> *stepper = [[<span class="built_in">UIStepper</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>)];</span><br><span class="line"><span class="comment">//    最小值</span></span><br><span class="line">    stepper.minimumValue = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    最大值</span></span><br><span class="line">    stepper.maximumValue = <span class="number">10</span>;</span><br><span class="line"><span class="comment">//    设置当前值</span></span><br><span class="line">    stepper.value = <span class="number">4</span>;</span><br><span class="line"><span class="comment">//    设置每次+2或-2，默认是1</span></span><br><span class="line">    stepper.stepValue = <span class="number">2</span>;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置颜色</span></span><br><span class="line">    [stepper setTintColor:[<span class="built_in">UIColor</span> orangeColor]];</span><br><span class="line"><span class="comment">//    添加事件</span></span><br><span class="line">    [stepper addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(valueChange:) forControlEvents:<span class="built_in">UIControlEventValueChanged</span>];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    处理事件是否一直回调，默认是YES</span></span><br><span class="line">    stepper.continuous = <span class="literal">YES</span>;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置能否重复操作，默认是YES</span></span><br><span class="line">    stepper.autorepeat = <span class="literal">YES</span>;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置是否能循环，默认是NO</span></span><br><span class="line">    stepper.wraps = <span class="literal">YES</span>;</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:stepper];</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)valueChange:(<span class="built_in">UIStepper</span>*)stepper&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%lf"</span>,stepper.value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Objective-C </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UISwitch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UIView传统动画方式(Objc)</title>
      <link href="/2017/04/05/UIViewAnimation/"/>
      <url>/2017/04/05/UIViewAnimation/</url>
      
        <content type="html"><![CDATA[<h4 id="UIView传统动画方式"><a href="#UIView传统动画方式" class="headerlink" title="UIView传统动画方式"></a>UIView传统动画方式</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"RootViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">RootViewController</span> ()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">RootViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">  </span><br><span class="line"><span class="comment">//    [self createUIView];</span></span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span> creatBlockAnimation];</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark -</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark UIView的Block动画</span></span><br><span class="line">-(<span class="keyword">void</span>)creatBlockAnimation&#123;</span><br><span class="line">    <span class="built_in">UIView</span> *myView = [[<span class="built_in">UIView</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">50</span>, <span class="number">50</span>, <span class="number">100</span>, <span class="number">100</span>)];</span><br><span class="line">    myView.backgroundColor = [<span class="built_in">UIColor</span> lightGrayColor];</span><br><span class="line">    myView.tag = <span class="number">10</span>;</span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:myView];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UIButton</span> *button = [<span class="built_in">UIButton</span> buttonWithType:<span class="built_in">UIButtonTypeCustom</span>];</span><br><span class="line">    button.frame = <span class="built_in">CGRectMake</span>(<span class="number">200</span>, <span class="number">50</span>, <span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">    button.backgroundColor = [<span class="built_in">UIColor</span> lightGrayColor];</span><br><span class="line">    [button setTitle:<span class="string">@"开始"</span> forState:<span class="built_in">UIControlStateNormal</span>];</span><br><span class="line">    </span><br><span class="line">    [button addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(blockAnimation) forControlEvents:<span class="built_in">UIControlEventTouchUpInside</span>];</span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:button];</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)blockAnimation&#123;</span><br><span class="line">    <span class="built_in">UIView</span> *myView = [<span class="keyword">self</span>.view viewWithTag:<span class="number">10</span>];</span><br><span class="line"><span class="comment">//    Duration：动画持续时间</span></span><br><span class="line"><span class="comment">//    block:你想要的操作</span></span><br><span class="line"><span class="comment">//    [UIView animateWithDuration:1 animations:^&#123;</span></span><br><span class="line"><span class="comment">//        myView.frame = CGRectMake(50, 200, 50, 50);</span></span><br><span class="line"><span class="comment">//    &#125;];</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">//Duration:动画持续时间</span></span><br><span class="line"><span class="comment">//animations：你想要的操作</span></span><br><span class="line"><span class="comment">//completion：动画结束后的操作</span></span><br><span class="line">    [<span class="built_in">UIView</span> animateWithDuration:<span class="number">1</span> animations:^&#123;</span><br><span class="line">        myView.frame = <span class="built_in">CGRectMake</span>(<span class="number">50</span>, <span class="number">200</span>, <span class="number">50</span>, <span class="number">50</span>);</span><br><span class="line">    &#125; completion:^(<span class="built_in">BOOL</span> finished) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"动画结束"</span>);</span><br><span class="line">            &#125;];</span><br><span class="line">    </span><br><span class="line">  </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark - </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark 传统的UIView动画</span></span><br><span class="line">-(<span class="keyword">void</span>)createUIView&#123;</span><br><span class="line">    <span class="built_in">UIView</span> *myView = [[<span class="built_in">UIView</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">50</span>, <span class="number">50</span>, <span class="number">100</span>, <span class="number">100</span>)];</span><br><span class="line">    myView.backgroundColor = [<span class="built_in">UIColor</span> yellowColor];</span><br><span class="line">    myView.tag = <span class="number">10</span>;</span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:myView];</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UIButton</span> *button = [<span class="built_in">UIButton</span> buttonWithType:<span class="built_in">UIButtonTypeCustom</span>];</span><br><span class="line">    button.frame = <span class="built_in">CGRectMake</span>(<span class="number">200</span>, <span class="number">50</span>, <span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">    button.backgroundColor = [<span class="built_in">UIColor</span> lightGrayColor];</span><br><span class="line">    [button setTitle:<span class="string">@"开始"</span> forState:<span class="built_in">UIControlStateNormal</span>];</span><br><span class="line">    </span><br><span class="line">    [button addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(onClick) forControlEvents:<span class="built_in">UIControlEventTouchUpInside</span>];</span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:button];</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)onClick&#123;</span><br><span class="line">    <span class="built_in">UIView</span> *myView = [<span class="keyword">self</span>.view viewWithTag:<span class="number">10</span>];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    开始动画，第一个参数是动画名称，第二个传nil</span></span><br><span class="line">    [<span class="built_in">UIView</span> beginAnimations:<span class="string">@"animation"</span> context:<span class="literal">nil</span>];</span><br><span class="line"><span class="comment">//    设置动画代理</span></span><br><span class="line">    [<span class="built_in">UIView</span> setAnimationDelegate:<span class="keyword">self</span>];</span><br><span class="line"><span class="comment">//    设置动画延迟时间</span></span><br><span class="line">    [<span class="built_in">UIView</span> setAnimationDelay:<span class="number">1</span>];</span><br><span class="line"><span class="comment">//    设置动画持续时间</span></span><br><span class="line">    [<span class="built_in">UIView</span> setAnimationDuration:<span class="number">2</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//设置动画的线性表现</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     UIViewAnimationCurveEaseInOut  在开头和结尾都减速处理</span></span><br><span class="line"><span class="comment">     UIViewAnimationCurveEaseIn     在开头做减速处理</span></span><br><span class="line"><span class="comment">     UIViewAnimationCurveEaseOut    在结尾做减速处理</span></span><br><span class="line"><span class="comment">     UIViewAnimationCurveLinear     这个应该是均分的处理</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    [<span class="built_in">UIView</span> setAnimationCurve:<span class="built_in">UIViewAnimationCurveEaseInOut</span>];</span><br><span class="line"><span class="comment">//    设置动画的重复次数</span></span><br><span class="line">    [<span class="built_in">UIView</span> setAnimationRepeatCount:<span class="number">2</span>];</span><br><span class="line">    </span><br><span class="line">    [<span class="built_in">UIView</span> setAnimationRepeatAutoreverses:<span class="literal">YES</span>];</span><br><span class="line"><span class="comment">//    动画将要开始时调用的方法</span></span><br><span class="line">    [<span class="built_in">UIView</span> setAnimationWillStartSelector:<span class="keyword">@selector</span>(animationWillStart)];</span><br><span class="line"><span class="comment">//    动画已经结束时调用的方法</span></span><br><span class="line">    [<span class="built_in">UIView</span> setAnimationDidStopSelector:<span class="keyword">@selector</span>(animationDidStop)];</span><br><span class="line">    </span><br><span class="line">    myView.frame = <span class="built_in">CGRectMake</span>(<span class="number">50</span>, <span class="number">200</span>, <span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    提交动画</span></span><br><span class="line">    [<span class="built_in">UIView</span> commitAnimations];</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)animationWillStart&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"动画将要开始"</span>);</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)animationDidStop&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"动画已经结束"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()&lt;<span class="title">UITableViewDataSource</span>,<span class="title">UITableViewDelegate</span>&gt;</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">UITableView</span> *_tableView;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span> createUITableView];</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)createUITableView&#123;</span><br><span class="line"><span class="comment">//    初始化并设置样式和frame</span></span><br><span class="line">    _tableView = [[<span class="built_in">UITableView</span> alloc]initWithFrame:<span class="keyword">self</span>.view.bounds style:<span class="built_in">UITableViewStylePlain</span>];</span><br><span class="line"><span class="comment">//    设置背景色</span></span><br><span class="line">    _tableView.backgroundColor = [<span class="built_in">UIColor</span> orangeColor];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置代理</span></span><br><span class="line">    _tableView.dataSource = <span class="keyword">self</span>;</span><br><span class="line">    _tableView.delegate = <span class="keyword">self</span>;</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:_tableView];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置tableView的头视图</span></span><br><span class="line">    <span class="built_in">UIImageView</span> *headerImageView = [[<span class="built_in">UIImageView</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="keyword">self</span>.view.frame.size.width, <span class="number">200</span>)];</span><br><span class="line">    headerImageView.image = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"1.jpg"</span>];</span><br><span class="line">    _tableView.tableHeaderView = headerImageView;</span><br><span class="line"><span class="comment">//    设置tableView的脚视图</span></span><br><span class="line">    <span class="built_in">UIImageView</span> *footerImageView = [[<span class="built_in">UIImageView</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="keyword">self</span>.view.frame.size.width, <span class="number">200</span>)];</span><br><span class="line">    footerImageView.image = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"2.jpg"</span>];</span><br><span class="line">    _tableView.tableFooterView = footerImageView;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark - </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark dataSource</span></span><br><span class="line"><span class="comment">//返回多少个分组</span></span><br><span class="line">-(<span class="built_in">NSInteger</span>)numberOfSectionsInTableView:(<span class="built_in">UITableView</span> *)tableView&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//返回每组有几行</span></span><br><span class="line">-(<span class="built_in">NSInteger</span>)tableView:(<span class="built_in">UITableView</span> *)tableView numberOfRowsInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line">    <span class="keyword">if</span> (section == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">15</span>;</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="built_in">UITableViewCell</span>*)tableView:(<span class="built_in">UITableView</span> *)tableView cellForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    1.标识</span></span><br><span class="line">    <span class="keyword">static</span> <span class="built_in">NSString</span> *identifier = <span class="string">@"cellID"</span>;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    2.从tableView复用池中取cell</span></span><br><span class="line">    <span class="built_in">UITableViewCell</span> *cell = [tableView dequeueReusableCellWithIdentifier:identifier];</span><br><span class="line"><span class="comment">//    3.如果从复用池中取不到cell,就创建新的</span></span><br><span class="line">    <span class="keyword">if</span> (cell == <span class="literal">nil</span>) &#123;</span><br><span class="line">        cell = [[<span class="built_in">UITableViewCell</span> alloc]initWithStyle:<span class="built_in">UITableViewCellStyleDefault</span> reuseIdentifier:identifier];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    cell.textLabel.text = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"第%ld组-第%ld行"</span>,indexPath.section,indexPath.row];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> cell;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark -</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark delegate</span></span><br><span class="line"><span class="comment">////设置头标题</span></span><br><span class="line">-(<span class="built_in">NSString</span>*)tableView:(<span class="built_in">UITableView</span> *)tableView titleForHeaderInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line">    <span class="keyword">if</span> (section == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">@"第一组头标题"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">@"第二组头标题"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//设置头标题高度</span></span><br><span class="line">-(<span class="built_in">CGFloat</span>)tableView:(<span class="built_in">UITableView</span> *)tableView heightForHeaderInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line"><span class="comment">//    默认22</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">40</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//设置分组脚标题</span></span><br><span class="line">-(<span class="built_in">NSString</span>*)tableView:(<span class="built_in">UITableView</span> *)tableView titleForFooterInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line">    <span class="keyword">if</span> (section == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">@"第一组脚标题"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">@"第二组脚标题"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//设置脚标题的高度</span></span><br><span class="line">-(<span class="built_in">CGFloat</span>)tableView:(<span class="built_in">UITableView</span> *)tableView heightForFooterInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">40</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//返回自定义分组的头标和脚标，会把前面设置的标题覆盖</span></span><br><span class="line"><span class="comment">//必须设置头标题或头标题高度，否则本方法不生效</span></span><br><span class="line">-(<span class="built_in">UIView</span>*)tableView:(<span class="built_in">UITableView</span> *)tableView viewForHeaderInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line">    <span class="built_in">UIButton</span> *button = [<span class="built_in">UIButton</span> buttonWithType:<span class="built_in">UIButtonTypeCustom</span>];</span><br><span class="line">    button.frame = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="keyword">self</span>.view.frame.size.width, <span class="number">40</span>);</span><br><span class="line">    [button setTitle:<span class="string">@"分组标题"</span> forState:<span class="built_in">UIControlStateNormal</span>];</span><br><span class="line">    button.backgroundColor = [<span class="built_in">UIColor</span> purpleColor];</span><br><span class="line">    [button addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(onClick) forControlEvents:<span class="built_in">UIControlEventTouchUpInside</span>];</span><br><span class="line">    <span class="keyword">return</span> button;</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)onClick&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"点点点点点"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//必须设置脚标题或脚标题高度，否则本方法不生效</span></span><br><span class="line">-(<span class="built_in">UIView</span>*)tableView:(<span class="built_in">UITableView</span> *)tableView viewForFooterInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line">    <span class="built_in">UIImageView</span> *imageView = [[<span class="built_in">UIImageView</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="keyword">self</span>.view.frame.size.width, <span class="number">40</span>)];</span><br><span class="line">    imageView.image = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"6.jpg"</span>];</span><br><span class="line">    <span class="keyword">return</span> imageView;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()&lt;<span class="title">UITableViewDelegate</span>,<span class="title">UITableViewDataSource</span>&gt;</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//    表格视图</span></span><br><span class="line">    <span class="built_in">UITableView</span> *_tableView;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line"> </span><br><span class="line">    [<span class="keyword">self</span> createUITableView];</span><br><span class="line"><span class="comment">//    [_tableView performSelector:@selector(reloadData) withObject:nil afterDelay:5];</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//创建UITableView</span></span><br><span class="line">-(<span class="keyword">void</span>)createUITableView&#123;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    初始化UITableView</span></span><br><span class="line">    _tableView = [[<span class="built_in">UITableView</span> alloc]initWithFrame:<span class="keyword">self</span>.view.bounds style:<span class="built_in">UITableViewStylePlain</span>];</span><br><span class="line"><span class="comment">//    UITableViewStylePlain, 平铺样式</span></span><br><span class="line"><span class="comment">//    UITableViewStyleGrouped 分组样式</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//    背景色</span></span><br><span class="line">    _tableView.backgroundColor = [<span class="built_in">UIColor</span> orangeColor];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置数据源代理</span></span><br><span class="line">    _tableView.dataSource = <span class="keyword">self</span>;</span><br><span class="line"><span class="comment">//    设置代理</span></span><br><span class="line">    _tableView.delegate = <span class="keyword">self</span>;</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:_tableView];</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark -</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark dataSource</span></span><br><span class="line"><span class="comment">//返回多少个分组</span></span><br><span class="line">-(<span class="built_in">NSInteger</span>)numberOfSectionsInTableView:(<span class="built_in">UITableView</span> *)tableView&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"numberOfSectionsInTableView"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//每组有多少行</span></span><br><span class="line">-(<span class="built_in">NSInteger</span>)tableView:(<span class="built_in">UITableView</span> *)tableView numberOfRowsInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"numberOfRowsInSection"</span>);</span><br><span class="line">    <span class="keyword">if</span> (section == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">20</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">-(<span class="built_in">UITableViewCell</span>*)tableView:(<span class="built_in">UITableView</span> *)tableView cellForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</span><br><span class="line"><span class="comment">//    NSLog(@"cellForRowAtIndexPath");</span></span><br><span class="line"><span class="comment">//    indexPath</span></span><br><span class="line"><span class="comment">//    表示当cell在表格视图中的位置</span></span><br><span class="line"><span class="comment">//    indexPath.section 代表的是cell所在的分组</span></span><br><span class="line"><span class="comment">//    indexPath.row     代表的是cell所在分组的行的位置</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">//    1.表格的标识</span></span><br><span class="line">    <span class="keyword">static</span> <span class="built_in">NSString</span> *identifier = <span class="string">@"cellID"</span>;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    2.按照标识从tableView复用池中取cell</span></span><br><span class="line">    <span class="built_in">UITableViewCell</span> *cell = [tableView dequeueReusableCellWithIdentifier:identifier];</span><br><span class="line"><span class="comment">//    3.如果在复用池中找不以Cell,就创建新的Cell</span></span><br><span class="line">    <span class="keyword">if</span> (cell == <span class="literal">nil</span>) &#123;</span><br><span class="line">        cell = [[<span class="built_in">UITableViewCell</span> alloc]initWithStyle:<span class="built_in">UITableViewCellStyleDefault</span> reuseIdentifier:identifier];</span><br><span class="line"><span class="comment">//        UITableViewCellStyleDefault,</span></span><br><span class="line"><span class="comment">//        UITableViewCellStyleValue1,</span></span><br><span class="line"><span class="comment">//        UITableViewCellStyleValue2,</span></span><br><span class="line"><span class="comment">//        UITableViewCellStyleSubtitle</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    设置展示标题</span></span><br><span class="line">    cell.textLabel.text = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"第%ld组"</span>,indexPath.section];</span><br><span class="line"><span class="comment">//    设置展示详细标题</span></span><br><span class="line">    cell.detailTextLabel.text = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"第%ld行"</span>,indexPath.row];</span><br><span class="line"><span class="comment">//    设置展示图片</span></span><br><span class="line">    cell.imageView.image = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"1"</span>];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    附件按钮类型</span></span><br><span class="line">    cell.accessoryType = <span class="built_in">UITableViewCellAccessoryDetailButton</span>;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    UITableViewCellAccessoryNone, 无样式</span></span><br><span class="line"><span class="comment">//    UITableViewCellAccessoryDisclosureIndicator箭头</span></span><br><span class="line"><span class="comment">//UITableViewCellAccessoryDetailDisclosureButton 箭头+信息按钮</span></span><br><span class="line"><span class="comment">//    UITableViewCellAccessoryCheckmark,对勾</span></span><br><span class="line"><span class="comment">//    UITableViewCellAccessoryDetailButton 信息按钮</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//=============================================</span></span><br><span class="line"><span class="comment">//    UIView *accessView = [[UIView alloc]initWithFrame:CGRectMake(0, 0, 40, 40)];</span></span><br><span class="line"><span class="comment">//    accessView.backgroundColor = [UIColor blackColor];</span></span><br><span class="line"><span class="comment">////    设置自定义的附件视图</span></span><br><span class="line"><span class="comment">//    cell.accessoryView = accessView;</span></span><br><span class="line"><span class="comment">//=============================================</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">//    选中样式</span></span><br><span class="line">    cell.selectionStyle = <span class="built_in">UITableViewCellSelectionStyleDefault</span>;</span><br><span class="line"><span class="comment">//    UITableViewCellSelectionStyleNone,</span></span><br><span class="line"><span class="comment">//    UITableViewCellSelectionStyleBlue,</span></span><br><span class="line"><span class="comment">//    UITableViewCellSelectionStyleGray,</span></span><br><span class="line"><span class="comment">//    UITableViewCellSelectionStyleDefault</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置选中背景View</span></span><br><span class="line">    <span class="built_in">UIView</span> *BackgroundView = [[<span class="built_in">UIView</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">50</span>, <span class="number">50</span>)];</span><br><span class="line">    BackgroundView.backgroundColor = [<span class="built_in">UIColor</span> clearColor];</span><br><span class="line">    cell.selectedBackgroundView = BackgroundView;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    UIImageView *imageView = [[UIImageView alloc]initWithFrame:CGRectMake(0, 0, self.view.frame.size.width, 44)];</span></span><br><span class="line"><span class="comment">//    imageView.image = [UIImage imageNamed:@"1"];</span></span><br><span class="line"><span class="comment">//    cell.selectedBackgroundView = imageView;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> cell;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark -</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark delegate</span></span><br><span class="line">-(<span class="keyword">void</span>)tableView:(<span class="built_in">UITableView</span> *)tableView accessoryButtonTappedForRowWithIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"点击了附件按钮"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//设置行高</span></span><br><span class="line">-(<span class="built_in">CGFloat</span>)tableView:(<span class="built_in">UITableView</span> *)tableView heightForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</span><br><span class="line"><span class="comment">//    默认行高 44</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">80</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//设置分组的头标题</span></span><br><span class="line">-(<span class="built_in">NSString</span>*)tableView:(<span class="built_in">UITableView</span> *)tableView titleForHeaderInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line">    <span class="keyword">if</span> (section == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">@"第一组组标题"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">@"第二组组标题"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//设置脚标题</span></span><br><span class="line">-(<span class="built_in">NSString</span>*)tableView:(<span class="built_in">UITableView</span> *)tableView titleForFooterInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line">    <span class="keyword">if</span> (section == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">@"第一组脚标"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">@"第二组脚标"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//组头的高度</span></span><br><span class="line">-(<span class="built_in">CGFloat</span>)tableView:(<span class="built_in">UITableView</span> *)tableView heightForHeaderInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line"><span class="comment">//    默认高度是22</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">40</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//组尾的高度</span></span><br><span class="line">-(<span class="built_in">CGFloat</span>)tableView:(<span class="built_in">UITableView</span> *)tableView heightForFooterInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line"><span class="comment">//    默认高度是22</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">40</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()&lt;<span class="title">UITableViewDataSource</span>,<span class="title">UITableViewDelegate</span>&gt;</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">UITableView</span> *_tableView;</span><br><span class="line">    <span class="built_in">NSMutableArray</span> *_dataArray;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line"></span><br><span class="line">    [<span class="keyword">self</span> createUITableView];</span><br><span class="line">    [<span class="keyword">self</span> createDataArray];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">self</span>.navigationItem.rightBarButtonItem = <span class="keyword">self</span>.editButtonItem;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//编辑按钮触发的方法</span></span><br><span class="line">-(<span class="keyword">void</span>)setEditing:(<span class="built_in">BOOL</span>)editing animated:(<span class="built_in">BOOL</span>)animated&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%d"</span>,editing);</span><br><span class="line"><span class="comment">//    重新调用父类的方法，处于Done字样时，editing=YES,处于Edit样式时，editing = NO.</span></span><br><span class="line">    [<span class="keyword">super</span> setEditing:editing animated:<span class="literal">YES</span>];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置tableView的可编辑性</span></span><br><span class="line">    [_tableView setEditing:editing animated:<span class="literal">YES</span>];</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)createUITableView&#123;</span><br><span class="line"><span class="comment">//    初始化UITableView 设置样式和frame</span></span><br><span class="line">    _tableView = [[<span class="built_in">UITableView</span> alloc]initWithFrame:<span class="keyword">self</span>.view.bounds style:<span class="built_in">UITableViewStylePlain</span>];</span><br><span class="line"><span class="comment">//    设置背景色</span></span><br><span class="line">    _tableView.backgroundColor = [<span class="built_in">UIColor</span> orangeColor];</span><br><span class="line"><span class="comment">//    设置代理</span></span><br><span class="line">    _tableView.dataSource = <span class="keyword">self</span>;</span><br><span class="line">    _tableView.delegate = <span class="keyword">self</span>;</span><br><span class="line"><span class="comment">//    添加到视图</span></span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:_tableView];</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)createDataArray&#123;</span><br><span class="line">    </span><br><span class="line">    _dataArray = [<span class="built_in">NSMutableArray</span> array];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    数据源中要添加两组数据：删除的、增加的</span></span><br><span class="line">    <span class="built_in">NSMutableArray</span> *deleteArray = [<span class="built_in">NSMutableArray</span> array];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">10</span>;  i ++) &#123;</span><br><span class="line">        <span class="built_in">NSString</span> *deleteStr = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"被删除的第%d行"</span>,i];</span><br><span class="line">        [deleteArray addObject:deleteStr];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">NSMutableArray</span> *insertArray = [<span class="built_in">NSMutableArray</span> array];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">10</span>; i ++) &#123;</span><br><span class="line">        <span class="built_in">NSString</span> *insertStr = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"增加的第%d行"</span>,i];</span><br><span class="line">        [insertArray addObject:insertStr];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    [_dataArray addObject:deleteArray];</span><br><span class="line">    [_dataArray addObject:insertArray];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,_dataArray);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark -</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark dataSource</span></span><br><span class="line"><span class="comment">//返回有多少组</span></span><br><span class="line">-(<span class="built_in">NSInteger</span>)numberOfSectionsInTableView:(<span class="built_in">UITableView</span> *)tableView&#123;</span><br><span class="line">    <span class="keyword">return</span> _dataArray.count;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//每组有多少行</span></span><br><span class="line">-(<span class="built_in">NSInteger</span>)tableView:(<span class="built_in">UITableView</span> *)tableView numberOfRowsInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSMutableArray</span> *array = [_dataArray objectAtIndex:section];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> array.count;</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="built_in">UITableViewCell</span>*)tableView:(<span class="built_in">UITableView</span> *)tableView cellForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</span><br><span class="line"><span class="comment">//    1.定义标识</span></span><br><span class="line">    <span class="keyword">static</span> <span class="built_in">NSString</span> *identifier = <span class="string">@"cellID"</span>;</span><br><span class="line"><span class="comment">//    2.从tableView复用池中取cell</span></span><br><span class="line">    <span class="built_in">UITableViewCell</span> *cell = [tableView dequeueReusableCellWithIdentifier:identifier];</span><br><span class="line"><span class="comment">//    3.如果取不到cell,就创建新的cell</span></span><br><span class="line">    <span class="keyword">if</span> (cell == <span class="literal">nil</span>) &#123;</span><br><span class="line">        cell = [[<span class="built_in">UITableViewCell</span> alloc]initWithStyle:<span class="built_in">UITableViewCellStyleDefault</span> reuseIdentifier:identifier];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    cell.textLabel.text = _dataArray[indexPath.section][indexPath.row];</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//    赋值</span></span><br><span class="line">    cell.textLabel.text = [[_dataArray objectAtIndex:indexPath.section]objectAtIndex:indexPath.row];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> cell;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark -</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark delegate</span></span><br><span class="line"><span class="comment">//选中了哪一行</span></span><br><span class="line">-(<span class="keyword">void</span>)tableView:(<span class="built_in">UITableView</span> *)tableView didSelectRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</span><br><span class="line"><span class="comment">//    NSLog(@"选中了哪一行");</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"第%ld组-第%ld行"</span>,indexPath.section,indexPath.row);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//反选</span></span><br><span class="line">-(<span class="keyword">void</span>)tableView:(<span class="built_in">UITableView</span> *)tableView didDeselectRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</span><br><span class="line"><span class="comment">//    NSLog(@"didDeselectRowAtIndexPath");</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"----第%ld组-第%ld行"</span>,indexPath.section,indexPath.row);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//设置tableView 的编辑状态</span></span><br><span class="line">-(<span class="built_in">UITableViewCellEditingStyle</span>)tableView:(<span class="built_in">UITableView</span> *)tableView editingStyleForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    UITableViewCellEditingStyleNone,无效果</span></span><br><span class="line"><span class="comment">//    UITableViewCellEditingStyleDelete,删除</span></span><br><span class="line"><span class="comment">//    UITableViewCellEditingStyleInsert 增加</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (indexPath.section == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">UITableViewCellEditingStyleDelete</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">UITableViewCellEditingStyleInsert</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)tableView:(<span class="built_in">UITableView</span> *)tableView commitEditingStyle:(<span class="built_in">UITableViewCellEditingStyle</span>)editingStyle forRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (editingStyle == <span class="built_in">UITableViewCellEditingStyleDelete</span>) &#123;</span><br><span class="line"><span class="comment">//        删除当前对应行的数据源</span></span><br><span class="line">        [[_dataArray objectAtIndex:indexPath.section]removeObjectAtIndex:indexPath.row];</span><br><span class="line">        </span><br><span class="line"><span class="comment">//        [tableView reloadData];</span></span><br><span class="line"><span class="comment">//       刷新表</span></span><br><span class="line">        [tableView deleteRowsAtIndexPaths:@[indexPath] withRowAnimation:<span class="built_in">UITableViewRowAnimationNone</span>];</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">NSString</span> *insertStr = <span class="string">@"我是新来的"</span>;</span><br><span class="line"><span class="comment">//        数据源添加新数据</span></span><br><span class="line">        [[_dataArray objectAtIndex:indexPath.section] insertObject:insertStr atIndex:indexPath.row];</span><br><span class="line"><span class="comment">//        刷表</span></span><br><span class="line"><span class="comment">//        [tableView reloadData];</span></span><br><span class="line">        [tableView insertRowsAtIndexPaths:@[indexPath] withRowAnimation:<span class="built_in">UITableViewRowAnimationNone</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//是否允许某一行被编辑</span></span><br><span class="line">-(<span class="built_in">BOOL</span>)tableView:(<span class="built_in">UITableView</span> *)tableView canEditRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</span><br><span class="line"><span class="comment">//    if (indexPath.row % 2 == 0) &#123;</span></span><br><span class="line"><span class="comment">//        return  YES;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//    return NO;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//移动要实现的方法</span></span><br><span class="line">-(<span class="keyword">void</span>)tableView:(<span class="built_in">UITableView</span> *)tableView moveRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)sourceIndexPath toIndexPath:(<span class="built_in">NSIndexPath</span> *)destinationIndexPath&#123;</span><br><span class="line"><span class="comment">//    sourceIndexPath 将要移动的cell的位置信息</span></span><br><span class="line"><span class="comment">//    destinationIndexPath 目的位置信息</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//    根据sourceIndexPath.section来获得第section组的数据</span></span><br><span class="line">    <span class="built_in">NSMutableArray</span> *sourceArray = _dataArray[sourceIndexPath.section];</span><br><span class="line"><span class="comment">//    取出要移动cell所在行的数据</span></span><br><span class="line">    <span class="built_in">NSString</span> *sourceStr = sourceArray[sourceIndexPath.row];</span><br><span class="line"><span class="comment">//    删除要移动cell所在行的数据</span></span><br><span class="line">    [sourceArray removeObjectAtIndex:sourceIndexPath.row];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    根据destinationIndexPath.section来获取要插入的数组</span></span><br><span class="line">    <span class="built_in">NSMutableArray</span> *destinationArray = _dataArray[destinationIndexPath.section];</span><br><span class="line">    </span><br><span class="line">    [destinationArray insertObject:sourceStr atIndex:destinationIndexPath.row];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//能否移动</span></span><br><span class="line">-(<span class="built_in">BOOL</span>)tableView:(<span class="built_in">UITableView</span> *)tableView canMoveRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</span><br><span class="line">    <span class="keyword">if</span> (indexPath.section == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NO</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Objective-C </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIView Animation </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UITableView(Objc)</title>
      <link href="/2017/04/01/UITableView/"/>
      <url>/2017/04/01/UITableView/</url>
      
        <content type="html"><![CDATA[<h4 id="UITableView"><a href="#UITableView" class="headerlink" title="UITableView"></a>UITableView</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()&lt;<span class="title">UITableViewDataSource</span>,<span class="title">UITableViewDelegate</span>&gt;//遵守协议</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//    表格视图</span></span><br><span class="line">    <span class="built_in">UITableView</span> *_tableView;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">    [<span class="keyword">self</span> createUITableView];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//创建UITableView</span></span><br><span class="line">-(<span class="keyword">void</span>)createUITableView&#123;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">//    UITableViewStylePlain,</span></span><br><span class="line"><span class="comment">//    UITableViewStyleGrouped</span></span><br><span class="line">    _tableView = [[<span class="built_in">UITableView</span> alloc]initWithFrame:<span class="keyword">self</span>.view.bounds style:<span class="built_in">UITableViewStylePlain</span>];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    dataSource处理数据源相关</span></span><br><span class="line">    _tableView.dataSource = <span class="keyword">self</span>;</span><br><span class="line"><span class="comment">//    delegate处理移动、点击等</span></span><br><span class="line">    _tableView.delegate = <span class="keyword">self</span>;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置背景色</span></span><br><span class="line">    _tableView.backgroundColor = [<span class="built_in">UIColor</span> orangeColor];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置分隔线颜色</span></span><br><span class="line">    _tableView.separatorColor = [<span class="built_in">UIColor</span> blueColor];</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:_tableView];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark -</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark dataSource delegate</span></span><br><span class="line"><span class="comment">//返回有多少个分组</span></span><br><span class="line"><span class="comment">//如果不实现该方法，就返回一组（默认是1）</span></span><br><span class="line"><span class="comment">//这个不是必须要实现的</span></span><br><span class="line">-(<span class="built_in">NSInteger</span>)numberOfSectionsInTableView:(<span class="built_in">UITableView</span> *)tableView&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//每组有多少行</span></span><br><span class="line"><span class="comment">//必须实现</span></span><br><span class="line">-(<span class="built_in">NSInteger</span>)tableView:(<span class="built_in">UITableView</span> *)tableView numberOfRowsInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">20</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//表格视图的信息</span></span><br><span class="line"><span class="comment">//必须实现</span></span><br><span class="line">-(<span class="built_in">UITableViewCell</span>*)tableView:(<span class="built_in">UITableView</span> *)tableView cellForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    1.表格的标识</span></span><br><span class="line">    <span class="keyword">static</span> <span class="built_in">NSString</span> *identifier = <span class="string">@"cellID"</span>;</span><br><span class="line"><span class="comment">//    2.按照标识在tableView的复用池中查找Cell</span></span><br><span class="line">    <span class="built_in">UITableViewCell</span> *cell = [tableView dequeueReusableCellWithIdentifier:identifier];</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        复用池的作用：</span></span><br><span class="line"><span class="comment">     当UITableViewCell滑出屏幕时，不会被销毁，而是放到tableView的复用池中。</span></span><br><span class="line"><span class="comment">     当新的Cell要出现在屏幕上时，先在复用池中查看有没有相同标识的Cell，如果有，就直接刷新数据使用。如果没有，就创建新的</span></span><br><span class="line"><span class="comment">     </span></span><br><span class="line"><span class="comment">     假如一个界面上有多个UITableView，每个tableView有自己的复用池</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="comment">//    3.如果复用池中找不到Cell，就自己创建</span></span><br><span class="line">    <span class="keyword">if</span> (cell == <span class="literal">nil</span>) &#123;</span><br><span class="line">        cell = [[<span class="built_in">UITableViewCell</span> alloc]initWithStyle:<span class="built_in">UITableViewCellStyleDefault</span> reuseIdentifier:identifier];</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">static</span> <span class="keyword">int</span> a = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%d"</span>,a++);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    给cell赋值</span></span><br><span class="line">    cell.textLabel.text = <span class="string">@"cell"</span>;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    4.返回cell</span></span><br><span class="line">    <span class="keyword">return</span> cell;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()&lt;<span class="title">UITableViewDataSource</span>,<span class="title">UITableViewDelegate</span>&gt;</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">UITableView</span> *_tableView;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span> createUITableView];</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)createUITableView&#123;</span><br><span class="line"><span class="comment">//    初始化并设置样式和frame</span></span><br><span class="line">    _tableView = [[<span class="built_in">UITableView</span> alloc]initWithFrame:<span class="keyword">self</span>.view.bounds style:<span class="built_in">UITableViewStylePlain</span>];</span><br><span class="line"><span class="comment">//    设置背景色</span></span><br><span class="line">    _tableView.backgroundColor = [<span class="built_in">UIColor</span> orangeColor];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置代理</span></span><br><span class="line">    _tableView.dataSource = <span class="keyword">self</span>;</span><br><span class="line">    _tableView.delegate = <span class="keyword">self</span>;</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:_tableView];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置tableView的头视图</span></span><br><span class="line">    <span class="built_in">UIImageView</span> *headerImageView = [[<span class="built_in">UIImageView</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="keyword">self</span>.view.frame.size.width, <span class="number">200</span>)];</span><br><span class="line">    headerImageView.image = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"1.jpg"</span>];</span><br><span class="line">    _tableView.tableHeaderView = headerImageView;</span><br><span class="line"><span class="comment">//    设置tableView的脚视图</span></span><br><span class="line">    <span class="built_in">UIImageView</span> *footerImageView = [[<span class="built_in">UIImageView</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="keyword">self</span>.view.frame.size.width, <span class="number">200</span>)];</span><br><span class="line">    footerImageView.image = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"2.jpg"</span>];</span><br><span class="line">    _tableView.tableFooterView = footerImageView;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark - </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark dataSource</span></span><br><span class="line"><span class="comment">//返回多少个分组</span></span><br><span class="line">-(<span class="built_in">NSInteger</span>)numberOfSectionsInTableView:(<span class="built_in">UITableView</span> *)tableView&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//返回每组有几行</span></span><br><span class="line">-(<span class="built_in">NSInteger</span>)tableView:(<span class="built_in">UITableView</span> *)tableView numberOfRowsInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line">    <span class="keyword">if</span> (section == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">15</span>;</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="built_in">UITableViewCell</span>*)tableView:(<span class="built_in">UITableView</span> *)tableView cellForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    1.标识</span></span><br><span class="line">    <span class="keyword">static</span> <span class="built_in">NSString</span> *identifier = <span class="string">@"cellID"</span>;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    2.从tableView复用池中取cell</span></span><br><span class="line">    <span class="built_in">UITableViewCell</span> *cell = [tableView dequeueReusableCellWithIdentifier:identifier];</span><br><span class="line"><span class="comment">//    3.如果从复用池中取不到cell,就创建新的</span></span><br><span class="line">    <span class="keyword">if</span> (cell == <span class="literal">nil</span>) &#123;</span><br><span class="line">        cell = [[<span class="built_in">UITableViewCell</span> alloc]initWithStyle:<span class="built_in">UITableViewCellStyleDefault</span> reuseIdentifier:identifier];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    cell.textLabel.text = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"第%ld组-第%ld行"</span>,indexPath.section,indexPath.row];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> cell;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark -</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark delegate</span></span><br><span class="line"><span class="comment">////设置头标题</span></span><br><span class="line">-(<span class="built_in">NSString</span>*)tableView:(<span class="built_in">UITableView</span> *)tableView titleForHeaderInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line">    <span class="keyword">if</span> (section == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">@"第一组头标题"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">@"第二组头标题"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//设置头标题高度</span></span><br><span class="line">-(<span class="built_in">CGFloat</span>)tableView:(<span class="built_in">UITableView</span> *)tableView heightForHeaderInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line"><span class="comment">//    默认22</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">40</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//设置分组脚标题</span></span><br><span class="line">-(<span class="built_in">NSString</span>*)tableView:(<span class="built_in">UITableView</span> *)tableView titleForFooterInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line">    <span class="keyword">if</span> (section == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">@"第一组脚标题"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">@"第二组脚标题"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//设置脚标题的高度</span></span><br><span class="line">-(<span class="built_in">CGFloat</span>)tableView:(<span class="built_in">UITableView</span> *)tableView heightForFooterInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">40</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//返回自定义分组的头标和脚标，会把前面设置的标题覆盖</span></span><br><span class="line"><span class="comment">//必须设置头标题或头标题高度，否则本方法不生效</span></span><br><span class="line">-(<span class="built_in">UIView</span>*)tableView:(<span class="built_in">UITableView</span> *)tableView viewForHeaderInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line">    <span class="built_in">UIButton</span> *button = [<span class="built_in">UIButton</span> buttonWithType:<span class="built_in">UIButtonTypeCustom</span>];</span><br><span class="line">    button.frame = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="keyword">self</span>.view.frame.size.width, <span class="number">40</span>);</span><br><span class="line">    [button setTitle:<span class="string">@"分组标题"</span> forState:<span class="built_in">UIControlStateNormal</span>];</span><br><span class="line">    button.backgroundColor = [<span class="built_in">UIColor</span> purpleColor];</span><br><span class="line">    [button addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(onClick) forControlEvents:<span class="built_in">UIControlEventTouchUpInside</span>];</span><br><span class="line">    <span class="keyword">return</span> button;</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)onClick&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"点点点点点"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//必须设置脚标题或脚标题高度，否则本方法不生效</span></span><br><span class="line">-(<span class="built_in">UIView</span>*)tableView:(<span class="built_in">UITableView</span> *)tableView viewForFooterInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line">    <span class="built_in">UIImageView</span> *imageView = [[<span class="built_in">UIImageView</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="keyword">self</span>.view.frame.size.width, <span class="number">40</span>)];</span><br><span class="line">    imageView.image = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"6.jpg"</span>];</span><br><span class="line">    <span class="keyword">return</span> imageView;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()&lt;<span class="title">UITableViewDelegate</span>,<span class="title">UITableViewDataSource</span>&gt;</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//    表格视图</span></span><br><span class="line">    <span class="built_in">UITableView</span> *_tableView;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line"> </span><br><span class="line">    [<span class="keyword">self</span> createUITableView];</span><br><span class="line"><span class="comment">//    [_tableView performSelector:@selector(reloadData) withObject:nil afterDelay:5];</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//创建UITableView</span></span><br><span class="line">-(<span class="keyword">void</span>)createUITableView&#123;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    初始化UITableView</span></span><br><span class="line">    _tableView = [[<span class="built_in">UITableView</span> alloc]initWithFrame:<span class="keyword">self</span>.view.bounds style:<span class="built_in">UITableViewStylePlain</span>];</span><br><span class="line"><span class="comment">//    UITableViewStylePlain, 平铺样式</span></span><br><span class="line"><span class="comment">//    UITableViewStyleGrouped 分组样式</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//    背景色</span></span><br><span class="line">    _tableView.backgroundColor = [<span class="built_in">UIColor</span> orangeColor];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置数据源代理</span></span><br><span class="line">    _tableView.dataSource = <span class="keyword">self</span>;</span><br><span class="line"><span class="comment">//    设置代理</span></span><br><span class="line">    _tableView.delegate = <span class="keyword">self</span>;</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:_tableView];</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark -</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark dataSource</span></span><br><span class="line"><span class="comment">//返回多少个分组</span></span><br><span class="line">-(<span class="built_in">NSInteger</span>)numberOfSectionsInTableView:(<span class="built_in">UITableView</span> *)tableView&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"numberOfSectionsInTableView"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//每组有多少行</span></span><br><span class="line">-(<span class="built_in">NSInteger</span>)tableView:(<span class="built_in">UITableView</span> *)tableView numberOfRowsInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"numberOfRowsInSection"</span>);</span><br><span class="line">    <span class="keyword">if</span> (section == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">20</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">-(<span class="built_in">UITableViewCell</span>*)tableView:(<span class="built_in">UITableView</span> *)tableView cellForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</span><br><span class="line"><span class="comment">//    NSLog(@"cellForRowAtIndexPath");</span></span><br><span class="line"><span class="comment">//    indexPath</span></span><br><span class="line"><span class="comment">//    表示当cell在表格视图中的位置</span></span><br><span class="line"><span class="comment">//    indexPath.section 代表的是cell所在的分组</span></span><br><span class="line"><span class="comment">//    indexPath.row     代表的是cell所在分组的行的位置</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">//    1.表格的标识</span></span><br><span class="line">    <span class="keyword">static</span> <span class="built_in">NSString</span> *identifier = <span class="string">@"cellID"</span>;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    2.按照标识从tableView复用池中取cell</span></span><br><span class="line">    <span class="built_in">UITableViewCell</span> *cell = [tableView dequeueReusableCellWithIdentifier:identifier];</span><br><span class="line"><span class="comment">//    3.如果在复用池中找不以Cell,就创建新的Cell</span></span><br><span class="line">    <span class="keyword">if</span> (cell == <span class="literal">nil</span>) &#123;</span><br><span class="line">        cell = [[<span class="built_in">UITableViewCell</span> alloc]initWithStyle:<span class="built_in">UITableViewCellStyleDefault</span> reuseIdentifier:identifier];</span><br><span class="line"><span class="comment">//        UITableViewCellStyleDefault,</span></span><br><span class="line"><span class="comment">//        UITableViewCellStyleValue1,</span></span><br><span class="line"><span class="comment">//        UITableViewCellStyleValue2,</span></span><br><span class="line"><span class="comment">//        UITableViewCellStyleSubtitle</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    设置展示标题</span></span><br><span class="line">    cell.textLabel.text = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"第%ld组"</span>,indexPath.section];</span><br><span class="line"><span class="comment">//    设置展示详细标题</span></span><br><span class="line">    cell.detailTextLabel.text = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"第%ld行"</span>,indexPath.row];</span><br><span class="line"><span class="comment">//    设置展示图片</span></span><br><span class="line">    cell.imageView.image = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"1"</span>];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    附件按钮类型</span></span><br><span class="line">    cell.accessoryType = <span class="built_in">UITableViewCellAccessoryDetailButton</span>;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    UITableViewCellAccessoryNone, 无样式</span></span><br><span class="line"><span class="comment">//    UITableViewCellAccessoryDisclosureIndicator箭头</span></span><br><span class="line"><span class="comment">//UITableViewCellAccessoryDetailDisclosureButton 箭头+信息按钮</span></span><br><span class="line"><span class="comment">//    UITableViewCellAccessoryCheckmark,对勾</span></span><br><span class="line"><span class="comment">//    UITableViewCellAccessoryDetailButton 信息按钮</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//=============================================</span></span><br><span class="line"><span class="comment">//    UIView *accessView = [[UIView alloc]initWithFrame:CGRectMake(0, 0, 40, 40)];</span></span><br><span class="line"><span class="comment">//    accessView.backgroundColor = [UIColor blackColor];</span></span><br><span class="line"><span class="comment">////    设置自定义的附件视图</span></span><br><span class="line"><span class="comment">//    cell.accessoryView = accessView;</span></span><br><span class="line"><span class="comment">//=============================================</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">//    选中样式</span></span><br><span class="line">    cell.selectionStyle = <span class="built_in">UITableViewCellSelectionStyleDefault</span>;</span><br><span class="line"><span class="comment">//    UITableViewCellSelectionStyleNone,</span></span><br><span class="line"><span class="comment">//    UITableViewCellSelectionStyleBlue,</span></span><br><span class="line"><span class="comment">//    UITableViewCellSelectionStyleGray,</span></span><br><span class="line"><span class="comment">//    UITableViewCellSelectionStyleDefault</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置选中背景View</span></span><br><span class="line">    <span class="built_in">UIView</span> *BackgroundView = [[<span class="built_in">UIView</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">50</span>, <span class="number">50</span>)];</span><br><span class="line">    BackgroundView.backgroundColor = [<span class="built_in">UIColor</span> clearColor];</span><br><span class="line">    cell.selectedBackgroundView = BackgroundView;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    UIImageView *imageView = [[UIImageView alloc]initWithFrame:CGRectMake(0, 0, self.view.frame.size.width, 44)];</span></span><br><span class="line"><span class="comment">//    imageView.image = [UIImage imageNamed:@"1"];</span></span><br><span class="line"><span class="comment">//    cell.selectedBackgroundView = imageView;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> cell;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark -</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark delegate</span></span><br><span class="line">-(<span class="keyword">void</span>)tableView:(<span class="built_in">UITableView</span> *)tableView accessoryButtonTappedForRowWithIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"点击了附件按钮"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//设置行高</span></span><br><span class="line">-(<span class="built_in">CGFloat</span>)tableView:(<span class="built_in">UITableView</span> *)tableView heightForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</span><br><span class="line"><span class="comment">//    默认行高 44</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">80</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//设置分组的头标题</span></span><br><span class="line">-(<span class="built_in">NSString</span>*)tableView:(<span class="built_in">UITableView</span> *)tableView titleForHeaderInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line">    <span class="keyword">if</span> (section == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">@"第一组组标题"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">@"第二组组标题"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//设置脚标题</span></span><br><span class="line">-(<span class="built_in">NSString</span>*)tableView:(<span class="built_in">UITableView</span> *)tableView titleForFooterInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line">    <span class="keyword">if</span> (section == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">@"第一组脚标"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">@"第二组脚标"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//组头的高度</span></span><br><span class="line">-(<span class="built_in">CGFloat</span>)tableView:(<span class="built_in">UITableView</span> *)tableView heightForHeaderInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line"><span class="comment">//    默认高度是22</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">40</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//组尾的高度</span></span><br><span class="line">-(<span class="built_in">CGFloat</span>)tableView:(<span class="built_in">UITableView</span> *)tableView heightForFooterInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line"><span class="comment">//    默认高度是22</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">40</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()&lt;<span class="title">UITableViewDataSource</span>,<span class="title">UITableViewDelegate</span>&gt;</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">UITableView</span> *_tableView;</span><br><span class="line">    <span class="built_in">NSMutableArray</span> *_dataArray;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line"></span><br><span class="line">    [<span class="keyword">self</span> createUITableView];</span><br><span class="line">    [<span class="keyword">self</span> createDataArray];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">self</span>.navigationItem.rightBarButtonItem = <span class="keyword">self</span>.editButtonItem;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//编辑按钮触发的方法</span></span><br><span class="line">-(<span class="keyword">void</span>)setEditing:(<span class="built_in">BOOL</span>)editing animated:(<span class="built_in">BOOL</span>)animated&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%d"</span>,editing);</span><br><span class="line"><span class="comment">//    重新调用父类的方法，处于Done字样时，editing=YES,处于Edit样式时，editing = NO.</span></span><br><span class="line">    [<span class="keyword">super</span> setEditing:editing animated:<span class="literal">YES</span>];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置tableView的可编辑性</span></span><br><span class="line">    [_tableView setEditing:editing animated:<span class="literal">YES</span>];</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)createUITableView&#123;</span><br><span class="line"><span class="comment">//    初始化UITableView 设置样式和frame</span></span><br><span class="line">    _tableView = [[<span class="built_in">UITableView</span> alloc]initWithFrame:<span class="keyword">self</span>.view.bounds style:<span class="built_in">UITableViewStylePlain</span>];</span><br><span class="line"><span class="comment">//    设置背景色</span></span><br><span class="line">    _tableView.backgroundColor = [<span class="built_in">UIColor</span> orangeColor];</span><br><span class="line"><span class="comment">//    设置代理</span></span><br><span class="line">    _tableView.dataSource = <span class="keyword">self</span>;</span><br><span class="line">    _tableView.delegate = <span class="keyword">self</span>;</span><br><span class="line"><span class="comment">//    添加到视图</span></span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:_tableView];</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)createDataArray&#123;</span><br><span class="line">    </span><br><span class="line">    _dataArray = [<span class="built_in">NSMutableArray</span> array];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    数据源中要添加两组数据：删除的、增加的</span></span><br><span class="line">    <span class="built_in">NSMutableArray</span> *deleteArray = [<span class="built_in">NSMutableArray</span> array];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">10</span>;  i ++) &#123;</span><br><span class="line">        <span class="built_in">NSString</span> *deleteStr = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"被删除的第%d行"</span>,i];</span><br><span class="line">        [deleteArray addObject:deleteStr];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">NSMutableArray</span> *insertArray = [<span class="built_in">NSMutableArray</span> array];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">10</span>; i ++) &#123;</span><br><span class="line">        <span class="built_in">NSString</span> *insertStr = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"增加的第%d行"</span>,i];</span><br><span class="line">        [insertArray addObject:insertStr];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    [_dataArray addObject:deleteArray];</span><br><span class="line">    [_dataArray addObject:insertArray];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,_dataArray);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark -</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark dataSource</span></span><br><span class="line"><span class="comment">//返回有多少组</span></span><br><span class="line">-(<span class="built_in">NSInteger</span>)numberOfSectionsInTableView:(<span class="built_in">UITableView</span> *)tableView&#123;</span><br><span class="line">    <span class="keyword">return</span> _dataArray.count;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//每组有多少行</span></span><br><span class="line">-(<span class="built_in">NSInteger</span>)tableView:(<span class="built_in">UITableView</span> *)tableView numberOfRowsInSection:(<span class="built_in">NSInteger</span>)section&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSMutableArray</span> *array = [_dataArray objectAtIndex:section];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> array.count;</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="built_in">UITableViewCell</span>*)tableView:(<span class="built_in">UITableView</span> *)tableView cellForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</span><br><span class="line"><span class="comment">//    1.定义标识</span></span><br><span class="line">    <span class="keyword">static</span> <span class="built_in">NSString</span> *identifier = <span class="string">@"cellID"</span>;</span><br><span class="line"><span class="comment">//    2.从tableView复用池中取cell</span></span><br><span class="line">    <span class="built_in">UITableViewCell</span> *cell = [tableView dequeueReusableCellWithIdentifier:identifier];</span><br><span class="line"><span class="comment">//    3.如果取不到cell,就创建新的cell</span></span><br><span class="line">    <span class="keyword">if</span> (cell == <span class="literal">nil</span>) &#123;</span><br><span class="line">        cell = [[<span class="built_in">UITableViewCell</span> alloc]initWithStyle:<span class="built_in">UITableViewCellStyleDefault</span> reuseIdentifier:identifier];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    cell.textLabel.text = _dataArray[indexPath.section][indexPath.row];</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//    赋值</span></span><br><span class="line">    cell.textLabel.text = [[_dataArray objectAtIndex:indexPath.section]objectAtIndex:indexPath.row];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> cell;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark -</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark delegate</span></span><br><span class="line"><span class="comment">//选中了哪一行</span></span><br><span class="line">-(<span class="keyword">void</span>)tableView:(<span class="built_in">UITableView</span> *)tableView didSelectRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</span><br><span class="line"><span class="comment">//    NSLog(@"选中了哪一行");</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"第%ld组-第%ld行"</span>,indexPath.section,indexPath.row);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//反选</span></span><br><span class="line">-(<span class="keyword">void</span>)tableView:(<span class="built_in">UITableView</span> *)tableView didDeselectRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</span><br><span class="line"><span class="comment">//    NSLog(@"didDeselectRowAtIndexPath");</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"----第%ld组-第%ld行"</span>,indexPath.section,indexPath.row);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//设置tableView 的编辑状态</span></span><br><span class="line">-(<span class="built_in">UITableViewCellEditingStyle</span>)tableView:(<span class="built_in">UITableView</span> *)tableView editingStyleForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    UITableViewCellEditingStyleNone,无效果</span></span><br><span class="line"><span class="comment">//    UITableViewCellEditingStyleDelete,删除</span></span><br><span class="line"><span class="comment">//    UITableViewCellEditingStyleInsert 增加</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (indexPath.section == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">UITableViewCellEditingStyleDelete</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">UITableViewCellEditingStyleInsert</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)tableView:(<span class="built_in">UITableView</span> *)tableView commitEditingStyle:(<span class="built_in">UITableViewCellEditingStyle</span>)editingStyle forRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (editingStyle == <span class="built_in">UITableViewCellEditingStyleDelete</span>) &#123;</span><br><span class="line"><span class="comment">//        删除当前对应行的数据源</span></span><br><span class="line">        [[_dataArray objectAtIndex:indexPath.section]removeObjectAtIndex:indexPath.row];</span><br><span class="line">        </span><br><span class="line"><span class="comment">//        [tableView reloadData];</span></span><br><span class="line"><span class="comment">//       刷新表</span></span><br><span class="line">        [tableView deleteRowsAtIndexPaths:@[indexPath] withRowAnimation:<span class="built_in">UITableViewRowAnimationNone</span>];</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">NSString</span> *insertStr = <span class="string">@"我是新来的"</span>;</span><br><span class="line"><span class="comment">//        数据源添加新数据</span></span><br><span class="line">        [[_dataArray objectAtIndex:indexPath.section] insertObject:insertStr atIndex:indexPath.row];</span><br><span class="line"><span class="comment">//        刷表</span></span><br><span class="line"><span class="comment">//        [tableView reloadData];</span></span><br><span class="line">        [tableView insertRowsAtIndexPaths:@[indexPath] withRowAnimation:<span class="built_in">UITableViewRowAnimationNone</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//是否允许某一行被编辑</span></span><br><span class="line">-(<span class="built_in">BOOL</span>)tableView:(<span class="built_in">UITableView</span> *)tableView canEditRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</span><br><span class="line"><span class="comment">//    if (indexPath.row % 2 == 0) &#123;</span></span><br><span class="line"><span class="comment">//        return  YES;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//    return NO;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//移动要实现的方法</span></span><br><span class="line">-(<span class="keyword">void</span>)tableView:(<span class="built_in">UITableView</span> *)tableView moveRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)sourceIndexPath toIndexPath:(<span class="built_in">NSIndexPath</span> *)destinationIndexPath&#123;</span><br><span class="line"><span class="comment">//    sourceIndexPath 将要移动的cell的位置信息</span></span><br><span class="line"><span class="comment">//    destinationIndexPath 目的位置信息</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//    根据sourceIndexPath.section来获得第section组的数据</span></span><br><span class="line">    <span class="built_in">NSMutableArray</span> *sourceArray = _dataArray[sourceIndexPath.section];</span><br><span class="line"><span class="comment">//    取出要移动cell所在行的数据</span></span><br><span class="line">    <span class="built_in">NSString</span> *sourceStr = sourceArray[sourceIndexPath.row];</span><br><span class="line"><span class="comment">//    删除要移动cell所在行的数据</span></span><br><span class="line">    [sourceArray removeObjectAtIndex:sourceIndexPath.row];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    根据destinationIndexPath.section来获取要插入的数组</span></span><br><span class="line">    <span class="built_in">NSMutableArray</span> *destinationArray = _dataArray[destinationIndexPath.section];</span><br><span class="line">    </span><br><span class="line">    [destinationArray insertObject:sourceStr atIndex:destinationIndexPath.row];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//能否移动</span></span><br><span class="line">-(<span class="built_in">BOOL</span>)tableView:(<span class="built_in">UITableView</span> *)tableView canMoveRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</span><br><span class="line">    <span class="keyword">if</span> (indexPath.section == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NO</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Objective-C </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UITableView </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UIStepper(Objc)</title>
      <link href="/2017/03/27/UIStepper/"/>
      <url>/2017/03/27/UIStepper/</url>
      
        <content type="html"><![CDATA[<h4 id="UIStepper"><a href="#UIStepper" class="headerlink" title="UIStepper"></a>UIStepper</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line"><span class="comment">//    初始化并设置frame</span></span><br><span class="line">    <span class="built_in">UIStepper</span> *stepper = [[<span class="built_in">UIStepper</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>)];</span><br><span class="line"><span class="comment">//    最小值</span></span><br><span class="line">    stepper.minimumValue = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    最大值</span></span><br><span class="line">    stepper.maximumValue = <span class="number">10</span>;</span><br><span class="line"><span class="comment">//    设置当前值</span></span><br><span class="line">    stepper.value = <span class="number">4</span>;</span><br><span class="line"><span class="comment">//    设置每次+2或-2，默认是1</span></span><br><span class="line">    stepper.stepValue = <span class="number">2</span>;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置颜色</span></span><br><span class="line">    [stepper setTintColor:[<span class="built_in">UIColor</span> orangeColor]];</span><br><span class="line"><span class="comment">//    添加事件</span></span><br><span class="line">    [stepper addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(valueChange:) forControlEvents:<span class="built_in">UIControlEventValueChanged</span>];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    处理事件是否一直回调，默认是YES</span></span><br><span class="line">    stepper.continuous = <span class="literal">YES</span>;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置能否重复操作，默认是YES</span></span><br><span class="line">    stepper.autorepeat = <span class="literal">YES</span>;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置是否能循环，默认是NO</span></span><br><span class="line">    stepper.wraps = <span class="literal">YES</span>;</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:stepper];</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)valueChange:(<span class="built_in">UIStepper</span>*)stepper&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%lf"</span>,stepper.value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Objective-C </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIStepper </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UISlider(Objc)</title>
      <link href="/2017/03/25/UISlider/"/>
      <url>/2017/03/25/UISlider/</url>
      
        <content type="html"><![CDATA[<h4 id="UISlider"><a href="#UISlider" class="headerlink" title="UISlider"></a>UISlider</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">    <span class="comment">// Do any additional setup after loading the view, typically from a nib.</span></span><br><span class="line"><span class="comment">//    slider高度是固定的</span></span><br><span class="line">    <span class="built_in">UISlider</span> *slider = [[<span class="built_in">UISlider</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">100</span>, <span class="number">100</span>, <span class="number">200</span>, <span class="number">30</span>)];</span><br><span class="line">    slider.tag = <span class="number">10</span>;</span><br><span class="line"><span class="comment">//    最小值</span></span><br><span class="line">    slider.minimumValue = <span class="number">0</span>;</span><br><span class="line"><span class="comment">//    最大值</span></span><br><span class="line">    slider.maximumValue = <span class="number">255</span>;</span><br><span class="line"><span class="comment">//    设置当前值</span></span><br><span class="line">    slider.value = <span class="number">200</span>;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    未滑动到的颜色</span></span><br><span class="line">    slider.maximumTrackTintColor = [<span class="built_in">UIColor</span> greenColor];</span><br><span class="line"><span class="comment">//    已经滑动过的颜色</span></span><br><span class="line">    slider.minimumTrackTintColor = [<span class="built_in">UIColor</span> orangeColor];</span><br><span class="line"><span class="comment">//    小球（滑块）颜色</span></span><br><span class="line">    slider.thumbTintColor = [<span class="built_in">UIColor</span> blackColor];</span><br><span class="line"><span class="comment">//    设置图片</span></span><br><span class="line"><span class="comment">//    最左端图片</span></span><br><span class="line">    slider.minimumValueImage = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"blackHeart"</span>];</span><br><span class="line"><span class="comment">//   最右端图片</span></span><br><span class="line">    slider.maximumValueImage = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"redHeart"</span>];</span><br><span class="line"><span class="comment">//    设置滑块正常状态下的图片</span></span><br><span class="line">    [slider setThumbImage:[<span class="built_in">UIImage</span> imageNamed:<span class="string">@"blackHeart"</span>] forState:<span class="built_in">UIControlStateNormal</span>];</span><br><span class="line"><span class="comment">//    设置滑块高亮状态下的图片</span></span><br><span class="line">    [slider setThumbImage:[<span class="built_in">UIImage</span> imageNamed:<span class="string">@"redHeart"</span>] forState:<span class="built_in">UIControlStateHighlighted</span>];</span><br><span class="line">    </span><br><span class="line">    [slider addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(valueChange:) forControlEvents:<span class="built_in">UIControlEventValueChanged</span>];</span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:slider];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UISlider</span> *greenSlider = [[<span class="built_in">UISlider</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">100</span>, <span class="number">200</span>, <span class="number">200</span>, <span class="number">80</span>)];</span><br><span class="line">    greenSlider.tag = <span class="number">11</span>;</span><br><span class="line">    greenSlider.minimumValue = <span class="number">0</span>;</span><br><span class="line">    greenSlider.maximumValue = <span class="number">255</span>;</span><br><span class="line">    [greenSlider addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(valueChange:) forControlEvents:<span class="built_in">UIControlEventValueChanged</span>];</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:greenSlider];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UISlider</span> *blueSlider = [[<span class="built_in">UISlider</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">100</span>, <span class="number">300</span>, <span class="number">200</span>, <span class="number">100</span>)];</span><br><span class="line">    blueSlider.tag = <span class="number">12</span>;</span><br><span class="line">    blueSlider.minimumValue = <span class="number">0</span>;</span><br><span class="line">    blueSlider.maximumValue = <span class="number">255</span>;</span><br><span class="line">    [blueSlider addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(valueChange:) forControlEvents:<span class="built_in">UIControlEventValueChanged</span>];</span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:blueSlider];</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)valueChange:(<span class="built_in">UISlider</span>*)slider&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"---%lf"</span>,slider.value);</span><br><span class="line">    <span class="built_in">UISlider</span> *redSlider = (<span class="built_in">UISlider</span> *)[<span class="keyword">self</span>.view viewWithTag:<span class="number">10</span>];</span><br><span class="line">    <span class="built_in">UISlider</span> *greenSlider = (<span class="built_in">UISlider</span> *)[<span class="keyword">self</span>.view viewWithTag:<span class="number">11</span>];</span><br><span class="line">    <span class="built_in">UISlider</span> *blueSlider = (<span class="built_in">UISlider</span> *)[<span class="keyword">self</span>.view viewWithTag:<span class="number">12</span>];</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span>.view setBackgroundColor:[<span class="built_in">UIColor</span> colorWithRed:redSlider.value/<span class="number">255.0</span> green:greenSlider.value/<span class="number">255.0</span> blue:blueSlider.value/<span class="number">255.0</span> alpha:<span class="number">1.0</span>]];</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Objective-C </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UISlider </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UIsegementControl(Objc)</title>
      <link href="/2017/03/21/UISegementControl/"/>
      <url>/2017/03/21/UISegementControl/</url>
      
        <content type="html"><![CDATA[<h4 id="UIsegementControl"><a href="#UIsegementControl" class="headerlink" title="UIsegementControl"></a>UIsegementControl</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line"><span class="comment">//    初始化UISegmentedControl</span></span><br><span class="line">    <span class="built_in">UISegmentedControl</span> *segmentControl = [[<span class="built_in">UISegmentedControl</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">100</span>, <span class="number">100</span>, <span class="number">200</span>, <span class="number">50</span>)];</span><br><span class="line"><span class="comment">//    设置背景色</span></span><br><span class="line">    segmentControl.backgroundColor = [<span class="built_in">UIColor</span> yellowColor];</span><br><span class="line"><span class="comment">//    添加第一段</span></span><br><span class="line">    [segmentControl insertSegmentWithTitle:<span class="string">@"第一段"</span> atIndex:<span class="number">0</span> animated:<span class="literal">YES</span>];</span><br><span class="line"><span class="comment">//    添加第二段</span></span><br><span class="line">    [segmentControl insertSegmentWithTitle:<span class="string">@"第二段"</span> atIndex:<span class="number">1</span> animated:<span class="literal">YES</span>];</span><br><span class="line"><span class="comment">//    添加第三段</span></span><br><span class="line"><span class="comment">//    设置文字和图片，谁在后面，显示谁</span></span><br><span class="line">    [segmentControl insertSegmentWithTitle:<span class="string">@"第三段"</span> atIndex:<span class="number">2</span> animated:<span class="literal">YES</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UIImage</span> *image = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"qq"</span>];</span><br><span class="line"><span class="comment">//    显示原始图片</span></span><br><span class="line">    image = [image imageWithRenderingMode:<span class="built_in">UIImageRenderingModeAlwaysOriginal</span>];</span><br><span class="line"><span class="comment">//    [segmentControl insertSegmentWithImage: image atIndex:2 animated:YES];</span></span><br><span class="line">    [segmentControl setImage:image forSegmentAtIndex:<span class="number">2</span>];</span><br><span class="line">    </span><br><span class="line"> </span><br><span class="line"><span class="comment">//    选中颜色</span></span><br><span class="line">    segmentControl.tintColor = [<span class="built_in">UIColor</span> redColor];</span><br><span class="line"><span class="comment">//    设置选中某一段</span></span><br><span class="line">    segmentControl.selectedSegmentIndex = <span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    获取某一段的title</span></span><br><span class="line">    <span class="built_in">NSString</span> *title = [segmentControl titleForSegmentAtIndex:<span class="number">1</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"title = %@"</span>,title);</span><br><span class="line"><span class="comment">//    添加响应事件</span></span><br><span class="line">    [segmentControl addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(valueChange:) forControlEvents:<span class="built_in">UIControlEventValueChanged</span>];</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:segmentControl];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)valueChange:(<span class="built_in">UISegmentedControl</span>*)seg&#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">NSInteger</span> index = seg.selectedSegmentIndex;</span><br><span class="line">    <span class="keyword">switch</span> (index) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:&#123;</span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"0"</span>);</span><br><span class="line">            </span><br><span class="line">            <span class="built_in">UIAlertView</span> *alert = [[<span class="built_in">UIAlertView</span> alloc]initWithTitle:<span class="string">@"提示"</span> message:<span class="string">@"还钱"</span> delegate:<span class="keyword">self</span> cancelButtonTitle:<span class="string">@"确定"</span> otherButtonTitles:<span class="string">@"不还"</span>, <span class="literal">nil</span>];</span><br><span class="line">            [alert show];</span><br><span class="line">        &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"1"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"2"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Objective-C </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIsegementControl </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Transform形变(Objc)</title>
      <link href="/2017/03/19/Transform%E5%BD%A2%E5%8F%98/"/>
      <url>/2017/03/19/Transform%E5%BD%A2%E5%8F%98/</url>
      
        <content type="html"><![CDATA[<h4 id="Transform形变"><a href="#Transform形变" class="headerlink" title="Transform形变"></a>Transform形变</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"RootViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">RootViewController</span> ()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">RootViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    [self transform];</span></span><br><span class="line">    [<span class="keyword">self</span> lastTransform];</span><br><span class="line">&#125;</span><br><span class="line">#</span><br><span class="line">-(<span class="keyword">void</span>)lastTransform&#123;</span><br><span class="line">    <span class="built_in">UIView</span> *changeView = [[<span class="built_in">UIView</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>)];</span><br><span class="line">    changeView.tag = <span class="number">20</span>;</span><br><span class="line">    changeView.backgroundColor = [<span class="built_in">UIColor</span> yellowColor];</span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:changeView];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UIButton</span> *button = [<span class="built_in">UIButton</span> buttonWithType:<span class="built_in">UIButtonTypeCustom</span>];</span><br><span class="line">    button.frame = <span class="built_in">CGRectMake</span>(<span class="number">50</span>, <span class="number">50</span>, <span class="number">50</span>, <span class="number">50</span>);</span><br><span class="line">    button.backgroundColor = [<span class="built_in">UIColor</span> blueColor];</span><br><span class="line">    [button addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(onClick) forControlEvents:<span class="built_in">UIControlEventTouchUpInside</span>];</span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:button];</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)onClick&#123;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//     仿射变化</span></span><br><span class="line"><span class="comment">//    通过center bounds transform来控制要显示的内容</span></span><br><span class="line">    <span class="built_in">UIView</span> *changeView = [<span class="keyword">self</span>.view viewWithTag:<span class="number">20</span>];</span><br><span class="line"><span class="comment">//    在上次形变的基础上，继续形变</span></span><br><span class="line">    changeView.transform = <span class="built_in">CGAffineTransformTranslate</span>(changeView.transform, <span class="number">10</span>, <span class="number">0</span>);</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    旋转</span></span><br><span class="line">   <span class="built_in">CGFloat</span> angle = [<span class="keyword">self</span> getAgreeFromDegree:<span class="number">10</span>];</span><br><span class="line">    changeView.transform = <span class="built_in">CGAffineTransformRotate</span>(changeView.transform, angle);</span><br><span class="line"></span><br><span class="line"><span class="comment">//    缩放</span></span><br><span class="line"><span class="comment">//    changeView.transform = CGAffineTransformScale(changeView.transform, 0.9, 1.0);</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,<span class="built_in">NSStringFromCGRect</span>(changeView.frame));</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%f"</span>,changeView.bounds.size.width);</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%f"</span>,changeView.bounds.size.height);</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%f"</span>,changeView.center.x);</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%f"</span>,changeView.center.y);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark -</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark 形变</span></span><br><span class="line"><span class="comment">//形变</span></span><br><span class="line">-(<span class="keyword">void</span>)transform&#123;</span><br><span class="line">    <span class="built_in">UIView</span> *changeView = [[<span class="built_in">UIView</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>)];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UIView</span> *view1 = [[<span class="built_in">UIView</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">10</span>, <span class="number">10</span>)];</span><br><span class="line">    [view1 setBackgroundColor:[<span class="built_in">UIColor</span> blueColor]];</span><br><span class="line">    [changeView addSubview:view1];</span><br><span class="line">   </span><br><span class="line">    changeView.backgroundColor = [<span class="built_in">UIColor</span> yellowColor];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    平移</span></span><br><span class="line">    changeView.transform = <span class="built_in">CGAffineTransformMakeTranslation</span>(<span class="number">0</span>, <span class="number">100</span>);</span><br><span class="line"><span class="comment">//    缩放</span></span><br><span class="line"><span class="comment">//    changeView.transform = CGAffineTransformMakeScale(0.5, 1.0);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    旋转</span></span><br><span class="line"><span class="comment">//    传入的值为正值时，顺时针转动</span></span><br><span class="line">    <span class="built_in">CGFloat</span> angle = [<span class="keyword">self</span> getAgreeFromDegree:<span class="number">20</span>];</span><br><span class="line">    changeView.transform = <span class="built_in">CGAffineTransformMakeRotation</span>(angle);</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:changeView];</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="built_in">CGFloat</span>)getAgreeFromDegree:(<span class="built_in">CGFloat</span>)degree&#123;</span><br><span class="line">    <span class="built_in">CGFloat</span> agree = degree * M_PI / <span class="number">180</span>;</span><br><span class="line">    <span class="keyword">return</span> agree;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//创建一个UIView</span></span><br><span class="line">-(<span class="keyword">void</span>)createUIView&#123;</span><br><span class="line"><span class="comment">//    初始化UIView</span></span><br><span class="line">    <span class="built_in">UIView</span> *orangeView = [[<span class="built_in">UIView</span> alloc]init];</span><br><span class="line"><span class="comment">//    设置背景色</span></span><br><span class="line">    orangeView.backgroundColor = [<span class="built_in">UIColor</span> orangeColor];</span><br><span class="line"><span class="comment">//    设置frame</span></span><br><span class="line">    orangeView.frame = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line"><span class="comment">//    设置center</span></span><br><span class="line">    orangeView.center = <span class="built_in">CGPointMake</span>(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    orangeView.center = <span class="keyword">self</span>.view.center;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    添加到视图</span></span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:orangeView];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Objective-C </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Transform </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UIActionSheet(Objc)</title>
      <link href="/2017/03/19/UIActionSheet/"/>
      <url>/2017/03/19/UIActionSheet/</url>
      
        <content type="html"><![CDATA[<h4 id="UIActionSheet"><a href="#UIActionSheet" class="headerlink" title="UIActionSheet"></a>UIActionSheet</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()&lt;<span class="title">UIActionSheetDelegate</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">    <span class="comment">// Do any additional setup after loading the view, typically from a nib.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">-(<span class="keyword">void</span>)touchesBegan:(<span class="built_in">NSSet</span> *)touches withEvent:(<span class="built_in">UIEvent</span> *)event&#123;</span><br><span class="line"><span class="comment">//    初始化</span></span><br><span class="line">    <span class="built_in">UIActionSheet</span> *sheet = [[<span class="built_in">UIActionSheet</span> alloc]initWithTitle:<span class="string">@"分享"</span> delegate:<span class="keyword">self</span> cancelButtonTitle:<span class="string">@"取消"</span> destructiveButtonTitle:<span class="string">@"删除"</span> otherButtonTitles:<span class="string">@"微博分享"</span>,<span class="string">@"微信分享"</span>,<span class="string">@"QQ分享"</span>, <span class="literal">nil</span>];</span><br><span class="line"><span class="comment">//    显示在指定的view上</span></span><br><span class="line">    [sheet showInView:<span class="keyword">self</span>.view];</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)actionSheet:(<span class="built_in">UIActionSheet</span> *)actionSheet clickedButtonAtIndex:(<span class="built_in">NSInteger</span>)buttonIndex&#123;</span><br><span class="line"><span class="comment">//    在这里做事件处理</span></span><br><span class="line">    <span class="keyword">switch</span> (buttonIndex) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"%ld"</span>,buttonIndex);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"%ld"</span>,buttonIndex);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"%ld"</span>,buttonIndex);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"%ld"</span>,buttonIndex);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"%ld"</span>,buttonIndex);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">            </span><br><span class="line">            </span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Objective-C </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIActionSheet </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Touch(Objc)</title>
      <link href="/2017/03/14/Touch/"/>
      <url>/2017/03/14/Touch/</url>
      
        <content type="html"><![CDATA[<h4 id="Touch"><a href="#Touch" class="headerlink" title="Touch"></a>Touch</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">UIView</span> *myview;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    初始化myview</span></span><br><span class="line">    myview = [[<span class="built_in">UIView</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">100</span>,<span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>)];</span><br><span class="line"><span class="comment">//    设置背景色</span></span><br><span class="line">    myview.backgroundColor = [<span class="built_in">UIColor</span> lightGrayColor];</span><br><span class="line"><span class="comment">//    添加到视图上</span></span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:myview];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//开始触摸，只调用一次</span></span><br><span class="line">-(<span class="keyword">void</span>)touchesBegan:(<span class="built_in">NSSet</span> *)touches withEvent:(<span class="built_in">UIEvent</span> *)event&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"touch began"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//开始移动，会多次调用</span></span><br><span class="line">-(<span class="keyword">void</span>)touchesMoved:(<span class="built_in">NSSet</span> *)touches withEvent:(<span class="built_in">UIEvent</span> *)event&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"----"</span>);</span><br><span class="line"><span class="comment">//    UITouch</span></span><br><span class="line"><span class="comment">//    用来保存跟手指相关的信息，比如：触摸的位置</span></span><br><span class="line"><span class="comment">//    当手指移动时，系统会更新同一个UIToch对象，使之能够一直保存该手指在的触摸位置</span></span><br><span class="line"><span class="comment">//    当手指离开屏幕时，系统会销毁对应的UITouch对象</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//    从touches中取出手指</span></span><br><span class="line">    <span class="built_in">UITouch</span> *touch = [touches anyObject];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (touch.view == myview) &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//    该方法记录了前一个触摸点的位置</span></span><br><span class="line">        <span class="built_in">CGPoint</span> previousPoint = [touch previousLocationInView:<span class="keyword">self</span>.view];</span><br><span class="line">        </span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         返回值表示触摸在self.view上的位置</span></span><br><span class="line"><span class="comment">         这里的位置是针对self.view的坐标系（以self.view的左上角为原点（0,0））</span></span><br><span class="line"><span class="comment">         如果传nil时，返回的触摸点在UIWindow的位置</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//    该方法记录了当前点的位置</span></span><br><span class="line">        <span class="built_in">CGPoint</span> currentPoint = [touch locationInView:<span class="keyword">self</span>.view];</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"1------&gt;%@"</span>,<span class="built_in">NSStringFromCGPoint</span>(previousPoint));</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"2------&gt;%@"</span>,<span class="built_in">NSStringFromCGPoint</span>(currentPoint));</span><br><span class="line">        <span class="comment">//    获取x偏移量</span></span><br><span class="line">        <span class="built_in">CGFloat</span> x = currentPoint.x - previousPoint.x;</span><br><span class="line">        <span class="comment">//    获取y偏移量</span></span><br><span class="line">        <span class="built_in">CGFloat</span> y = currentPoint.y - previousPoint.y;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//    获取myview中心点</span></span><br><span class="line">        <span class="built_in">CGPoint</span> center = myview.center;</span><br><span class="line">        </span><br><span class="line">        center.x += x;</span><br><span class="line">        center.y += y;</span><br><span class="line">        </span><br><span class="line">        myview.center = center;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//结束触摸，只调用一次</span></span><br><span class="line">-(<span class="keyword">void</span>)touchesEnded:(<span class="built_in">NSSet</span> *)touches withEvent:(<span class="built_in">UIEvent</span> *)event&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"touch end"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//触摸取消（例如来电打断）</span></span><br><span class="line">-(<span class="keyword">void</span>)touchesCancelled:(<span class="built_in">NSSet</span> *)touches withEvent:(<span class="built_in">UIEvent</span> *)event&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Objective-C </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Touch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UIScrollView(Objc)</title>
      <link href="/2017/03/09/UIScrollView/"/>
      <url>/2017/03/09/UIScrollView/</url>
      
        <content type="html"><![CDATA[<h4 id="UIScrollView"><a href="#UIScrollView" class="headerlink" title="UIScrollView"></a>UIScrollView</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()&lt;<span class="title">UIScrollViewDelegate</span>&gt;//遵守协议</span></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//    滚动视图</span></span><br><span class="line">    <span class="built_in">UIScrollView</span> *_scrollView;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">weak</span>, <span class="keyword">nonatomic</span>) <span class="keyword">IBOutlet</span> <span class="built_in">UIButton</span> *myButton;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">IBAction</span>)onClick:(<span class="built_in">UIButton</span> *)sender &#123;</span><br><span class="line">    [_scrollView setContentOffset:<span class="built_in">CGPointMake</span>(<span class="number">0</span>, <span class="number">0</span>) animated:<span class="literal">YES</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span> createScrollView];</span><br><span class="line">    [<span class="keyword">self</span> addSubView];</span><br><span class="line">    [<span class="keyword">self</span> customScrollView];</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span>.view bringSubviewToFront:<span class="keyword">self</span>.myButton];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">//    [self.myButton  addTarget:self action:@selector(onClick) forControlEvents:UIControlEventTouchUpInside];</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    //-(void)onClick&#123;</span></span><br><span class="line"><span class="comment">    //    NSLog(@"onClick");</span></span><br><span class="line"><span class="comment">    //&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    </span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//创建ScrollView</span></span><br><span class="line">-(<span class="keyword">void</span>)createScrollView&#123;</span><br><span class="line"><span class="comment">//    初始化UIScrollView</span></span><br><span class="line">    _scrollView = [[<span class="built_in">UIScrollView</span> alloc]initWithFrame:<span class="keyword">self</span>.view.bounds];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    _scrollView = [[UIScrollView alloc]initWithFrame:CGRectMake(100, 100, 200, 200)];</span></span><br><span class="line"><span class="comment">//    设置背景色</span></span><br><span class="line">    _scrollView.backgroundColor = [<span class="built_in">UIColor</span> orangeColor];</span><br><span class="line"><span class="comment">//    设置代理</span></span><br><span class="line">    _scrollView.delegate = <span class="keyword">self</span>;</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:_scrollView];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)addSubView&#123;</span><br><span class="line"><span class="comment">//    获取文件路径</span></span><br><span class="line">    <span class="built_in">NSString</span> *path = [[<span class="built_in">NSBundle</span> mainBundle]pathForResource:<span class="string">@"海贼02"</span> ofType:<span class="string">@"jpg"</span>];</span><br><span class="line"><span class="comment">//    转换成NSData</span></span><br><span class="line">    <span class="built_in">NSData</span> *data = [<span class="built_in">NSData</span> dataWithContentsOfFile:path];</span><br><span class="line"><span class="comment">//    初始化图片</span></span><br><span class="line">    <span class="built_in">UIImage</span> *image = [<span class="built_in">UIImage</span> imageWithData:data];</span><br><span class="line"><span class="comment">//    图片初始化后，会直接获得图片的width 和 height</span></span><br><span class="line"><span class="comment">//    NSLog(@"width = %lf---height = %lf",image.size.width,image.size.height);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//     初始化UIImageView</span></span><br><span class="line">    <span class="built_in">UIImageView</span> *imageView = [[<span class="built_in">UIImageView</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, image.size.width, image.size.height)];</span><br><span class="line">    imageView.image = image;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置滚动范围</span></span><br><span class="line"><span class="comment">//    必须给出滚动范围，这样滚动视图才能知道滚动的范围</span></span><br><span class="line">    _scrollView.contentSize = <span class="built_in">CGSizeMake</span>(image.size.width, image.size.height);</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    [_scrollView addSubview:imageView];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 定制ScrollView</span></span><br><span class="line">-(<span class="keyword">void</span>)customScrollView&#123;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置偏移量</span></span><br><span class="line"><span class="comment">//    [_scrollView setContentOffset:CGPointMake(200, 200)];</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    设置距离边框的距离</span></span><br><span class="line"><span class="comment">//    [_scrollView setContentInset:UIEdgeInsetsMake(100, 100, 100, 100)];</span></span><br><span class="line">    </span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark 滚动相关</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置是否可以超出边界</span></span><br><span class="line"><span class="comment">//    默认是YES，超出边界后，有回弹效果</span></span><br><span class="line"><span class="comment">//    设置NO，没有回弹效果</span></span><br><span class="line">    _scrollView.bounces = <span class="literal">YES</span>;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    在这里，想测试下面两个属性时，使用《海贼03.jpg》</span></span><br><span class="line"><span class="comment">//    当contentSize的宽度小于scrollView的宽度时，仍允许左右拖动，默认是NO</span></span><br><span class="line">    _scrollView.alwaysBounceHorizontal = <span class="literal">YES</span>;</span><br><span class="line"><span class="comment">//    当contentSize的高度小于scrollView的高度时，仍允许上下手动，默认是NO</span></span><br><span class="line">    _scrollView.alwaysBounceVertical = <span class="literal">YES</span>;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置是否按页滚动，即每次滚动一个scrollView的宽度或高度，默认是NO</span></span><br><span class="line"><span class="comment">//    _scrollView.pagingEnabled = YES;</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置是否允许滚动，默认是YES</span></span><br><span class="line">    _scrollView.scrollEnabled = <span class="literal">YES</span>;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置是否显示滚动指示，默认是YES</span></span><br><span class="line">    _scrollView.showsHorizontalScrollIndicator = <span class="literal">YES</span>;</span><br><span class="line">    _scrollView.showsVerticalScrollIndicator = <span class="literal">YES</span>;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置滚动指示的样式</span></span><br><span class="line">    _scrollView.indicatorStyle = <span class="built_in">UIScrollViewIndicatorStyleWhite</span>;</span><br><span class="line"><span class="comment">//    UIScrollViewIndicatorStyleDefault,</span></span><br><span class="line"><span class="comment">//    UIScrollViewIndicatorStyleBlack,</span></span><br><span class="line"><span class="comment">//    UIScrollViewIndicatorStyleWhite</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置滚动条距离scrollView边框的距离</span></span><br><span class="line">    _scrollView.scrollIndicatorInsets = <span class="built_in">UIEdgeInsetsMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">30</span>, <span class="number">60</span>);</span><br><span class="line">    </span><br><span class="line">    _scrollView.scrollsToTop = <span class="literal">YES</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark scrollView delegate</span></span><br><span class="line"><span class="comment">//将要拖拽</span></span><br><span class="line"><span class="comment">//当开始滚动视图时，会执行该方法</span></span><br><span class="line"><span class="comment">//一次有效的滑动执行一次（开始滑动到手指松开），</span></span><br><span class="line">-(<span class="keyword">void</span>)scrollViewWillBeginDragging:(<span class="built_in">UIScrollView</span> *)scrollView&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"将要拖拽"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//scrollView滚动时，就会调用该方法</span></span><br><span class="line"><span class="comment">//任何offset值的改变都会调用该方法。在滚动过程中，会调用多次</span></span><br><span class="line">-(<span class="keyword">void</span>)scrollViewDidScroll:(<span class="built_in">UIScrollView</span> *)scrollView&#123;</span><br><span class="line"> <span class="comment">//   CGPoint point = scrollView.contentOffset;</span></span><br><span class="line"><span class="comment">//    NSLog(@"偏移量%lf",point.x);</span></span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)scrollViewWillEndDragging:(<span class="built_in">UIScrollView</span> *)scrollView withVelocity:(<span class="built_in">CGPoint</span>)velocity targetContentOffset:(<span class="keyword">inout</span> <span class="built_in">CGPoint</span> *)targetContentOffset&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"将要结束拖拽"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//当手指离开屏幕的一瞬间，调用该方法，一次有效的滑动，只执行一次</span></span><br><span class="line">-(<span class="keyword">void</span>)scrollViewDidEndDragging:(<span class="built_in">UIScrollView</span> *)scrollView willDecelerate:(<span class="built_in">BOOL</span>)decelerate&#123;</span><br><span class="line"><span class="comment">//    NSLog(@"%lf",scrollView.contentOffset.x);</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"拖拽结束"</span>);</span><br><span class="line"><span class="comment">//    [scrollView setContentOffset:CGPointMake(0, 0) animated:YES];</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//将要减速</span></span><br><span class="line"><span class="comment">//该方法在scrollViewDidEndDragging 结束后执行</span></span><br><span class="line">-(<span class="keyword">void</span>)scrollViewWillBeginDecelerating:(<span class="built_in">UIScrollView</span> *)scrollView&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"将要减速"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">-(<span class="keyword">void</span>)scrollViewDidEndDecelerating:(<span class="built_in">UIScrollView</span> *)scrollView&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"减速结束"</span>);</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    [scrollView setContentOffset:CGPointMake(0, 0) animated:YES];</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark 缩放 delegate</span></span><br><span class="line"><span class="comment">//当将要开始缩放时，执行该方法。一次有效的缩放，执行一次</span></span><br><span class="line">-(<span class="keyword">void</span>)scrollViewWillBeginZooming:(<span class="built_in">UIScrollView</span> *)scrollView withView:(<span class="built_in">UIView</span> *)view&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"将要开始缩放"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//正在缩放</span></span><br><span class="line">-(<span class="keyword">void</span>)scrollViewDidZoom:(<span class="built_in">UIScrollView</span> *)scrollView&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"正在缩放"</span>);</span><br><span class="line">    <span class="built_in">CGFloat</span> value =  scrollView.zoomScale;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%f"</span>,value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//结束缩放</span></span><br><span class="line">-(<span class="keyword">void</span>)scrollViewDidEndZooming:(<span class="built_in">UIScrollView</span> *)scrollView withView:(<span class="built_in">UIView</span> *)view atScale:(<span class="built_in">CGFloat</span>)scale&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"结束缩放"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//返回要缩放的UIView对象</span></span><br><span class="line">-(<span class="built_in">UIView</span>*)viewForZoomingInScrollView:(<span class="built_in">UIScrollView</span> *)scrollView&#123;</span><br><span class="line"><span class="comment">//  不允许返回scrollView</span></span><br><span class="line"><span class="comment">//  只能返回scrollView的子视图</span></span><br><span class="line">    <span class="keyword">return</span> scrollView.subviews[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//当用户点击状态栏后，滚动视图是否能够滚动到顶部</span></span><br><span class="line">-(<span class="built_in">BOOL</span>)scrollViewShouldScrollToTop:(<span class="built_in">UIScrollView</span> *)scrollView&#123;</span><br><span class="line"><span class="comment">//    当设置scrollToTop 为YES时，这里设置YES才会生效</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NO</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//当滚动视图滚动到最顶端的时候，会执行该方法</span></span><br><span class="line">-(<span class="keyword">void</span>)scrollViewDidScrollToTop:(<span class="built_in">UIScrollView</span> *)scrollView&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%s"</span>,__func__);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Objective-C </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIScrollView </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NavgationController细化(Objc)</title>
      <link href="/2017/03/08/NavgationController%E7%BB%86%E5%8C%96/"/>
      <url>/2017/03/08/NavgationController%E7%BB%86%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<h4 id="NavgationController细化"><a href="#NavgationController细化" class="headerlink" title="NavgationController细化"></a>NavgationController细化</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"AppDelegate.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"RootViewController.h"</span></span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">AppDelegate</span> ()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">AppDelegate</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (<span class="built_in">BOOL</span>)application:(<span class="built_in">UIApplication</span> *)application didFinishLaunchingWithOptions:(<span class="built_in">NSDictionary</span> *)launchOptions &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//初始化window</span></span><br><span class="line">    <span class="keyword">self</span>.window = [[<span class="built_in">UIWindow</span> alloc]initWithFrame:[<span class="built_in">UIScreen</span> mainScreen].bounds];</span><br><span class="line">    <span class="comment">//设置背景颜色</span></span><br><span class="line">    <span class="keyword">self</span>.window.backgroundColor = [<span class="built_in">UIColor</span> whiteColor];</span><br><span class="line">    <span class="comment">//视图控制器</span></span><br><span class="line">    RootViewController *rootVC = [[RootViewController alloc]init];</span><br><span class="line"><span class="comment">//    初始化导航控制器，并设置基栈</span></span><br><span class="line">    <span class="built_in">UINavigationController</span> *nav = [[<span class="built_in">UINavigationController</span> alloc]initWithRootViewController:rootVC];</span><br><span class="line">    nav.view.backgroundColor = [<span class="built_in">UIColor</span> redColor];</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//系统控制器设置为自创的</span></span><br><span class="line">    <span class="keyword">self</span>.window.rootViewController = nav;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//让self.window 显示</span></span><br><span class="line">    [<span class="keyword">self</span>.window makeKeyAndVisible];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#import <span class="meta-string">"RootViewController.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"SecondViewController.h"</span></span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">RootViewController</span> ()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">RootViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span>.view setBackgroundColor:[<span class="built_in">UIColor</span> yellowColor]];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UIButton</span> *button = [<span class="built_in">UIButton</span> buttonWithType:<span class="built_in">UIButtonTypeCustom</span>];</span><br><span class="line">    button.frame = <span class="built_in">CGRectMake</span>(<span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>, <span class="number">50</span>);</span><br><span class="line">    [button setTitle:<span class="string">@"下一级"</span> forState:<span class="built_in">UIControlStateNormal</span>];</span><br><span class="line">    button.backgroundColor = [<span class="built_in">UIColor</span> lightGrayColor];</span><br><span class="line">    [button addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(onClick) forControlEvents:<span class="built_in">UIControlEventTouchUpInside</span>];</span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:button];</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span> settingNavgationBar];</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)settingNavgationBar&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UINavigationBar</span> *bar = <span class="keyword">self</span>.navigationController.navigationBar;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置navigationBar 的类型</span></span><br><span class="line">    <span class="keyword">self</span>.navigationController.navigationBar.barStyle = <span class="built_in">UIBarStyleBlack</span>;</span><br><span class="line"><span class="comment">//    UIBarStyleDefault</span></span><br><span class="line"><span class="comment">//    UIBarStyleBlack</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//    透明度(毛玻璃)</span></span><br><span class="line">    bar.translucent = <span class="literal">YES</span>;</span><br><span class="line"><span class="comment">//    设置yes，子视图的坐标原点是（0,0）</span></span><br><span class="line"><span class="comment">//    设置no,子视图的坐标原点是(0,64)</span></span><br><span class="line">    <span class="built_in">UILabel</span> *label = [[<span class="built_in">UILabel</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">100</span>, <span class="number">100</span>)];</span><br><span class="line">    label.backgroundColor = [<span class="built_in">UIColor</span> greenColor];</span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:label];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置导航条颜色</span></span><br><span class="line">    [bar setBarTintColor:[<span class="built_in">UIColor</span> redColor]];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置标题</span></span><br><span class="line"><span class="comment">//    self.title = @"root";</span></span><br><span class="line">    <span class="keyword">self</span>.navigationItem.title = <span class="string">@"root"</span>;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    导航条按钮字体颜色</span></span><br><span class="line">    [bar setTintColor:[<span class="built_in">UIColor</span> cyanColor]];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置导航条字体颜色</span></span><br><span class="line">    [bar setTitleTextAttributes:@&#123;</span><br><span class="line">                                 <span class="built_in">NSFontAttributeName</span>:[<span class="built_in">UIFont</span> systemFontOfSize:<span class="number">20</span>],</span><br><span class="line">                                 <span class="built_in">NSForegroundColorAttributeName</span>:[<span class="built_in">UIColor</span> purpleColor]</span><br><span class="line">                                 &#125;];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置隐藏导航条</span></span><br><span class="line"><span class="comment">//    self.navigationController.navigationBarHidden = YES;</span></span><br><span class="line">    </span><br><span class="line">    [bar setBackgroundImage:[<span class="built_in">UIImage</span> imageNamed:<span class="string">@"header_bg44"</span>] forBarMetrics:<span class="built_in">UIBarMetricsDefault</span>];</span><br><span class="line"><span class="comment">//    UIBarMetricsDefault 横竖屏都显示</span></span><br><span class="line"><span class="comment">//    UIBarMetricsCompact 竖屏显示</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">//    self.navigationItem.backBarButtonItem = [[UIBarButtonItem alloc]initWithTitle:@"返回" style:UIBarButtonItemStylePlain target:secondVc     action:@selector(abc)];</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UIImage</span> *image = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"qq.png"</span>];</span><br><span class="line"><span class="comment">//    对图片进处理</span></span><br><span class="line">   image =  [image imageWithRenderingMode:<span class="built_in">UIImageRenderingModeAlwaysOriginal</span>];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    UIImageRenderingModeAutomatic,返回一个色块</span></span><br><span class="line"><span class="comment">//    UIImageRenderingModeAlwaysOriginal,返回图片本身       UIImageRenderingModeAlwaysTemplate,返回一个色块</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//    UIBarButtonItemStylePlain,</span></span><br><span class="line"><span class="comment">//    UIBarButtonItemStyleDone,</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//    leftBarButtonItem 左按钮</span></span><br><span class="line">    <span class="keyword">self</span>.navigationItem.leftBarButtonItem = [[<span class="built_in">UIBarButtonItem</span> alloc]initWithImage:image style:<span class="built_in">UIBarButtonItemStylePlain</span> target:<span class="keyword">self</span>     action:<span class="keyword">@selector</span>(leftClick)];</span><br><span class="line"><span class="comment">//    rightBarButtonItem 右按钮</span></span><br><span class="line">    <span class="keyword">self</span>.navigationItem.rightBarButtonItem = [[<span class="built_in">UIBarButtonItem</span> alloc]initWithTitle:<span class="string">@"right"</span> style:<span class="built_in">UIBarButtonItemStyleDone</span> target:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(rightClick)];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UIBarButtonItem</span> *item1 = [[<span class="built_in">UIBarButtonItem</span> alloc]initWithTitle:<span class="string">@"item1"</span> style:<span class="built_in">UIBarButtonItemStylePlain</span> target:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(rightClick)];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UIBarButtonItem</span> *item2 = [[<span class="built_in">UIBarButtonItem</span> alloc]initWithTitle:<span class="string">@"item2"</span> style:<span class="built_in">UIBarButtonItemStylePlain</span> target:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(rightClick)];</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UIButton</span> *button = [<span class="built_in">UIButton</span> buttonWithType:<span class="built_in">UIButtonTypeCustom</span>];</span><br><span class="line">    button.frame = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">40</span>, <span class="number">40</span>);</span><br><span class="line">    [button setBackgroundColor:[<span class="built_in">UIColor</span> redColor]];</span><br><span class="line">    </span><br><span class="line">    [button setImage:image forState:<span class="built_in">UIControlStateNormal</span>];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    添加一个自定义的UIButton</span></span><br><span class="line">    <span class="built_in">UIBarButtonItem</span> * item3 = [[<span class="built_in">UIBarButtonItem</span> alloc]initWithCustomView:button];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//    设置rightBarButtonItems时，会把rightBarButtonItem 覆盖</span></span><br><span class="line">    <span class="keyword">self</span>.navigationItem.rightBarButtonItems = @[item1,item2,item3];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UILabel</span> *label1 = [[<span class="built_in">UILabel</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">100</span>, <span class="number">44</span>)];</span><br><span class="line">    label1.backgroundColor = [<span class="built_in">UIColor</span> redColor];</span><br><span class="line">    label1.text = <span class="string">@"label"</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UIImageView</span> *imageView = [[<span class="built_in">UIImageView</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">100</span>, <span class="number">40</span>)];</span><br><span class="line">    imageView.image = image;</span><br><span class="line"><span class="comment">//    设置titleView</span></span><br><span class="line">    <span class="keyword">self</span>.navigationItem.titleView = imageView;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)leftClick&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"---"</span>);</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)rightClick&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%s"</span>,__func__);</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)onClick&#123;</span><br><span class="line">    </span><br><span class="line">    SecondViewController *secondVc = [[SecondViewController alloc]init];</span><br><span class="line"><span class="comment">//    进入下一级（入栈）</span></span><br><span class="line">    [<span class="keyword">self</span>.navigationController pushViewController:secondVc animated:<span class="literal">YES</span>];</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#import <span class="meta-string">"SecondViewController.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"ThirdViewController.h"</span></span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">SecondViewController</span> ()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">SecondViewController</span></span></span><br><span class="line">-(<span class="keyword">void</span>)viewWillAppear:(<span class="built_in">BOOL</span>)animated&#123;</span><br><span class="line">    [<span class="keyword">super</span> viewWillAppear:animated];</span><br><span class="line"><span class="comment">//    视图将要出现的时候，隐藏navgationBar</span></span><br><span class="line">        <span class="keyword">self</span>.navigationController.navigationBarHidden = <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)viewWillDisappear:(<span class="built_in">BOOL</span>)animated&#123;</span><br><span class="line">    [<span class="keyword">super</span> viewWillDisappear:animated];</span><br><span class="line"><span class="comment">//    视图将要消失的时候，显示navgationBar</span></span><br><span class="line">    <span class="keyword">self</span>.navigationController.navigationBarHidden = <span class="literal">NO</span>;</span><br><span class="line">&#125;</span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span>.view setBackgroundColor:[<span class="built_in">UIColor</span> greenColor]];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UIButton</span> *button = [<span class="built_in">UIButton</span> buttonWithType:<span class="built_in">UIButtonTypeCustom</span>];</span><br><span class="line">    button.frame = <span class="built_in">CGRectMake</span>(<span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>, <span class="number">50</span>);</span><br><span class="line">    [button setTitle:<span class="string">@"下一级"</span> forState:<span class="built_in">UIControlStateNormal</span>];</span><br><span class="line">    button.backgroundColor = [<span class="built_in">UIColor</span> lightGrayColor];</span><br><span class="line">    [button addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(onClick) forControlEvents:<span class="built_in">UIControlEventTouchUpInside</span>];</span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:button];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UIButton</span> *button1 = [<span class="built_in">UIButton</span> buttonWithType:<span class="built_in">UIButtonTypeCustom</span>];</span><br><span class="line">    button1.frame = <span class="built_in">CGRectMake</span>(<span class="number">100</span>, <span class="number">200</span>, <span class="number">100</span>, <span class="number">50</span>);</span><br><span class="line">    [button1 setTitle:<span class="string">@"上一级"</span> forState:<span class="built_in">UIControlStateNormal</span>];</span><br><span class="line">    button1.backgroundColor = [<span class="built_in">UIColor</span> lightGrayColor];</span><br><span class="line">    [button1 addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(backClick) forControlEvents:<span class="built_in">UIControlEventTouchUpInside</span>];</span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:button1];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">-(<span class="keyword">void</span>)abc&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"----"</span>);</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)backClick&#123;</span><br><span class="line"><span class="comment">//    返回上一级</span></span><br><span class="line">    [<span class="keyword">self</span>.navigationController popViewControllerAnimated:<span class="literal">YES</span>];</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)onClick&#123;</span><br><span class="line">    ThirdViewController *thirdVc = [[ThirdViewController alloc]init];</span><br><span class="line"><span class="comment">//    进入下一级（入栈）</span></span><br><span class="line">    [<span class="keyword">self</span>.navigationController pushViewController:thirdVc animated:<span class="literal">YES</span>];</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">- (<span class="keyword">void</span>)didReceiveMemoryWarning &#123;</span><br><span class="line">    [<span class="keyword">super</span> didReceiveMemoryWarning];</span><br><span class="line">    <span class="comment">// Dispose of any resources that can be recreated.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#import <span class="meta-string">"ThirdViewController.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"ForthViewController.h"</span></span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ThirdViewController</span> ()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ThirdViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span>.view setBackgroundColor:[<span class="built_in">UIColor</span> blueColor]];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">3</span>; i ++) &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">UIButton</span> *button = [<span class="built_in">UIButton</span> buttonWithType:<span class="built_in">UIButtonTypeCustom</span>];</span><br><span class="line">        button.frame = <span class="built_in">CGRectMake</span>(<span class="number">100</span>, <span class="number">100</span> + i * <span class="number">60</span>, <span class="number">100</span>, <span class="number">50</span>);</span><br><span class="line">        button.tag = i + <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">if</span> (i == <span class="number">0</span> ) &#123;</span><br><span class="line">           [button setTitle:<span class="string">@"下一级"</span> forState:<span class="built_in">UIControlStateNormal</span>];</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (i == <span class="number">1</span>)&#123;</span><br><span class="line">            [button setTitle:<span class="string">@"上一级"</span> forState:<span class="built_in">UIControlStateNormal</span>];</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (i == <span class="number">2</span>)&#123;</span><br><span class="line">            [button setTitle:<span class="string">@"返回root"</span> forState:<span class="built_in">UIControlStateNormal</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        button.backgroundColor = [<span class="built_in">UIColor</span> lightGrayColor];</span><br><span class="line">        [button addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(onClick:) forControlEvents:<span class="built_in">UIControlEventTouchUpInside</span>];</span><br><span class="line">        [<span class="keyword">self</span>.view addSubview:button];</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    self.navigationController.viewControllers</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,<span class="keyword">self</span>.navigationController.viewControllers);</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span> toolBarSetting];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">-(<span class="keyword">void</span>)toolBarSetting&#123;</span><br><span class="line">    <span class="keyword">self</span>.navigationController.toolbarHidden = <span class="literal">NO</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UIBarButtonItem</span> *item = [[<span class="built_in">UIBarButtonItem</span> alloc]initWithBarButtonSystemItem:<span class="built_in">UIBarButtonSystemItemSave</span> target:<span class="literal">nil</span> action:<span class="literal">nil</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UIBarButtonItem</span> *item1 = [[<span class="built_in">UIBarButtonItem</span> alloc]initWithBarButtonSystemItem:<span class="built_in">UIBarButtonSystemItemAdd</span> target:<span class="literal">nil</span> action:<span class="literal">nil</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UIBarButtonItem</span> *item2 = [[<span class="built_in">UIBarButtonItem</span> alloc]initWithBarButtonSystemItem:<span class="built_in">UIBarButtonSystemItemEdit</span> target:<span class="literal">nil</span> action:<span class="literal">nil</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UIBarButtonItem</span> *item3 = [[<span class="built_in">UIBarButtonItem</span> alloc]initWithBarButtonSystemItem:<span class="built_in">UIBarButtonSystemItemFlexibleSpace</span> target:<span class="literal">nil</span> action:<span class="literal">nil</span>];</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">self</span>.toolbarItems = @[item,item3,item1,item2];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)onClick:(<span class="built_in">UIButton</span>*)button&#123;</span><br><span class="line">    <span class="keyword">if</span> (button.tag == <span class="number">10</span>) &#123;</span><br><span class="line">        ForthViewController *forthVc = [[ForthViewController alloc]init];</span><br><span class="line"><span class="comment">//       把forthVc 入栈</span></span><br><span class="line">        [<span class="keyword">self</span>.navigationController pushViewController:forthVc animated:<span class="literal">YES</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (button.tag == <span class="number">11</span>) &#123;</span><br><span class="line"><span class="comment">//        返回上一级</span></span><br><span class="line">        [<span class="keyword">self</span>.navigationController popViewControllerAnimated:<span class="literal">YES</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (button.tag == <span class="number">12</span>) &#123;</span><br><span class="line"><span class="comment">//        返回root(基栈)</span></span><br><span class="line">        [<span class="keyword">self</span>.navigationController popToRootViewControllerAnimated:<span class="literal">YES</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#import <span class="meta-string">"ForthViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ForthViewController</span> ()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ForthViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">    <span class="comment">// Do any additional setup after loading the view.</span></span><br><span class="line"><span class="comment">//    设置背景色</span></span><br><span class="line">    [<span class="keyword">self</span>.view setBackgroundColor:[<span class="built_in">UIColor</span> orangeColor]];</span><br><span class="line"><span class="comment">//    初始化button</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">3</span>; i ++) &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">UIButton</span> *button = [<span class="built_in">UIButton</span> buttonWithType:<span class="built_in">UIButtonTypeCustom</span>];</span><br><span class="line">        button.frame = <span class="built_in">CGRectMake</span>(<span class="number">100</span>, <span class="number">100</span> + i * <span class="number">60</span>, <span class="number">100</span>, <span class="number">50</span>);</span><br><span class="line">        button.tag = i + <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">if</span> (i == <span class="number">0</span> ) &#123;</span><br><span class="line">            [button setTitle:<span class="string">@"返回第二级"</span> forState:<span class="built_in">UIControlStateNormal</span>];</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (i == <span class="number">1</span>)&#123;</span><br><span class="line">            [button setTitle:<span class="string">@"上一级"</span> forState:<span class="built_in">UIControlStateNormal</span>];</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (i == <span class="number">2</span>)&#123;</span><br><span class="line">            [button setTitle:<span class="string">@"返回root"</span> forState:<span class="built_in">UIControlStateNormal</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        button.backgroundColor = [<span class="built_in">UIColor</span> lightGrayColor];</span><br><span class="line">        [button addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(onClick:) forControlEvents:<span class="built_in">UIControlEventTouchUpInside</span>];</span><br><span class="line">        [<span class="keyword">self</span>.view addSubview:button];</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)onClick:(<span class="built_in">UIButton</span>*)button&#123;</span><br><span class="line">    <span class="keyword">if</span> (button.tag == <span class="number">10</span>) &#123;</span><br><span class="line"><span class="comment">//       根据数组下标 获取要返回到的UIViewController</span></span><br><span class="line">        <span class="built_in">UIViewController</span> *VC =   <span class="keyword">self</span>.navigationController.viewControllers[<span class="number">1</span>];</span><br><span class="line"><span class="comment">//        返回到指定的UIViewController</span></span><br><span class="line">        [<span class="keyword">self</span>.navigationController popToViewController:VC animated:<span class="literal">YES</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (button.tag == <span class="number">11</span>) &#123;</span><br><span class="line"><span class="comment">//        返回上一级</span></span><br><span class="line">        [<span class="keyword">self</span>.navigationController popViewControllerAnimated:<span class="literal">YES</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (button.tag == <span class="number">12</span>) &#123;</span><br><span class="line"><span class="comment">//        返回到root(基栈)</span></span><br><span class="line">        [<span class="keyword">self</span>.navigationController popToRootViewControllerAnimated:<span class="literal">YES</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Objective-C </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NavgationController </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UIProgressView(Objc)</title>
      <link href="/2017/03/06/UIProgressView/"/>
      <url>/2017/03/06/UIProgressView/</url>
      
        <content type="html"><![CDATA[<h4 id="UIProgressView"><a href="#UIProgressView" class="headerlink" title="UIProgressView"></a>UIProgressView</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSTimer</span> *_timer;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line"><span class="comment">// 初始化UIProgressView并设置frame</span></span><br><span class="line"><span class="comment">//    UIProgressView 高度是固定的</span></span><br><span class="line">    <span class="built_in">UIProgressView</span> *progressView = [[<span class="built_in">UIProgressView</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">100</span>, <span class="number">100</span>, <span class="number">200</span>, <span class="number">100</span>)];</span><br><span class="line"><span class="comment">//    设置进度</span></span><br><span class="line"><span class="comment">//    0.0 .. 1.0, default is 0.0.</span></span><br><span class="line">    progressView.progress = <span class="number">0.25</span>;</span><br><span class="line"><span class="comment">//    已加载进度的颜色</span></span><br><span class="line">    progressView.progressTintColor = [<span class="built_in">UIColor</span> redColor];</span><br><span class="line"><span class="comment">//    未加载进度的颜色</span></span><br><span class="line">    progressView.trackTintColor = [<span class="built_in">UIColor</span> greenColor];</span><br><span class="line"><span class="comment">//    设置图片会覆盖上面设置的颜色</span></span><br><span class="line"><span class="comment">//    已加载进度的图片</span></span><br><span class="line">    progressView.progressImage = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"1"</span>];</span><br><span class="line"><span class="comment">//    未加载进度的图片</span></span><br><span class="line">    progressView.trackImage = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"2"</span>];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置tag值</span></span><br><span class="line">    progressView.tag = <span class="number">10</span>;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    添加到视图</span></span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:progressView];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    初始化timer</span></span><br><span class="line">    _timer = [<span class="built_in">NSTimer</span>     scheduledTimerWithTimeInterval:<span class="number">0.1</span> target:<span class="keyword">self</span> selector:<span class="keyword">@selector</span>(timerRun) userInfo:<span class="literal">nil</span> repeats:<span class="literal">YES</span>];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)timerRun&#123;</span><br><span class="line">    <span class="built_in">UIProgressView</span> *progressView = (<span class="built_in">UIProgressView</span> *)[<span class="keyword">self</span>.view viewWithTag:<span class="number">10</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (progressView.progress &lt; <span class="number">1.0</span>) &#123;</span><br><span class="line">        progressView.progress += <span class="number">0.01</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"下载完成"</span>);</span><br><span class="line"><span class="comment">//        使计时器失效</span></span><br><span class="line">        [_timer invalidate];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Objective-C </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIProgressView </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>字符串函数(Objc)</title>
      <link href="/2017/03/05/%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0/"/>
      <url>/2017/03/05/%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<h4 id="字符串函数"><a href="#字符串函数" class="headerlink" title="字符串函数"></a>字符串函数</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  myString.c</span></span><br><span class="line"><span class="comment">//  字符串函数</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by 刘晓磊 on 15/12/16.</span></span><br><span class="line"><span class="comment">//  Copyright (c) 2015年 刘晓磊. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"myString.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">size_t</span> <span class="title">myStrlen</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> * s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">size_t</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//参数合法性判断</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">NULL</span> == s) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Input Param is invalid!\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//因为字符串是以\0结尾的特殊常量，那么\0就可以作为一个结束标记</span></span><br><span class="line">    <span class="comment">//通常对于字符串的操作都是采用while</span></span><br><span class="line">    <span class="keyword">while</span> (*s != <span class="string">'\0'</span>) &#123;</span><br><span class="line">        count++;</span><br><span class="line">        s++;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">char</span> * <span class="title">myStrcpy</span><span class="params">(<span class="keyword">char</span> * dst, <span class="keyword">const</span> <span class="keyword">char</span> * src)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//需要一个指针变量，来保存dst的首地址</span></span><br><span class="line">    <span class="keyword">char</span> * ptemp = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="comment">//参数合法性判断</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">NULL</span> == dst || <span class="literal">NULL</span> == src) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Input Param is invalid!\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//保证传入的首地址变量里面的内容不要更改，始终保佑这个地址</span></span><br><span class="line">    ptemp = dst;</span><br><span class="line">    <span class="keyword">while</span> (*src != <span class="string">'\0'</span>) &#123;</span><br><span class="line">        *ptemp = *src;</span><br><span class="line">        ptemp++;</span><br><span class="line">        src++;</span><br><span class="line">    &#125;</span><br><span class="line">    *ptemp = <span class="string">'\0'</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> dst;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">char</span> * <span class="title">myStrcat</span><span class="params">(<span class="keyword">char</span> * dst, <span class="keyword">const</span> <span class="keyword">char</span> * src)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> * ptemp = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="comment">//参数合法性判断</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">NULL</span> == dst || <span class="literal">NULL</span> == src) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Input Param is invalid!\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    ptemp = dst;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//1.找到dst的\0</span></span><br><span class="line">    <span class="keyword">while</span> (*ptemp != <span class="string">'\0'</span>) &#123;</span><br><span class="line">        ptemp++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//找到之后，ptemp刚刚好停在'\0'的位置</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (*src != <span class="string">'\0'</span>) &#123;</span><br><span class="line">        *ptemp = *src;</span><br><span class="line">        ptemp++;</span><br><span class="line">        src++;</span><br><span class="line">    &#125;</span><br><span class="line">    *ptemp = <span class="string">'\0'</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> dst;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">myStrcmp</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> * s1, <span class="keyword">const</span> <span class="keyword">char</span> * s2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//参数合法性判断</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="literal">NULL</span> == s1 || <span class="literal">NULL</span> == s2) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Input param is invalid!\n"</span>);</span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">-1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//找两个字符串不同的位置，以及'\0'的位置</span></span><br><span class="line">    <span class="comment">//这里有一个条件不符合，我们都要跳出循环</span></span><br><span class="line">    <span class="keyword">while</span> (*s1 == *s2 &amp;&amp; *s1 != <span class="string">'\0'</span> &amp;&amp; *s2 != <span class="string">'\0'</span>) &#123;</span><br><span class="line">        s1++;</span><br><span class="line">        s2++;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> *s1 - *s2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Objective-C </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 字符串函数 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>文件操作(Objc)</title>
      <link href="/2017/03/05/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/"/>
      <url>/2017/03/05/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/</url>
      
        <content type="html"><![CDATA[<h4 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//【文件管理类 NSFileManager】</span></span><br><span class="line"><span class="built_in">NSError</span> * error = <span class="literal">nil</span>;<span class="comment">//0</span></span><br><span class="line">        <span class="comment">//ARC NSError __autorelease * error = nil;</span></span><br><span class="line">        <span class="comment">//1.查看指定目录里面的文件(浅度遍历)</span></span><br><span class="line">        <span class="comment">//第一个参数，要查看的文件夹路径</span></span><br><span class="line">        <span class="comment">//第二个参数，错误信息</span></span><br><span class="line">        <span class="built_in">NSArray</span> * fileContentsArray = [fm contentsOfDirectoryAtPath:PATH error:&amp;error];</span><br><span class="line">        <span class="comment">//操作文件，一定要有错误信息的判断，如果文件操作失败，没有做处理，后面的程序100%挂掉</span></span><br><span class="line">        <span class="keyword">if</span> (error) &#123;</span><br><span class="line">            <span class="comment">//perror 打印错误信息</span></span><br><span class="line">            perror(<span class="string">"contentsOfDirectoryAtPath"</span>);</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//2.查看所有在这个文件夹下的文件(深度遍历)</span></span><br><span class="line">        <span class="comment">//第一个参数，要查看的文件夹路径</span></span><br><span class="line">        <span class="comment">//第二个参数，错误信息</span></span><br><span class="line">        <span class="built_in">NSArray</span> * allFileContentsArray = [fm subpathsOfDirectoryAtPath:PATH error:&amp;error];</span><br><span class="line"></span><br><span class="line"><span class="comment">//第一个参数:要创建文件夹的路径 这个路径是带有要创建的文件夹名的</span></span><br><span class="line">        <span class="comment">//第二个参数:BOOL类型，控制，是否创建中间文件夹</span></span><br><span class="line">        <span class="comment">//If YES, this method creates any non-existent parent directories as part of creating the directory in path. If NO, this method fails if any of the intermediate parent directories does not exist. This method also fails if any of the intermediate path elements corresponds to a file and not a directory.</span></span><br><span class="line">        <span class="comment">//如果要创建的文件夹，含有中间路径，那么YES，表示如果没有这个中间路径，我们就连带中间路径一起创建，如果存在，不用管它</span></span><br><span class="line">        <span class="comment">//第三个参数:属性，创建文件夹的属性 默认属性nil</span></span><br><span class="line">        <span class="comment">//第四个参数:错误信息</span></span><br><span class="line">        <span class="comment">//返回值BOOL 判断创建是否成功</span></span><br><span class="line">        [fm createDirectoryAtPath:dstPath withIntermediateDirectories:<span class="literal">YES</span> attributes:<span class="literal">nil</span> error:&amp;error];</span><br><span class="line"> <span class="comment">//创建一个普通文件</span></span><br><span class="line">        <span class="comment">//第一个参数:路径,这个路径是带有所要创建的文件名</span></span><br><span class="line">        <span class="comment">//第二个参数:文件的内容，NSData 是OC当中二进制文件格式</span></span><br><span class="line">        <span class="comment">//第三个参数:属性，默认nil</span></span><br><span class="line">        <span class="comment">//利用他的返回值做出错判断</span></span><br><span class="line">        <span class="comment">//NSString  转 NSData</span></span><br><span class="line">        <span class="built_in">NSString</span> * str = <span class="string">@"今天赵雨铭同学，要给大家讲电子图书类!!!"</span>;</span><br><span class="line">        <span class="built_in">NSData</span> * data = [str dataUsingEncoding:<span class="built_in">NSUTF8StringEncoding</span>];</span><br><span class="line">        <span class="built_in">BOOL</span> ret = [fm createFileAtPath:[PATH stringByAppendingPathComponent:<span class="string">@"1.txt"</span>]contents:data attributes:<span class="literal">nil</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">//删除文件夹 和 普通文件 是一个方法</span></span><br><span class="line">        <span class="comment">//删除是不可逆的~~~</span></span><br><span class="line">        <span class="comment">//第一个参数:路径是带有要删除的文件信息的</span></span><br><span class="line">        <span class="comment">//第二个参数:错误信息</span></span><br><span class="line">        [fm removeItemAtPath:PATH error:&amp;error];</span><br><span class="line"></span><br><span class="line"><span class="comment">//copy文件</span></span><br><span class="line">        <span class="comment">//第一个参数:要复制的原路径，带有文件名 或者 文件夹名</span></span><br><span class="line">        <span class="comment">//第二个参数:目标路径  必须加上要复制过去的文件名,这个文件名可以重命名</span></span><br><span class="line">        <span class="comment">//第三个参数:error信息</span></span><br><span class="line">        [fm copyItemAtPath:[PATH stringByAppendingPathComponent:<span class="string">@"MID/test"</span>]toPath:[PATH stringByAppendingPathComponent:<span class="string">@"test"</span>] error:&amp;error];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="comment">//移动文件</span></span><br><span class="line">        <span class="comment">//第一个参数:要移动源文件路径</span></span><br><span class="line">        <span class="comment">//第二个参数:目标路径，也要带上文件名</span></span><br><span class="line">        <span class="comment">//第三个参数:error</span></span><br><span class="line">        [fm moveItemAtPath:[PATH stringByAppendingPathComponent:<span class="string">@"1副本.txt"</span>] toPath:[PATH stringByAppendingPathComponent:<span class="string">@"1.txt"</span>] error:&amp;error];</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断文件是否存在</span></span><br><span class="line">        <span class="comment">//返回值BOOL YES 表示该文件存在，NO 表示该文件不存在</span></span><br><span class="line">        <span class="built_in">BOOL</span> ret = [fm fileExistsAtPath:[PATH stringByAppendingPathComponent:<span class="string">@"12.txt"</span>]];</span><br><span class="line">        <span class="keyword">if</span> (ret) &#123;</span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"This file exist!"</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"This file No exist!"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//判断这个文件是不是文件夹</span></span><br><span class="line">        <span class="comment">//返回值BOOL YES 表示这个路径的文件存在 NO 不存在</span></span><br><span class="line">        <span class="comment">//isDirectory 传入参数是一个BOOL *  YES 表示是一个文件夹，如果NO 表示是一个普通文件</span></span><br><span class="line">        <span class="comment">//- (BOOL)fileExistsAtPath:(NSString *)path isDirectory:(BOOL *)isDirectory;</span></span><br><span class="line">        <span class="built_in">BOOL</span> isDirectory = <span class="literal">NO</span>;</span><br><span class="line">        ret = [fm fileExistsAtPath:[PATH stringByAppendingPathComponent:<span class="string">@"MIDd"</span>] isDirectory:&amp;isDirectory];</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (ret) &#123;</span><br><span class="line">            <span class="keyword">if</span> (isDirectory) &#123;</span><br><span class="line">                <span class="built_in">NSLog</span>(<span class="string">@"This is a directory!"</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="built_in">NSLog</span>(<span class="string">@"This is normal file!"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"No such file or directory!"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//获取文件的属性</span></span><br><span class="line">        <span class="built_in">NSDictionary</span> * dic = [fm attributesOfItemAtPath:PATH error:&amp;error];</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,dic);</span><br><span class="line"><span class="comment">//      &#123;</span></span><br><span class="line"><span class="comment">//        NSFileCreationDate = "2015-12-30 01:40:30 +0000";</span></span><br><span class="line"><span class="comment">//        NSFileExtensionHidden = 0;</span></span><br><span class="line"><span class="comment">//        NSFileGroupOwnerAccountID = 20;</span></span><br><span class="line"><span class="comment">//        NSFileGroupOwnerAccountName = staff;</span></span><br><span class="line"><span class="comment">//        NSFileModificationDate = "2015-12-30 03:27:14 +0000";</span></span><br><span class="line"><span class="comment">//        NSFileOwnerAccountID = 501;</span></span><br><span class="line"><span class="comment">//        NSFileOwnerAccountName = LXL;</span></span><br><span class="line"><span class="comment">//        NSFilePosixPermissions = 493;</span></span><br><span class="line"><span class="comment">//        NSFileReferenceCount = 12;</span></span><br><span class="line"><span class="comment">//        NSFileSize = 408;</span></span><br><span class="line"><span class="comment">//        NSFileSystemFileNumber = 3450634;</span></span><br><span class="line"><span class="comment">//        NSFileSystemNumber = 16777220;</span></span><br><span class="line"><span class="comment">//        NSFileType = NSFileTypeDirectory;</span></span><br><span class="line"><span class="comment">//      &#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">【文件句柄类 <span class="built_in">NSFileHandle</span>】</span><br><span class="line">        <span class="comment">//创建一个读取文件的句柄</span></span><br><span class="line">        <span class="built_in">NSFileHandle</span> * fhForRead = [<span class="built_in">NSFileHandle</span> fileHandleForReadingAtPath:PATH];</span><br><span class="line"><span class="comment">//创建一个用于写入文件的句柄</span></span><br><span class="line">        <span class="built_in">NSFileHandle</span> * fhForWrite = [<span class="built_in">NSFileHandle</span> fileHandleForWritingAtPath:PATH];</span><br><span class="line"><span class="comment">//创建一个读写句柄</span></span><br><span class="line">        <span class="built_in">NSFileHandle</span> * fhForUpdating = [<span class="built_in">NSFileHandle</span> fileHandleForUpdatingAtPath:PATH];</span><br><span class="line"></span><br><span class="line"><span class="comment">//读取数据，读取的数据是一个二进制数据</span></span><br><span class="line">        <span class="comment">//这个读取文件的方式是要把文件全部读取到内存中去</span></span><br><span class="line">        <span class="comment">//在iOS程序中，都是采用这样的读取文件方式</span></span><br><span class="line">        <span class="built_in">NSData</span> * data = [fhForRead readDataToEndOfFile]; <span class="comment">//EOF</span></span><br><span class="line"><span class="comment">//读取指定长度的文件，字节数</span></span><br><span class="line">[fhForUpdating readDataOfLength:<span class="number">9</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">//写入数据是一个覆盖写</span></span><br><span class="line">        [fhForWrite writeData:dataForWrite];</span><br><span class="line"><span class="comment">//文件指示器到文件的末尾</span></span><br><span class="line">        [fhForWrite seekToEndOfFile];</span><br><span class="line">        <span class="comment">//文件指示器，到文件的指定位置，这个位置是一个字节数</span></span><br><span class="line">        [fhForWrite seekToFileOffset:&lt;#(<span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span>)#&gt;]</span><br><span class="line"><span class="comment">//把文件截短成100</span></span><br><span class="line">        [fhForUpdating truncateFileAtOffset:<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//【plist文件】 Property List</span></span><br><span class="line"><span class="comment">//在plist文件当中，只能保存一下几种数据NSString NSDate NSData NSNumber NSArray NSDictionary</span></span><br><span class="line"><span class="comment">//plist是一个可视化轻量级文件，通常是保存一下数据量不是太大的文件，QQ登陆信息</span></span><br><span class="line"><span class="comment">//XML文本</span></span><br><span class="line"><span class="comment">//数据对象NSArray NSDictionary</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//1.创建一个plist文件</span></span><br><span class="line">        <span class="comment">//第一个参数:代表要创建plist的路径，包括plist文件名</span></span><br><span class="line">        <span class="comment">//第二个参数:表示是否要原子操作</span></span><br><span class="line">        [dict1 writeToFile:[PATH stringByAppendingPathComponent:<span class="string">@"dict.plist"</span>] atomically:<span class="literal">NO</span>];</span><br><span class="line">        </span><br><span class="line">        [array writeToFile:[PATH stringByAppendingPathComponent:<span class="string">@"array.plist"</span>] atomically:<span class="literal">NO</span>];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[file] - &gt; [new] - &gt;[file] - &gt; [OS X] - &gt; [Property List]</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.读取plist</span></span><br><span class="line">  <span class="built_in">NSArray</span> * plistArray = [[<span class="built_in">NSArray</span> alloc] initWithContentsOfFile:PATH];</span><br><span class="line"> <span class="built_in">NSURL</span> * url = [[<span class="built_in">NSURL</span> alloc] initWithString:URL];</span><br><span class="line">        <span class="built_in">NSDictionary</span> * dict = [[<span class="built_in">NSDictionary</span> alloc] initWithContentsOfURL:url];</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Objective-C </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 文件操作 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UILabel(Objc)</title>
      <link href="/2017/03/03/UILabel/"/>
      <url>/2017/03/03/UILabel/</url>
      
        <content type="html"><![CDATA[<h4 id="UILabel"><a href="#UILabel" class="headerlink" title="UILabel"></a>UILabel</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">BOOL</span>)application:(<span class="built_in">UIApplication</span> *)application didFinishLaunchingWithOptions:(<span class="built_in">NSDictionary</span> *)launchOptions &#123;</span><br><span class="line">    <span class="comment">// Override point for customization after application launch.</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//初始化window，并设置fram</span></span><br><span class="line">    <span class="keyword">self</span>.window = [[<span class="built_in">UIWindow</span> alloc] initWithFrame:[<span class="built_in">UIScreen</span> mainScreen].bounds];</span><br><span class="line">    <span class="comment">//[UIScreen mainScreen].bounds] 获取当前屏幕的大小</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//设置背景颜色</span></span><br><span class="line">    [<span class="keyword">self</span>.window setBackgroundColor:[<span class="built_in">UIColor</span> purpleColor]];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//Xcode 7.0 之后，必须有rootViewController</span></span><br><span class="line">    <span class="comment">//Xcode 7.0 之前，可以不设置rootViewController</span></span><br><span class="line">    RootViewController * rootVC = [[RootViewController alloc]init];</span><br><span class="line">    <span class="keyword">self</span>.window.rootViewController = rootVC;</span><br><span class="line">    <span class="comment">//设置window为 keyWindow 并显示</span></span><br><span class="line">    [<span class="keyword">self</span>.window makeKeyAndVisible];</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">RootViewController</span></span></span><br><span class="line"><span class="comment">//视图已经加载</span></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">    <span class="comment">// Do any additional setup after loading the view.</span></span><br><span class="line">    <span class="comment">//[self createUILabel];</span></span><br><span class="line">    <span class="comment">//[self  createNewLabel];</span></span><br><span class="line">  <span class="comment">//UILabel * label =(UILabel *)[self.view viewWithTag:9];</span></span><br><span class="line">   <span class="comment">// label.text = @"123";</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">-(<span class="keyword">void</span>)createUILabel&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//红50绿100蓝30</span></span><br><span class="line">    <span class="comment">//alpha 透明度，默认是1.0，取值范围0~1.0</span></span><br><span class="line">    <span class="comment">//利用RGB生成一个颜色</span></span><br><span class="line">    <span class="comment">//UIColor *color = [UIColor colorWithRed:50/255.0 green:100/255.0 blue:30/255.0 alpha:0.8];</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//设置self.view的背景色</span></span><br><span class="line">    <span class="keyword">self</span>.view.backgroundColor = [<span class="built_in">UIColor</span> whiteColor];</span><br><span class="line">    <span class="comment">//CGRect rect = CGRectMake(50, 50, 100, 100);</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//初始化UILbel 并设置fram</span></span><br><span class="line">    <span class="comment">//重新设置fram，会把之前设置的fram覆盖</span></span><br><span class="line">    <span class="built_in">UILabel</span> * label = [[<span class="built_in">UILabel</span> alloc] initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">100</span>, <span class="number">100</span>, <span class="number">200</span>, <span class="number">200</span>)];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//设置label的背景色</span></span><br><span class="line">    label.backgroundColor = [<span class="built_in">UIColor</span> lightGrayColor];</span><br><span class="line">    label.text = <span class="string">@"NSLineBreakByTruncatingTail,    NSLineBreakByTruncatingMiddleNSLineBreakByTruncatingTail,NSLineBreakByTruncating ,MiddleNSLineBreakByTruncatingTail.NSLineBreakByTruncatingMiddleNSLineBreakByTruncatingTail,NSLineBreakByTruncatingMiddle"</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//设置字体的类型和大小</span></span><br><span class="line">    label.font = [<span class="built_in">UIFont</span> systemFontOfSize:<span class="number">20</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//设置粗体</span></span><br><span class="line">    label.font = [<span class="built_in">UIFont</span> boldSystemFontOfSize:<span class="number">20</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//设置斜体（不支持中文）</span></span><br><span class="line">    label.font = [<span class="built_in">UIFont</span> italicSystemFontOfSize:<span class="number">20</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//获取所有字体</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,[<span class="built_in">UIFont</span> familyNames]);</span><br><span class="line">   </span><br><span class="line">    <span class="comment">//设置字体，大小</span></span><br><span class="line">    label.font = [<span class="built_in">UIFont</span> fontWithName:<span class="string">@"Thonburi"</span> size:<span class="number">20</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//自适应宽度</span></span><br><span class="line">    <span class="comment">//label.adjustsFontSizeToFitWidth = YES;</span></span><br><span class="line">    <span class="comment">//内容对其方式</span></span><br><span class="line">    label.textAlignment = <span class="built_in">NSTextAlignmentLeft</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//label.textAlignment = NSTextAlignmentRight;</span></span><br><span class="line">    <span class="comment">//label.textAlignment = NSTextAlignmentCenter;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//限制设置行数，如果文字不够，能显示多少行就显示多少行。</span></span><br><span class="line">    <span class="comment">//如果行高不够，能显示多少行就显示多少行。</span></span><br><span class="line">    <span class="comment">//默认值是0，表示行数最大</span></span><br><span class="line">    label.numberOfLines = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    label.lineBreakMode = <span class="built_in">NSLineBreakByTruncatingMiddle</span>;</span><br><span class="line"><span class="comment">//    NSLineBreakByWordWrapping = 0,  根据单词截断</span></span><br><span class="line"><span class="comment">//    NSLineBreakByCharWrapping,      根据字符截断</span></span><br><span class="line"><span class="comment">//    NSLineBreakByClipping,          简单截断</span></span><br><span class="line"><span class="comment">//    NSLineBreakByTruncatingHead,    省略号在前</span></span><br><span class="line"><span class="comment">//    NSLineBreakByTruncatingTail,    省略号在后</span></span><br><span class="line"><span class="comment">//    NSLineBreakByTruncatingMiddle   省略号在中</span></span><br><span class="line">    </span><br><span class="line">    label.shadowColor = [<span class="built_in">UIColor</span> blueColor];</span><br><span class="line">    label.shadowOffset = <span class="built_in">CGSizeMake</span>(<span class="number">3</span>, <span class="number">3</span>);</span><br><span class="line">    <span class="comment">//设置透明度</span></span><br><span class="line">    label.alpha = <span class="number">0.8</span>;</span><br><span class="line">    <span class="comment">//标识</span></span><br><span class="line">    label.tag = <span class="number">10</span>;</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:label];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Objective-C </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UILabel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>算法题(Objc)</title>
      <link href="/2017/03/02/%E7%AE%97%E6%B3%95%E9%A2%98/"/>
      <url>/2017/03/02/%E7%AE%97%E6%B3%95%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h4 id="算法题"><a href="#算法题" class="headerlink" title="算法题"></a>算法题</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;ctype.h&gt;</span></span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 1. 数字1、2、3、4，可以组成多个互不相同且无重复数字的三位数，请输出所有组合 (15分)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">numOfDiffNumber</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i , j , k;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">1</span>; i &lt;= <span class="number">4</span> ;i ++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(j =  <span class="number">1</span>;j &lt;= <span class="number">4</span>; j++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(k = <span class="number">1</span>; k &lt;= <span class="number">4</span> ; k ++)&#123;</span><br><span class="line">                <span class="keyword">if</span> (i != j &amp;&amp; i != k &amp;&amp; j != k)&#123;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"%d\n"</span> , i * <span class="number">100</span> + j * <span class="number">10</span> + k);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 2.求 a + aa + aaa ... + aaaa...aaa(n个a)之和(15分)</span></span><br><span class="line"><span class="comment"> 其中a和n代表相关参数</span></span><br><span class="line"><span class="comment"> 如a = 2，n = 4表示求2 + 22 + 222 + 2222之和</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sumOfNumber</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(j &lt;= n)&#123;</span><br><span class="line">        num = num * <span class="number">10</span> + a;</span><br><span class="line">        sum +＝ num;</span><br><span class="line">        j++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 2.传入数字n，求出1^1 + 2 ^ 2 + 3 ^ 3 + … + n ^ n的和(15分)</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">sumOfFactorial</span><span class="params">(<span class="keyword">long</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>,sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">int</span> pruct = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(j = <span class="number">1</span>; j &lt;= i; j++)&#123;</span><br><span class="line">            pruct *= i;</span><br><span class="line">        &#125;</span><br><span class="line">        sum += pruct;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"> <span class="comment">/*1.判断是否是一个合法的手机号，是返回1，不是返回0 （15分）</span></span><br><span class="line"><span class="comment"> 要求:手机号以1开头总共有11位 并且手机号中不能有除了数字以外的其他字符</span></span><br><span class="line"><span class="comment"> 比如: 13812345678 是手机号</span></span><br><span class="line"><span class="comment"> 188a1234567 不是手机号</span></span><br><span class="line"><span class="comment"> 01381234567 不是手机号</span></span><br><span class="line"><span class="comment"> 188123456789 不是手机号</span></span><br><span class="line"><span class="comment"> 18912345    不是手机号</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isPhoneNumberOfString</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> * phoneNumber)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> flag = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> l = <span class="built_in">strlen</span>(phoneNumber);</span><br><span class="line">    <span class="keyword">if</span>(phoneNumber[<span class="number">0</span>] != <span class="string">'1'</span> || l != <span class="number">11</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        flag = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span>(i &lt; <span class="number">11</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            i = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(phoneNumber[i] &gt;= <span class="string">'0'</span> &amp;&amp; phoneNumber[i] &lt;= <span class="string">'9'</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                flag = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                flag = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> flag;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 1.求整形数组中第二大元素的下标(15分)</span></span><br><span class="line"><span class="comment"> n表示数组长度</span></span><br><span class="line"><span class="comment"> 如数组中元素为81 12 42 67 9 88，返回0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">secondMaxIndex</span><span class="params">(<span class="keyword">int</span> *arr, <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> c[n];</span><br><span class="line">    <span class="keyword">int</span> temp = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; n;i++)&#123;</span><br><span class="line">        c[i] = arr[i];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; n - <span class="number">1</span>; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(j = <span class="number">0</span>; j &lt; n - <span class="number">1</span> - i; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(c[j] &lt; c[j + <span class="number">1</span>])&#123;<span class="comment">//升序 冒泡</span></span><br><span class="line">                temp = c[j];</span><br><span class="line">                c[j] = c[j + <span class="number">1</span>];</span><br><span class="line">                c[j + <span class="number">1</span>] = temp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(c[<span class="number">1</span>] == arr[i])&#123;</span><br><span class="line">            <span class="keyword">return</span> i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 2. 打印文件的扩展名(后缀) (15分)</span></span><br><span class="line"><span class="comment"> 比如 :</span></span><br><span class="line"><span class="comment"> 传入字符串 "/home/apple/oc.txt"</span></span><br><span class="line"><span class="comment"> 打印:txt</span></span><br><span class="line"><span class="comment"> 传入字符串 "/Users/apple/Desktop/ios.c"</span></span><br><span class="line"><span class="comment"> 打印:c</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">const</span> <span class="keyword">char</span> *<span class="title">printExtensionOfFilePath</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> * path)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(*path++ != <span class="string">'.'</span>);</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">char</span> *p = path;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 4.字符串后移指定位数，实现首尾循环(20分)</span></span><br><span class="line"><span class="comment"> 如传入"abcdefgh" 和3，则输出fghabcde</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">moveCharsToFront</span><span class="params">(<span class="keyword">char</span> *c, <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">1</span>, i = <span class="number">0</span>, j = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">char</span> a[<span class="number">256</span>];</span><br><span class="line">    <span class="keyword">while</span>(c[i] != <span class="string">'\0'</span>)&#123;</span><br><span class="line">        a[i] = c[i];</span><br><span class="line">        i++;</span><br><span class="line">        count++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">        c[i] = c[count - n - <span class="number">1</span> + i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(i = n; i &lt; count - <span class="number">1</span>; i++)&#123;</span><br><span class="line">        c[i] = a[j];</span><br><span class="line">        j++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s\n"</span>,c);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> //另一种方法</span></span><br><span class="line"><span class="comment"> void moveCharsToFront(char *c, int n)</span></span><br><span class="line"><span class="comment"> &#123;</span></span><br><span class="line"><span class="comment"> char a[100];</span></span><br><span class="line"><span class="comment"> int i,j,x;</span></span><br><span class="line"><span class="comment"> x=n-1;</span></span><br><span class="line"><span class="comment"> for(i=0;c[i]!='\0';i++)</span></span><br><span class="line"><span class="comment"> &#123;</span></span><br><span class="line"><span class="comment"> &#125;</span></span><br><span class="line"><span class="comment"> for(j=i-1;j&gt;=0;j--)</span></span><br><span class="line"><span class="comment"> &#123;</span></span><br><span class="line"><span class="comment"> if(j+n&gt;i-1)</span></span><br><span class="line"><span class="comment"> &#123;</span></span><br><span class="line"><span class="comment"> a[x]=c[j];</span></span><br><span class="line"><span class="comment"> x--;</span></span><br><span class="line"><span class="comment"> &#125;</span></span><br><span class="line"><span class="comment"> else&#123;</span></span><br><span class="line"><span class="comment"> c[j+n]=c[j];</span></span><br><span class="line"><span class="comment"> &#125;</span></span><br><span class="line"><span class="comment"> &#125;</span></span><br><span class="line"><span class="comment"> for(j=0;j&lt;n;j++)</span></span><br><span class="line"><span class="comment"> &#123;</span></span><br><span class="line"><span class="comment"> c[j]=a[j];</span></span><br><span class="line"><span class="comment"> &#125;</span></span><br><span class="line"><span class="comment"> printf("%s\n",c);</span></span><br><span class="line"><span class="comment"> &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 3. 输入一段字符串，已知字符串只由字母和空格构成，每两个单词间有一个或多个空格，统计其中的单词个数 (15分)</span></span><br><span class="line"><span class="comment"> 比如：传入 "welcome to     qianfeng"  返回:3</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">countOfWordInString</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> * str)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="comment">//此处考虑字符串前有空格</span></span><br><span class="line"><span class="comment">//while(str[i] == ' ')</span></span><br><span class="line"><span class="comment">//i++;</span></span><br><span class="line"><span class="comment">//不考虑串前空格和串后空格</span></span><br><span class="line"><span class="keyword">while</span>(str[i++] != <span class="string">'\0'</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(str[i - <span class="number">1</span>] != <span class="string">' '</span>)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(str[i - <span class="number">1</span>] == <span class="string">' '</span> &amp;&amp; str[i] != <span class="string">' '</span> )</span><br><span class="line">&#123;</span><br><span class="line">n++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//此处考虑串后空格</span></span><br><span class="line"><span class="comment">// if(str[i - 2] == ' ')</span></span><br><span class="line"><span class="comment">// n--;</span></span><br><span class="line">   <span class="keyword">return</span> n;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 3.已知英语单词可以使用空格、逗号、叹号、句号四个符号分割，统计一个英语字符串中单词的个数。(15分)</span></span><br><span class="line"><span class="comment"> 如 we are student,we are good student!</span></span><br><span class="line"><span class="comment"> 返回 7</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">numOfWordsInString</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> * str)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i ,count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; str[i] != <span class="string">'\0'</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(str[i] == <span class="string">' '</span> || str[i] == <span class="string">','</span> || str[i] == <span class="string">'!'</span> )&#123;</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">4.返回字符串s2在字符串s1中出现的次数。(20分)</span></span><br><span class="line"><span class="comment">如s1为"drink your drink" s2为"drink"</span></span><br><span class="line"><span class="comment">返回值是2</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">numOfStr</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> * s1, <span class="keyword">const</span> <span class="keyword">char</span> * s2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">     <span class="keyword">int</span> l1 = <span class="built_in">strlen</span>(s1);</span><br><span class="line"> <span class="keyword">int</span> l2 = <span class="built_in">strlen</span>(s2);</span><br><span class="line"> <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; l1; i++)</span><br><span class="line"> &#123;</span><br><span class="line"> <span class="keyword">int</span> n = <span class="number">0</span>;</span><br><span class="line"> <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; l2; j++)</span><br><span class="line"> &#123;</span><br><span class="line">           <span class="keyword">if</span>(s1[i+j] == s2[j])</span><br><span class="line">               n++;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">if</span>(l2 == n)</span><br><span class="line"> count++;</span><br><span class="line"> &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 2.求字符串s2在字符串s1中出现的次数（20分）</span></span><br><span class="line"><span class="comment"> 比如：</span></span><br><span class="line"><span class="comment"> 输入：“abc123bc321bcde”，  “bc”</span></span><br><span class="line"><span class="comment"> 输出：3</span></span><br><span class="line"><span class="comment"> 输入：“abc123bc321bcde”，  “bcde”</span></span><br><span class="line"><span class="comment"> 输出：1</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">times</span><span class="params">(<span class="keyword">char</span> *s1, <span class="keyword">char</span> *s2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> l2 = <span class="built_in">strlen</span>(s2);</span><br><span class="line">    <span class="keyword">int</span> i ,count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>;s1[i] != <span class="string">'\0'</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> n = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; l2 ; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (s1[i + j] == s2[j])</span><br><span class="line">                n++;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(l2 == n)</span><br><span class="line">        &#123;</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 4.传入一段字符串，字符串中可能有任何字符，输出每种字符出现的次数，字符的顺序没有限制。(20分)</span></span><br><span class="line"><span class="comment"> 传入:"hello!!"</span></span><br><span class="line"><span class="comment"> 输出:</span></span><br><span class="line"><span class="comment"> h:1</span></span><br><span class="line"><span class="comment"> e:1</span></span><br><span class="line"><span class="comment"> l:2</span></span><br><span class="line"><span class="comment"> o:1</span></span><br><span class="line"><span class="comment"> !:2</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printNumOfChar</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> * str)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> c[<span class="number">256</span>] = <span class="string">""</span>;<span class="comment">//存放字符</span></span><br><span class="line">    <span class="keyword">int</span> num[<span class="number">256</span>] = &#123;<span class="number">0</span>&#125;;<span class="comment">//存放字符出现的次数</span></span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(*str != <span class="string">'\0'</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;c[i];i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(c[i] == *str)&#123;</span><br><span class="line">                num[i]++;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//如果字符不存在，添加到字符数组c中</span></span><br><span class="line">        <span class="keyword">if</span>(c[i] == <span class="string">'\0'</span>)&#123;</span><br><span class="line">            c[i] = *str;</span><br><span class="line">            num[i]++;</span><br><span class="line">        &#125;</span><br><span class="line">        str++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt;<span class="number">256</span>; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(num[i] &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%c:%d\n"</span>,c[i],num[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> void printNumOfChar(const char * str)</span></span><br><span class="line"><span class="comment"> &#123;</span></span><br><span class="line"><span class="comment">     char a[256];</span></span><br><span class="line"><span class="comment">     int i ,j ,x,n;</span></span><br><span class="line"><span class="comment">     strcpy(a,str);</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">     for(i=0;a[i]!='\0';i++)&#123;&#125;</span></span><br><span class="line"><span class="comment">     for(j=0;j&lt;i;j++)</span></span><br><span class="line"><span class="comment">     &#123;</span></span><br><span class="line"><span class="comment">         if(a[j]!='\0')</span></span><br><span class="line"><span class="comment">         &#123;</span></span><br><span class="line"><span class="comment">             x=1;</span></span><br><span class="line"><span class="comment">             for(n=j;n&lt;i;n++)</span></span><br><span class="line"><span class="comment">             &#123;</span></span><br><span class="line"><span class="comment">                 if(j!= n &amp;&amp; a[n] == a[j])</span></span><br><span class="line"><span class="comment">                 &#123;</span></span><br><span class="line"><span class="comment">                     x++;</span></span><br><span class="line"><span class="comment">                     a[n]='\0';</span></span><br><span class="line"><span class="comment">                 &#125;</span></span><br><span class="line"><span class="comment">             &#125;</span></span><br><span class="line"><span class="comment">             printf("%c:%d\n",a[j],x);</span></span><br><span class="line"><span class="comment">         &#125;</span></span><br><span class="line"><span class="comment">     &#125;</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 1.统计字符串中的指定字符的个数 （20分）</span></span><br><span class="line"><span class="comment"> 传入:'a'   "ajeiuaHAAaakdhsda"</span></span><br><span class="line"><span class="comment"> 结果:5</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">countOfChar</span><span class="params">(<span class="keyword">char</span> c, <span class="keyword">char</span> *str)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span>  i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> l  = <span class="built_in">strlen</span>(str);<span class="comment">//调用函数计算字符数组长度</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>( i = <span class="number">0</span>; i &lt; l ;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(c == str[i])&#123;</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> l;   </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 3.将字符串中出现的单词的首字母改为大写，其余字母小写，并输出(15分)</span></span><br><span class="line"><span class="comment"> 其中传入字符串中，字母既可以大写也可以小写</span></span><br><span class="line"><span class="comment"> 如传入"hEllO WOrld",输出"Hello World"</span></span><br><span class="line"><span class="comment"> 传入"wELCome TO heNan",输出"Welcome To Henan"</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">capitalWords</span><span class="params">(<span class="keyword">char</span> *str)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">abc:</span><br><span class="line">    <span class="keyword">if</span>(str[i] &gt;= <span class="string">'a'</span> &amp;&amp; str[i] &lt;= <span class="string">'z'</span>)&#123;</span><br><span class="line">        str[i] = str[i] - <span class="number">32</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(i = i+<span class="number">1</span>; str[i] != <span class="string">'\0'</span>; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(str[i] == <span class="string">' '</span>)&#123;</span><br><span class="line">            i++;</span><br><span class="line">            <span class="keyword">goto</span> abc;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(str[i] &gt;= <span class="string">'A'</span> &amp;&amp; str[i] &lt;= <span class="string">'Z'</span>)&#123;</span><br><span class="line">            str[i] = str[i] + <span class="number">32</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s\n"</span>,str);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 5.字符串解压缩，并输出(20分)</span></span><br><span class="line"><span class="comment"> src表示待解压的字符串</span></span><br><span class="line"><span class="comment"> 如传入a2bc3f4，解压为aabcccffff并输出</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">decompress</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *src)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>,count = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(src[i] != <span class="string">'\0'</span>)&#123;</span><br><span class="line">        i++;</span><br><span class="line">        count++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span> c[<span class="number">256</span>];</span><br><span class="line">    <span class="keyword">int</span> k = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; count; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(src[i] &gt;= <span class="string">'a'</span> &amp;&amp; src[i] &lt;= <span class="string">'z'</span>)&#123;</span><br><span class="line">            c[k++] = src[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(src[i] &gt;= <span class="string">'1'</span> &amp;&amp; src[i] &lt;= <span class="string">'9'</span>)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; (src[i] - <span class="string">'1'</span>); j++)&#123;</span><br><span class="line">                c[k++ ] = src[i<span class="number">-1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s\n"</span>,c);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//字符串压缩</span></span><br><span class="line"><span class="comment">//如传入aabcccffff  压缩为a2bc3f4并输出</span></span><br><span class="line"><span class="comment">//source表示待压缩字符串, destion 用于存放压缩后的字符串</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">compress</span><span class="params">(<span class="keyword">char</span> *source, <span class="keyword">char</span> *destion)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; source[i] != <span class="string">'\0'</span>; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(source[i] == source[i + <span class="number">1</span>])&#123;</span><br><span class="line">            count++;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            *destion = source[i];</span><br><span class="line">            destion++;</span><br><span class="line">            <span class="keyword">if</span>(count != <span class="number">1</span>)&#123;</span><br><span class="line">                <span class="comment">//考虑超过10的情况</span></span><br><span class="line">                <span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">int</span> num[<span class="number">4</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">                <span class="keyword">while</span>(count &gt; <span class="number">0</span>)&#123;</span><br><span class="line">                    num[j] = count % <span class="number">10</span>;</span><br><span class="line">                    count = count / <span class="number">10</span>;</span><br><span class="line">                    j++;</span><br><span class="line">                &#125;</span><br><span class="line">                j--;</span><br><span class="line">                <span class="keyword">while</span>(j &gt;= <span class="number">0</span>)&#123;</span><br><span class="line">                    *destion++ = num[j] + <span class="string">'0'</span>;</span><br><span class="line">                    j--;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//不考虑10以上的数字</span></span><br><span class="line">                *destion++ = count + <span class="string">'0'</span>;</span><br><span class="line">                count = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 5.将字符中单词用空格隔开（20分）</span></span><br><span class="line"><span class="comment"> 已知传入的字符串中只有字母，各单词由全大写，全小写交替出现组成，试将每个单词隔开，</span></span><br><span class="line"><span class="comment"> 保留第一个单词首字母大写，其他单词全小写。</span></span><br><span class="line"><span class="comment"> 传入:"HELLOmyDEARworld"</span></span><br><span class="line"><span class="comment"> 打印:"Hello my dear world"</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> 传入:"welcomeTObeijing"</span></span><br><span class="line"><span class="comment"> 打印:"Welcome to beijing"</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">separateString</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> * str)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span> ;</span><br><span class="line">    <span class="keyword">char</span> c[<span class="number">256</span>] = <span class="string">""</span>;<span class="comment">//保存修改后的字符串</span></span><br><span class="line">    <span class="keyword">int</span> flag = <span class="number">0</span>;<span class="comment">// 0 表示小写  1表示大写</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">isupper</span>(str[<span class="number">0</span>]))&#123;</span><br><span class="line">        flag = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        flag = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    c[<span class="number">0</span>] = <span class="built_in">toupper</span>(str[<span class="number">0</span>]);    <span class="comment">//处理首元素，转换成大写字母放入c中</span></span><br><span class="line">    <span class="keyword">int</span> k=<span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(str[i++] != <span class="string">'\0'</span>)&#123;</span><br><span class="line">        <span class="keyword">int</span> temp = <span class="number">0</span>;      <span class="comment">//临时标志位</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">isupper</span>(str[i]))&#123;</span><br><span class="line">            temp = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            temp = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//和原来的标志位进行比较</span></span><br><span class="line">        <span class="keyword">if</span>(flag == temp&amp;&amp;flag==<span class="number">0</span>)&#123;     <span class="comment">//相同  不拆分</span></span><br><span class="line">            c[k++] = str[i];</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(flag == temp)</span><br><span class="line">        &#123;</span><br><span class="line">            c[k++] = <span class="built_in">tolower</span>(str[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;          <span class="comment">//不同  表示大小写变了   既进入下一个单词</span></span><br><span class="line">            c[k++] = <span class="string">' '</span>;   <span class="comment">//先加空格</span></span><br><span class="line">            c[k++] = <span class="built_in">tolower</span>(str[i]);  <span class="comment">//字母转换成小写</span></span><br><span class="line">            flag = temp;  <span class="comment">//记录新的字母状态</span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s\n"</span>,c);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 5.剔除字符串中的全部空格并打印(15分)</span></span><br><span class="line"><span class="comment"> 传入:" how    are you? "</span></span><br><span class="line"><span class="comment"> 打印:howareyou?</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">stringWithoutSpaceInString</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *str)</span></span></span><br><span class="line"><span class="function"></span>&#123;  <span class="comment">//此方法直接打印非空格字符</span></span><br><span class="line">    <span class="keyword">char</span> c[<span class="number">256</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">int</span> i, j = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; str[i] != <span class="string">'\0'</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(str[i] != <span class="string">' '</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            c[j] = str[i];</span><br><span class="line">            j++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">"%s\n"</span>,c);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">withoutSpaceInString</span><span class="params">(<span class="keyword">char</span> * str)</span></span></span><br><span class="line"><span class="function"></span>&#123;   <span class="comment">//此方法将将非空格字符赋值给另一个数组</span></span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">char</span> c[<span class="number">256</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">while</span>(str[i] != <span class="string">'\0'</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(str[i] != <span class="string">' '</span> )</span><br><span class="line">            c[j++] = str[i];</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    c[j++] = <span class="string">'\0'</span>;</span><br><span class="line">    <span class="built_in">strcpy</span>(str, c);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s\n"</span>,str);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 2.定义一个函数把字符串中的大写转化为小写，把小写转化为大写，非字母不转化。（15分）</span></span><br><span class="line"><span class="comment"> 比如：Abc12aBC12转化成aBC12Abc12</span></span><br><span class="line"><span class="comment"> 说明：该题要求修改源字符串</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">converseString</span> <span class="params">(<span class="keyword">char</span> *str,<span class="keyword">int</span> length)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;length; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (str[i] &gt;= <span class="string">'a'</span> &amp;&amp; str[i] &lt;= <span class="string">'z'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            str[i] = str[i] - <span class="number">32</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (str[i] &gt;= <span class="string">'A'</span> &amp;&amp; str[i] &lt;= <span class="string">'Z'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            str[i]= str[i] + <span class="number">32</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            str[i] = str[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s\n"</span>,str);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 6.根据传入的字符串，打印N字图形。(15分)</span></span><br><span class="line"><span class="comment"> 如传入"helloworld"</span></span><br><span class="line"><span class="comment"> 打印</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> h        h</span></span><br><span class="line"><span class="comment"> ee       e</span></span><br><span class="line"><span class="comment"> l l      l</span></span><br><span class="line"><span class="comment"> l  l     l</span></span><br><span class="line"><span class="comment"> o   o    o</span></span><br><span class="line"><span class="comment"> w    w   w</span></span><br><span class="line"><span class="comment"> o     o  o</span></span><br><span class="line"><span class="comment"> r      r r</span></span><br><span class="line"><span class="comment"> l       ll</span></span><br><span class="line"><span class="comment"> d        d</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printString</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> * str)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i ,j;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span> ;str[i] != <span class="string">'\0'</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(j = <span class="number">0</span>; str[j] !=<span class="string">'\0'</span>; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(i == j)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%c"</span>,str[i]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(j == <span class="number">0</span> || str[j+<span class="number">1</span>] ==<span class="string">'\0'</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%c"</span>,str[i]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">6.传入字符串，打印对应图形。(20分)</span></span><br><span class="line"><span class="comment">如传入 "helloworld"</span></span><br><span class="line"><span class="comment">传入的字符串长度是偶数</span></span><br><span class="line"><span class="comment"> 打印</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> h</span></span><br><span class="line"><span class="comment">  e</span></span><br><span class="line"><span class="comment">   l</span></span><br><span class="line"><span class="comment">    l</span></span><br><span class="line"><span class="comment">     o</span></span><br><span class="line"><span class="comment">     w</span></span><br><span class="line"><span class="comment">    o</span></span><br><span class="line"><span class="comment">   r</span></span><br><span class="line"><span class="comment">  l</span></span><br><span class="line"><span class="comment"> d</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printString</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> * str)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> l = <span class="built_in">strlen</span>(str);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; l / <span class="number">2</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= i; j++)</span><br><span class="line"><span class="keyword">if</span>(i == j)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%c"</span>,str[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">&#125;<span class="keyword">while</span>(i == j);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> m = <span class="number">0</span>; m &lt; l / <span class="number">2</span>;m++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> n = l / <span class="number">2</span>; n &lt; l; n++)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(m + n != (l - <span class="number">1</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">&#125;<span class="keyword">while</span>(m + n == (l <span class="number">-1</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%c"</span>,str[l / <span class="number">2</span>  + m]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 6.传入一个字母，打印图形（20分）</span></span><br><span class="line"><span class="comment"> 如传入:’A’，打印：</span></span><br><span class="line"><span class="comment"> A</span></span><br><span class="line"><span class="comment"> BBB</span></span><br><span class="line"><span class="comment"> CCCCC</span></span><br><span class="line"><span class="comment"> DDDDDDD</span></span><br><span class="line"><span class="comment"> EEEEEEEEE</span></span><br><span class="line"><span class="comment"> FFFFFFFFFFF</span></span><br><span class="line"><span class="comment"> GGGGGGGGGGGGG</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printGraph</span><span class="params">(<span class="keyword">char</span> c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">7</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>;j &lt;= <span class="number">2</span> * i - <span class="number">1</span>; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%c"</span>,c + i - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*输入G打印</span></span><br><span class="line"><span class="comment"> A</span></span><br><span class="line"><span class="comment"> BBB</span></span><br><span class="line"><span class="comment"> CCCCC</span></span><br><span class="line"><span class="comment"> DDDDDDD</span></span><br><span class="line"><span class="comment"> EEEEEEEEE</span></span><br><span class="line"><span class="comment"> FFFFFFFFFFF</span></span><br><span class="line"><span class="comment"> GGGGGGGGGGGGG</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">char</span> c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i, j;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">1</span> ;i &lt;= c - <span class="string">'A'</span> + <span class="number">1</span>; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(j = <span class="number">1</span>; j &lt;= <span class="number">2</span> * i - <span class="number">1</span>; j++)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%c"</span>,<span class="string">'A'</span> + i - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 6.传入一个字母，打印图形(15分)</span></span><br><span class="line"><span class="comment"> 传入:'e'</span></span><br><span class="line"><span class="comment"> 打印</span></span><br><span class="line"><span class="comment"> abcde</span></span><br><span class="line"><span class="comment"> bcde</span></span><br><span class="line"><span class="comment"> cde</span></span><br><span class="line"><span class="comment"> de</span></span><br><span class="line"><span class="comment"> e</span></span><br><span class="line"><span class="comment"> ed</span></span><br><span class="line"><span class="comment"> edc</span></span><br><span class="line"><span class="comment"> edcb</span></span><br><span class="line"><span class="comment"> edcba</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printGraph</span><span class="params">(<span class="keyword">char</span> c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = c - <span class="string">'a'</span> + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> i,j;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">1</span>;i &lt;= n;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(j = i;j &lt; n  + <span class="number">1</span>;j++)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%c"</span>,<span class="string">'a'</span> + j - <span class="number">1</span> );</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">1</span>;i &lt; n;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(j =<span class="number">1</span> ;j &lt;= i+<span class="number">1</span>;j++)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%c"</span>,c - j + <span class="number">1</span> );</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Objective-C </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法题 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UIImageView(Objc)</title>
      <link href="/2017/03/01/UIImageView/"/>
      <url>/2017/03/01/UIImageView/</url>
      
        <content type="html"><![CDATA[<h4 id="UIImageView"><a href="#UIImageView" class="headerlink" title="UIImageView"></a>UIImageView</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"RootViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">RootViewController</span> ()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">RootViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line"></span><br><span class="line"><span class="comment">//    [self createUIImageView];</span></span><br><span class="line">    [<span class="keyword">self</span> <span class="built_in">UIImageViewAnimation</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">-(<span class="keyword">void</span>)<span class="built_in">UIImageViewAnimation</span>&#123;</span><br><span class="line">    <span class="built_in">UIImageView</span> *bgView = [[<span class="built_in">UIImageView</span> alloc]initWithFrame:<span class="keyword">self</span>.view.bounds];</span><br><span class="line">    bgView.image = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"back2.jpg"</span>];</span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:bgView];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UIImageView</span> *birdView = [[<span class="built_in">UIImageView</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">100</span>, <span class="number">100</span>, <span class="number">121</span>, <span class="number">96</span>)];</span><br><span class="line">    birdView.image = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"DOVE 1"</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSMutableArray</span> *mArray = [<span class="built_in">NSMutableArray</span> array];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span> ; i &lt;<span class="number">19</span>; i ++) &#123;</span><br><span class="line">        <span class="built_in">NSString</span> *PicName = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"DOVE %d"</span>,i];</span><br><span class="line">        <span class="built_in">UIImage</span> *image = [<span class="built_in">UIImage</span> imageNamed:PicName];</span><br><span class="line">        [mArray addObject:image];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    birdView.animationImages = mArray;</span><br><span class="line">    birdView.animationDuration = <span class="number">1</span>;</span><br><span class="line">    birdView.animationRepeatCount = <span class="number">2</span>;</span><br><span class="line">    [birdView startAnimating];</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:birdView];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建UIImageView</span></span><br><span class="line">-(<span class="keyword">void</span>)createUIImageView&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    UIImageView *imageView = [[UIImageView alloc]initWithImage:[UIImage imageNamed:@"back2.jpg"]];</span></span><br><span class="line"><span class="comment">    [self.view addSubview:imageView];</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="built_in">UIImageView</span> *imageView = [[<span class="built_in">UIImageView</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">50</span>, <span class="number">50</span>, <span class="number">200</span>, <span class="number">200</span>)];</span><br><span class="line">    imageView.backgroundColor = [<span class="built_in">UIColor</span> lightGrayColor];</span><br><span class="line">    imageView.image = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"back2.jpg"</span>];</span><br><span class="line">    imageView.contentMode = <span class="built_in">UIViewContentModeScaleAspectFill</span>;</span><br><span class="line"><span class="comment">//    UIViewContentModeScaleToFill</span></span><br><span class="line"><span class="comment">//    UIViewContentModeScaleAspectFit</span></span><br><span class="line"><span class="comment">//    UIViewContentModeScaleAspectFill</span></span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:imageView];</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"><span class="comment">//UIImage在初始化图片时，能获得图片的size</span></span><br><span class="line">    <span class="built_in">UIImage</span> *image = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"back2.jpg"</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%f----%f"</span>,image.size.width,image.size.height);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Objective-C </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIImageView </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UIAlertView(Objc)</title>
      <link href="/2017/02/25/UIAlertView/"/>
      <url>/2017/02/25/UIAlertView/</url>
      
        <content type="html"><![CDATA[<h4 id="UIAlertView"><a href="#UIAlertView" class="headerlink" title="UIAlertView"></a>UIAlertView</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()&lt;<span class="title">UIAlertViewDelegate</span>&gt;</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">int</span> number;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//点击屏幕就会触发此方法</span></span><br><span class="line">-(<span class="keyword">void</span>)touchesBegan:(<span class="built_in">NSSet</span> *)touches withEvent:(<span class="built_in">UIEvent</span> *)event&#123;</span><br><span class="line">    number = arc4random()%<span class="number">2</span>;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"number = %d"</span>,number);</span><br><span class="line">    <span class="keyword">if</span> (number == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="built_in">UIAlertView</span> *alert = [[<span class="built_in">UIAlertView</span> alloc]initWithTitle:<span class="string">@"提示"</span> message:<span class="string">@"赶快还钱"</span> delegate:<span class="keyword">self</span> cancelButtonTitle:<span class="string">@"还钱"</span> otherButtonTitles:<span class="string">@"不还"</span>,<span class="string">@"就不还"</span>, <span class="literal">nil</span>];</span><br><span class="line">        [alert show];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (number == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">UIAlertView</span> *alert = [[<span class="built_in">UIAlertView</span> alloc]initWithTitle:<span class="string">@"提示"</span> message:<span class="string">@"还钱"</span> delegate:<span class="keyword">self</span> cancelButtonTitle:<span class="string">@"还钱"</span> otherButtonTitles:<span class="string">@"不还"</span>,<span class="string">@"就不还"</span>, <span class="literal">nil</span>];</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        alert.alertViewStyle = <span class="built_in">UIAlertViewStyleLoginAndPasswordInput</span>;</span><br><span class="line">        </span><br><span class="line">        [alert show];</span><br><span class="line">        </span><br><span class="line"><span class="comment">//        UIAlertViewStyleDefault = 0,</span></span><br><span class="line"><span class="comment">//        UIAlertViewStyleSecureTextInput,</span></span><br><span class="line"><span class="comment">//        UIAlertViewStylePlainTextInput,</span></span><br><span class="line"><span class="comment">//        UIAlertViewStyleLoginAndPasswordInput</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark -</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark delegate</span></span><br><span class="line">-(<span class="keyword">void</span>)alertView:(<span class="built_in">UIAlertView</span> *)alertView clickedButtonAtIndex:(<span class="built_in">NSInteger</span>)buttonIndex&#123;</span><br><span class="line">    <span class="keyword">if</span> (number == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">switch</span> (buttonIndex) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                <span class="built_in">NSLog</span>(<span class="string">@"%ld"</span>,buttonIndex);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                <span class="built_in">NSLog</span>(<span class="string">@"%ld"</span>,buttonIndex);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                <span class="built_in">NSLog</span>(<span class="string">@"%ld"</span>,buttonIndex);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">                </span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">switch</span> (buttonIndex) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                <span class="built_in">NSLog</span>(<span class="string">@"%ld"</span>,buttonIndex);        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,[[alertView textFieldAtIndex:<span class="number">0</span>]text]);</span><br><span class="line">                <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,[[alertView textFieldAtIndex:<span class="number">1</span>]text]);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                <span class="built_in">NSLog</span>(<span class="string">@"%ld"</span>,buttonIndex);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                <span class="built_in">NSLog</span>(<span class="string">@"%ld"</span>,buttonIndex);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">                </span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Objective-C </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIAlertView </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>图片加载方式(Objc)</title>
      <link href="/2017/02/24/%E5%9B%BE%E7%89%87%E5%8A%A0%E8%BD%BD%E6%96%B9%E5%BC%8F/"/>
      <url>/2017/02/24/%E5%9B%BE%E7%89%87%E5%8A%A0%E8%BD%BD%E6%96%B9%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h4 id="路径解析"><a href="#路径解析" class="headerlink" title="路径解析"></a>路径解析</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line"></span><br><span class="line">    <span class="built_in">UIImage</span> *image = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@""</span>];</span><br><span class="line">       <span class="comment">//  使用`imageNamed:`初始化的时候，会先检查缓存中是否存在要加载的照片，如不存在，图片首先会被缓存起来，然后才返回要加载的图片对象；如果存在，直接返回要加载的照片对象。</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSString</span> *path = [[<span class="built_in">NSBundle</span> mainBundle]pathForResource:<span class="string">@"1.png"</span> ofType:<span class="literal">nil</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,path);</span><br><span class="line">    <span class="built_in">UIImage</span> *image2 = [<span class="built_in">UIImage</span> imageWithContentsOfFile:path];</span><br><span class="line">    <span class="comment">//  使用`imageWithContentsOfFile:`创建图片的时候，是直接从磁盘上加载。当收到内存警告时，图片对象会被释放，下一次绘图的时候，需要重新加载。</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSData</span> *data;</span><br><span class="line">    <span class="built_in">UIImage</span> *image3 = [<span class="built_in">UIImage</span> imageWithData:data];</span><br><span class="line">    <span class="comment">//  data 是照片数据，一般是请求返回的，然后通过`imageWithData:`创建图片。</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)didReceiveMemoryWarning &#123;</span><br><span class="line">    [<span class="keyword">super</span> didReceiveMemoryWarning];</span><br><span class="line">    <span class="comment">// Dispose of any resources that can be recreated.</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Objective-C </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 图片加载 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>沙盒路径(Objc)</title>
      <link href="/2017/02/23/%E6%B2%99%E7%9B%92%E8%B7%AF%E5%BE%84/"/>
      <url>/2017/02/23/%E6%B2%99%E7%9B%92%E8%B7%AF%E5%BE%84/</url>
      
        <content type="html"><![CDATA[<h4 id="沙盒路径"><a href="#沙盒路径" class="headerlink" title="沙盒路径"></a>沙盒路径</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    数据是写在Library-&gt;Preferences下</span></span><br><span class="line">    <span class="built_in">NSUserDefaults</span> *defaults1 = [<span class="built_in">NSUserDefaults</span> standardUserDefaults];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%p"</span>,defaults1);</span><br><span class="line">    <span class="built_in">NSUserDefaults</span> *defaults2 = [<span class="built_in">NSUserDefaults</span> standardUserDefaults];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%p"</span>,defaults2);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSUserDefaults</span> *defaults3 = [[<span class="built_in">NSUserDefaults</span> alloc]init];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%p"</span>,defaults3);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSArray</span> *tempArray = @[<span class="string">@"1"</span>,<span class="string">@"2"</span>];</span><br><span class="line">    [defaults1 setObject:tempArray forKey:<span class="string">@"array"</span>];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//  1、获取程序的Home目录</span></span><br><span class="line"><span class="comment">//    NSString *homeDirectory = NSHomeDirectory();</span></span><br><span class="line"><span class="comment">//    NSLog(@"path:%@", homeDirectory);</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//    2、获取document目录</span></span><br><span class="line"><span class="comment">//    NSArray *documentPaths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);</span></span><br><span class="line"><span class="comment">//    NSString *documentPath = [documentPaths objectAtIndex:0];</span></span><br><span class="line"><span class="comment">//    NSLog(@"path:%@", documentPath);</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//    3、获取Cache目录    </span></span><br><span class="line"><span class="comment">//    NSArray *CachePaths = NSSearchPathForDirectoriesInDomains(NSCachesDirectory, NSUserDomainMask, YES);</span></span><br><span class="line"><span class="comment">//    NSString *CachePath = [CachePaths objectAtIndex:0];</span></span><br><span class="line"><span class="comment">//    NSLog(@"%@", CachePath);</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//    4、获取Library目录</span></span><br><span class="line"><span class="comment">//    NSArray *LibraryPaths = NSSearchPathForDirectoriesInDomains(NSLibraryDirectory, NSUserDomainMask, YES);</span></span><br><span class="line"><span class="comment">//    NSString *LibraryPath = [LibraryPaths objectAtIndex:0];</span></span><br><span class="line"><span class="comment">//    NSLog(@"%@", LibraryPath);</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//    5、获取Tmp目录</span></span><br><span class="line"><span class="comment">//    NSString *tmpDir = NSTemporaryDirectory();</span></span><br><span class="line"><span class="comment">//    NSLog(@"%@", tmpDir);</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//    6、写入文件</span></span><br><span class="line"><span class="comment">//    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);</span></span><br><span class="line"><span class="comment">//    NSString *docDir = [paths objectAtIndex:0];</span></span><br><span class="line"><span class="comment">//    NSLog(@"%@",docDir);</span></span><br><span class="line"><span class="comment">//    if (!docDir) &#123;</span></span><br><span class="line"><span class="comment">//        NSLog(@"Documents 目录未找到");</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//    NSArray *contentArray = [[NSArray alloc] initWithObjects:@"内容",@"content",nil];</span></span><br><span class="line"><span class="comment">//    NSString *filePath = [docDir stringByAppendingPathComponent:@"testFile.txt"];</span></span><br><span class="line"><span class="comment">//    [contentArray writeToFile:filePath atomically:YES];</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">//    7、读取文件</span></span><br><span class="line">    <span class="built_in">NSArray</span> *paths = <span class="built_in">NSSearchPathForDirectoriesInDomains</span>(<span class="built_in">NSDocumentDirectory</span>, <span class="built_in">NSUserDomainMask</span>, <span class="literal">YES</span>);</span><br><span class="line">    <span class="built_in">NSString</span> *docDir = [paths objectAtIndex:<span class="number">0</span>];</span><br><span class="line">    <span class="built_in">NSString</span> *filePath = [docDir stringByAppendingPathComponent:<span class="string">@"testFile.txt"</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,filePath);</span><br><span class="line">    <span class="built_in">NSArray</span> *array = [[<span class="built_in">NSArray</span> alloc]initWithContentsOfFile:filePath];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>, array);</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">//    8、判断一个文件是否存在,传入全路径(fileExistsAtPath)</span></span><br><span class="line"><span class="comment">//    // 创建文件管理器</span></span><br><span class="line"><span class="comment">//    NSFileManager * fileManager = [NSFileManager defaultManager];</span></span><br><span class="line"><span class="comment">//    </span></span><br><span class="line"><span class="comment">//    NSString * documents = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES)lastObject];</span></span><br><span class="line"><span class="comment">//    NSString * filePath = [documents stringByAppendingPathComponent:@"test"];</span></span><br><span class="line"><span class="comment">//    </span></span><br><span class="line"><span class="comment">//    // 判断一个文件是否存在,传入全路径</span></span><br><span class="line"><span class="comment">//    if ([fileManager fileExistsAtPath:filePath]) &#123;</span></span><br><span class="line"><span class="comment">//        NSLog(@"it is exit");</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">//    9、在Documents里创建目录</span></span><br><span class="line"><span class="comment">//    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);</span></span><br><span class="line"><span class="comment">//    NSString *documentsDirectory = [paths objectAtIndex:0];</span></span><br><span class="line"><span class="comment">//    NSLog(@"documentsDirectory%@",documentsDirectory);</span></span><br><span class="line"><span class="comment">//    NSFileManager *fileManager = [NSFileManager defaultManager];</span></span><br><span class="line"><span class="comment">//    NSString *testDirectory = [documentsDirectory stringByAppendingPathComponent:@"test"];</span></span><br><span class="line"><span class="comment">//    // 创建目录</span></span><br><span class="line"><span class="comment">//    [fileManager createDirectoryAtPath:testDirectory withIntermediateDirectories:YES attributes:nil error:nil];</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">//    10、在目录下创建文件</span></span><br><span class="line"><span class="comment">//    NSString *testPath = [testDirectory stringByAppendingPathComponent:@"test00.txt"];</span></span><br><span class="line"><span class="comment">//    NSString *testPath2 = [testDirectory stringByAppendingPathComponent:@"test22.txt"];</span></span><br><span class="line"><span class="comment">//    NSString *testPath3 = [testDirectory stringByAppendingPathComponent:@"test33.txt"];</span></span><br><span class="line"><span class="comment">//    NSString *string = @"写入内容，write String";</span></span><br><span class="line"><span class="comment">//    [fileManager createFileAtPath:testPath contents:[string  dataUsingEncoding:NSUTF8StringEncoding] attributes:nil];</span></span><br><span class="line"><span class="comment">//    [fileManager createFileAtPath:testPath2 contents:[string  dataUsingEncoding:NSUTF8StringEncoding] attributes:nil];</span></span><br><span class="line"><span class="comment">//    [fileManager createFileAtPath:testPath3 contents:[string  dataUsingEncoding:NSUTF8StringEncoding] attributes:nil];</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">//    11、获取目录列里所有文件名</span></span><br><span class="line"><span class="comment">//    两种方法获取：subpathsOfDirectoryAtPath 和subpathsAtPath</span></span><br><span class="line"><span class="comment">//    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);</span></span><br><span class="line"><span class="comment">//    NSString *documentsDirectory = [paths objectAtIndex:0];</span></span><br><span class="line"><span class="comment">//    NSLog(@"documentsDirectory%@",documentsDirectory);</span></span><br><span class="line"><span class="comment">//    NSFileManager *fileManage = [NSFileManager defaultManager];</span></span><br><span class="line"><span class="comment">//    NSString *myDirectory = [documentsDirectory stringByAppendingPathComponent:@"test"];</span></span><br><span class="line"><span class="comment">//    NSArray *file = [fileManage subpathsOfDirectoryAtPath: myDirectory error:nil];</span></span><br><span class="line"><span class="comment">//    NSLog(@"%@",file);</span></span><br><span class="line"><span class="comment">//    NSArray *files = [fileManage subpathsAtPath: myDirectory ];</span></span><br><span class="line"><span class="comment">//    NSLog(@"%@",files);</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">//    12、fileManager使用操作当前目录    </span></span><br><span class="line"><span class="comment">//    //创建文件管理器</span></span><br><span class="line"><span class="comment">//    NSFileManager *fileManager = [NSFileManager defaultManager];</span></span><br><span class="line"><span class="comment">//    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);</span></span><br><span class="line"><span class="comment">//    NSString *documentsDirectory = [paths objectAtIndex:0];</span></span><br><span class="line"><span class="comment">//    //更改到待操作的目录下</span></span><br><span class="line"><span class="comment">//    [fileManager changeCurrentDirectoryPath:[documentsDirectory stringByExpandingTildeInPath]];</span></span><br><span class="line"><span class="comment">//    //创建文件fileName文件名称，contents文件的内容，如果开始没有内容可以设置为nil，attributes文件的属性，初始为nil</span></span><br><span class="line"><span class="comment">//    NSString * fileName = @"testFileNSFileManager.txt";</span></span><br><span class="line"><span class="comment">//    NSArray *array = [[NSArray alloc] initWithObjects:@"hello world",@"hello world1", @"hello world2",nil];</span></span><br><span class="line"><span class="comment">//    [fileManager createFileAtPath:fileName contents:array attributes:nil];  </span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//    13、删除文件    </span></span><br><span class="line"><span class="comment">//    [fileManager removeItemAtPath:fileName error:nil];</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)didReceiveMemoryWarning &#123;</span><br><span class="line">    [<span class="keyword">super</span> didReceiveMemoryWarning];</span><br><span class="line">    <span class="comment">// Dispose of any resources that can be recreated.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Objective-C </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 沙盒路径 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UIAlertController(Objc)</title>
      <link href="/2017/02/23/UIAlertController/"/>
      <url>/2017/02/23/UIAlertController/</url>
      
        <content type="html"><![CDATA[<h4 id="UIAlertController"><a href="#UIAlertController" class="headerlink" title="UIAlertController"></a>UIAlertController</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">2</span>; i ++) &#123;</span><br><span class="line">        <span class="built_in">UIButton</span> *button =[<span class="built_in">UIButton</span> buttonWithType:<span class="built_in">UIButtonTypeCustom</span>];</span><br><span class="line">        button.frame = <span class="built_in">CGRectMake</span>(<span class="number">120</span> + i * <span class="number">120</span>, <span class="number">120</span>, <span class="number">100</span>, <span class="number">50</span>);</span><br><span class="line">        button.backgroundColor = [<span class="built_in">UIColor</span> lightGrayColor];</span><br><span class="line">        <span class="keyword">if</span> (i == <span class="number">0</span>) &#123;</span><br><span class="line">            [button setTitle:<span class="string">@"alertView"</span> forState:<span class="built_in">UIControlStateNormal</span>];</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            [button setTitle:<span class="string">@"actionSheet"</span> forState:<span class="built_in">UIControlStateNormal</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        button.tag = <span class="number">10</span> + i ;</span><br><span class="line">        [button addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(onClick:) forControlEvents:<span class="built_in">UIControlEventTouchUpInside</span>];</span><br><span class="line">        </span><br><span class="line">        [<span class="keyword">self</span>.view addSubview:button];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)onClick:(<span class="built_in">UIButton</span>*)button&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (button.tag == <span class="number">10</span>) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"alertView"</span>);</span><br><span class="line">        [<span class="keyword">self</span> alertView];</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"actionSheet"</span>);</span><br><span class="line">        [<span class="keyword">self</span> actionSheet];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)actionSheet&#123;</span><br><span class="line"><span class="comment">//    初始化UIAlertCOntroller</span></span><br><span class="line"><span class="comment">//    Title:标题</span></span><br><span class="line"><span class="comment">//    message:信息</span></span><br><span class="line"><span class="comment">//    Style:样式</span></span><br><span class="line">    <span class="built_in">UIAlertController</span> *alertController = [<span class="built_in">UIAlertController</span> alertControllerWithTitle:<span class="string">@"提示"</span> message:<span class="string">@"message"</span> preferredStyle:<span class="built_in">UIAlertControllerStyleActionSheet</span>];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    初始化UIAlertAction</span></span><br><span class="line">    <span class="built_in">UIAlertAction</span> *cancelBtn = [<span class="built_in">UIAlertAction</span> actionWithTitle:<span class="string">@"取消"</span> style:<span class="built_in">UIAlertActionStyleCancel</span> handler:^(<span class="built_in">UIAlertAction</span> *  action) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"取消"</span>);</span><br><span class="line">    &#125;];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UIAlertAction</span> *firstBtn = [<span class="built_in">UIAlertAction</span> actionWithTitle:<span class="string">@"first"</span> style:<span class="built_in">UIAlertActionStyleDefault</span> handler:^(<span class="built_in">UIAlertAction</span> * action) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"取消"</span>);</span><br><span class="line">    &#125;];</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    [alertController addAction:cancelBtn];</span><br><span class="line">    [alertController addAction:firstBtn];</span><br><span class="line">    [<span class="keyword">self</span> presentViewController:alertController animated:<span class="literal">YES</span> completion:<span class="literal">nil</span>];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)alertView&#123;</span><br><span class="line"><span class="comment">//    初始化UIAlertController</span></span><br><span class="line"><span class="comment">//    Title:标题</span></span><br><span class="line"><span class="comment">//    message:信息</span></span><br><span class="line"><span class="comment">//    Style:样式</span></span><br><span class="line">    <span class="built_in">UIAlertController</span> *alertController = [<span class="built_in">UIAlertController</span> alertControllerWithTitle:<span class="string">@"提示"</span> message:<span class="string">@"message"</span> preferredStyle:<span class="built_in">UIAlertControllerStyleAlert</span>];</span><br><span class="line"><span class="comment">//    UIAlertControllerStyleActionSheet</span></span><br><span class="line"><span class="comment">//    UIAlertControllerStyleAlert</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//    初始化按钮</span></span><br><span class="line"><span class="comment">//    Title：标题</span></span><br><span class="line"><span class="comment">//    style：样式</span></span><br><span class="line"><span class="comment">//    UIAlertController 上面只能有一个取消样式的按钮，否则会崩溃</span></span><br><span class="line">    <span class="built_in">UIAlertAction</span> *cancelBtn = [<span class="built_in">UIAlertAction</span> actionWithTitle:<span class="string">@"取消"</span> style:<span class="built_in">UIAlertActionStyleCancel</span> handler:^(<span class="built_in">UIAlertAction</span> *  action) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"取消"</span>);</span><br><span class="line">    &#125;];</span><br><span class="line"><span class="comment">//    UIAlertActionStyleDefault = 0,普通按钮</span></span><br><span class="line"><span class="comment">//    UIAlertActionStyleCancel,取消按钮</span></span><br><span class="line"><span class="comment">//    UIAlertActionStyleDestructive重置、销毁</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    添加文本输入框</span></span><br><span class="line">    [alertController addTextFieldWithConfigurationHandler:^(<span class="built_in">UITextField</span> *  textField) &#123;</span><br><span class="line">        textField.placeholder = <span class="string">@"请输入"</span>;</span><br><span class="line">    &#125;];</span><br><span class="line">    </span><br><span class="line">    [alertController addTextFieldWithConfigurationHandler:^(<span class="built_in">UITextField</span> * textField) &#123;</span><br><span class="line">        textField.placeholder = <span class="string">@"第二个文本输入框"</span>;</span><br><span class="line">    &#125;];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UIAlertAction</span> *resetBtn = [<span class="built_in">UIAlertAction</span> actionWithTitle:<span class="string">@"reset"</span> style:<span class="built_in">UIAlertActionStyleDestructive</span> handler:^(<span class="built_in">UIAlertAction</span> *  action) &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">UITextField</span> *textField1 = alertController.textFields[<span class="number">0</span>];</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,textField1.text);</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">UITextField</span> *textField2 = alertController.textFields[<span class="number">1</span>];</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,textField2.text);</span><br><span class="line">    &#125;];</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">//    添加动作</span></span><br><span class="line">    [alertController addAction:cancelBtn];</span><br><span class="line">    [alertController addAction:resetBtn];</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">//    模态</span></span><br><span class="line">    [<span class="keyword">self</span> presentViewController:alertController animated:<span class="literal">YES</span> completion:<span class="literal">nil</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Objective-C </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIAlertController </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UIActivityIndicatorView(Objc)</title>
      <link href="/2017/02/22/UIActivityIndicatorView/"/>
      <url>/2017/02/22/UIActivityIndicatorView/</url>
      
        <content type="html"><![CDATA[<h4 id="UIActivityIndicatorView"><a href="#UIActivityIndicatorView" class="headerlink" title="UIActivityIndicatorView"></a>UIActivityIndicatorView</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"myButton.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">myButton</span></span></span><br><span class="line"></span><br><span class="line">+(<span class="built_in">UIButton</span> *)buttonWithFrame:(<span class="built_in">CGRect</span>)frame BGColor:(<span class="built_in">UIColor</span> *)color Title:(<span class="built_in">NSString</span> *)title NormalImage:(<span class="built_in">UIImage</span> *)normalImage Tag:(<span class="keyword">int</span>)tag Method:(SEL)method Object:(<span class="keyword">id</span>)object&#123;</span><br><span class="line">    <span class="built_in">UIButton</span> *button = [<span class="built_in">UIButton</span> buttonWithType:<span class="built_in">UIButtonTypeCustom</span>];</span><br><span class="line">    button.frame = frame;</span><br><span class="line">    button.backgroundColor = color;</span><br><span class="line">    [button setTitle:title forState:<span class="built_in">UIControlStateNormal</span>];</span><br><span class="line">    button.tag = tag;</span><br><span class="line">    [button setBackgroundImage:normalImage forState:<span class="built_in">UIControlStateNormal</span>];</span><br><span class="line">    [button addTarget:object action:method forControlEvents:<span class="built_in">UIControlEventTouchUpInside</span>];</span><br><span class="line">    <span class="keyword">return</span> button;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"myButton.h"</span></span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">UIActivityIndicatorView</span> *act;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span> createBtn];</span><br><span class="line">    [<span class="keyword">self</span> createActivityIndicatorView];</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)onClick:(<span class="built_in">UIButton</span>*)button&#123;</span><br><span class="line">    <span class="keyword">if</span> (act.isAnimating == <span class="literal">YES</span>) &#123;</span><br><span class="line">        [act stopAnimating];</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(act.isAnimating == <span class="literal">NO</span>)&#123;</span><br><span class="line">        [act startAnimating];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)createActivityIndicatorView&#123;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    UIActivityIndicatorViewStyleWhiteLarge,大白</span></span><br><span class="line"><span class="comment">//    UIActivityIndicatorViewStyleWhite,白色</span></span><br><span class="line"><span class="comment">//    UIActivityIndicatorViewStyleGray 灰色</span></span><br><span class="line"><span class="comment">//    初始化并设置样式</span></span><br><span class="line">    act = [[<span class="built_in">UIActivityIndicatorView</span> alloc]initWithActivityIndicatorStyle:<span class="built_in">UIActivityIndicatorViewStyleGray</span>];</span><br><span class="line">    act.frame = <span class="built_in">CGRectMake</span>(<span class="number">100</span>, <span class="number">300</span>, <span class="number">50</span>, <span class="number">50</span>);</span><br><span class="line"><span class="comment">//    设置中心点为屏幕中心点</span></span><br><span class="line">    act.center = <span class="keyword">self</span>.view.center;</span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:act];</span><br><span class="line">    </span><br><span class="line">    act.backgroundColor = [<span class="built_in">UIColor</span> redColor];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    设置变大4倍</span></span><br><span class="line">    act.transform = <span class="built_in">CGAffineTransformMakeScale</span>(<span class="number">4</span>, <span class="number">4</span>);</span><br><span class="line">    </span><br><span class="line">    act.tag = <span class="number">10</span>;</span><br><span class="line"><span class="comment">//    停止时是否隐藏，默认是YES</span></span><br><span class="line">    act.hidesWhenStopped = <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)createBtn&#123;</span><br><span class="line">    <span class="built_in">UIButton</span> *startBtn = [myButton buttonWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">100</span>, <span class="number">100</span>, <span class="number">50</span>, <span class="number">50</span>) BGColor:[<span class="built_in">UIColor</span> lightGrayColor] Title:<span class="string">@"开始"</span> NormalImage:<span class="literal">nil</span> Tag:<span class="number">10</span> Method:<span class="keyword">@selector</span>(onClick:) Object:<span class="keyword">self</span>];</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:startBtn];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UIButton</span> *endBtn = [myButton buttonWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">180</span>, <span class="number">100</span>, <span class="number">50</span>, <span class="number">50</span>) BGColor:[<span class="built_in">UIColor</span> lightGrayColor] Title:<span class="string">@"停止"</span> NormalImage:<span class="literal">nil</span> Tag:<span class="number">11</span> Method:<span class="keyword">@selector</span>(onClick:) Object:<span class="keyword">self</span>];</span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:endBtn];</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span>.view setBackgroundColor:[<span class="built_in">UIColor</span> yellowColor]];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Objective-C </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIActivityIndicatorView </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>路径解析(Objc)</title>
      <link href="/2017/02/18/%E8%B7%AF%E5%BE%84%E8%A7%A3%E6%9E%90/"/>
      <url>/2017/02/18/%E8%B7%AF%E5%BE%84%E8%A7%A3%E6%9E%90/</url>
      
        <content type="html"><![CDATA[<h4 id="路径解析"><a href="#路径解析" class="headerlink" title="路径解析"></a>路径解析</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"FyQuestion.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">FyQuestion</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 判断是绝对路径: 以 /开头的就是绝对路径</span></span><br><span class="line"><span class="comment">//   --&gt;./ios/day1/</span></span><br><span class="line"><span class="comment">//  --&gt;/oc/day</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)isAbsolutePath:(<span class="built_in">NSString</span> *)path &#123;</span><br><span class="line">    <span class="comment">//直接利用判断开头的这样的方法 harPrefix</span></span><br><span class="line">    <span class="keyword">return</span> [path hasPrefix:<span class="string">@"/"</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 取得路径path最后的部分 /home/xuanmac ---&gt; xuanmac, /home/xuanmac/1.txt---&gt;1.txt</span></span><br><span class="line">- (<span class="built_in">NSString</span> *)lastPathComponent:(<span class="built_in">NSString</span> *)path &#123;</span><br><span class="line">    <span class="comment">//第一步，判断是否末尾存在/</span></span><br><span class="line">    <span class="keyword">int</span> flag = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">NSString</span> * subStr = <span class="literal">nil</span>;</span><br><span class="line">    <span class="keyword">if</span> ([path hasSuffix:<span class="string">@"/"</span>]) &#123;</span><br><span class="line">        <span class="comment">//截取字符方法，subStringToIndex</span></span><br><span class="line">        subStr = [path substringToIndex:[path length] - <span class="number">1</span>];</span><br><span class="line">        flag = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//利用查找字符串方法，option 是倒序查找</span></span><br><span class="line">    <span class="comment">//查找方法，返回的是一个范围</span></span><br><span class="line">    <span class="built_in">NSRange</span> range = &#123;<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">        <span class="comment">//NSBackwardsSearch 倒序查找的指令</span></span><br><span class="line">        range = [subStr rangeOfString:<span class="string">@"/"</span> options:<span class="built_in">NSBackwardsSearch</span>];</span><br><span class="line">        <span class="comment">//substringFromIndex 从指定位置到字符串结尾，包括指定位置</span></span><br><span class="line">        <span class="keyword">return</span> [subStr substringFromIndex:range.location + <span class="number">1</span>];</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        range = [path rangeOfString:<span class="string">@"/"</span> options:<span class="built_in">NSBackwardsSearch</span>];</span><br><span class="line">        <span class="keyword">return</span> [path substringFromIndex:range.location + <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 删除路径path最后的部分 /home/xuanmac/ ---&gt; /home, /home/xuanmac/1.txt---&gt;/home/xuanmac</span></span><br><span class="line">- (<span class="built_in">NSString</span> *)stringByDeletingLastPathComponent:(<span class="built_in">NSString</span> *)path &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSString</span> * subStr =  <span class="literal">nil</span>;</span><br><span class="line">    <span class="comment">//判断path末尾是不是以/结尾</span></span><br><span class="line">    <span class="keyword">if</span> ([path hasSuffix:<span class="string">@"/"</span>]) &#123;</span><br><span class="line">        subStr = [path substringToIndex:path.length - <span class="number">1</span>];</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        subStr = path;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//倒序查找</span></span><br><span class="line">    <span class="built_in">NSRange</span> range = [subStr rangeOfString:<span class="string">@"/"</span> options:<span class="built_in">NSBackwardsSearch</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSString</span> * str = [subStr substringToIndex:range.location];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> [<span class="built_in">NSString</span> stringWithString:str];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 在路径上追加路径/home/xuanmac/ 和 demo/abc--&gt;/home/xuanmac/demo/abc</span></span><br><span class="line">- (<span class="built_in">NSString</span> *)stringByAppendingPathComponent:(<span class="built_in">NSString</span> *)path withPath:(<span class="built_in">NSString</span> *)subPath &#123;</span><br><span class="line">    <span class="built_in">NSMutableString</span> * mStr = [<span class="built_in">NSMutableString</span> stringWithString:path];</span><br><span class="line">    <span class="comment">//判断是否是以/结尾</span></span><br><span class="line">    <span class="keyword">if</span> ([mStr hasSuffix:<span class="string">@"/"</span>]) &#123;</span><br><span class="line">        <span class="keyword">if</span> ([subPath hasPrefix:<span class="string">@"/"</span>]) &#123;</span><br><span class="line">            [mStr appendString:[subPath substringFromIndex:<span class="number">1</span>]];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            [mStr appendString:subPath];</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> ([subPath hasPrefix:<span class="string">@"/"</span>]) &#123;</span><br><span class="line">            [mStr appendFormat:<span class="string">@"/%@"</span>,[subPath substringFromIndex:<span class="number">1</span>]];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            [mStr appendFormat:<span class="string">@"/%@"</span>,subPath];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> [<span class="built_in">NSString</span> stringWithString:mStr];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 取得文件的扩展名/home/xuanmac/1.txt --&gt; txt</span></span><br><span class="line">- (<span class="built_in">NSString</span> *)pathExtension:(<span class="built_in">NSString</span> *)path &#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> 1</span></span><br><span class="line">    <span class="comment">//pathExtension 获取路径拓展名</span></span><br><span class="line">    <span class="built_in">NSString</span> * str = path.pathExtension;</span><br><span class="line">    <span class="keyword">return</span> [<span class="built_in">NSString</span> stringWithString:str];</span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line">    <span class="built_in">NSRange</span> range = [path rangeOfString:<span class="string">@"."</span> options:<span class="built_in">NSBackwardsSearch</span>];</span><br><span class="line">    <span class="built_in">NSString</span> * str = [path substringFromIndex:range.location + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">return</span> [<span class="built_in">NSString</span> stringWithString:str];</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 删除文件扩展名/home/xuanmac/1.txt --&gt; /home/xuanmac/1</span></span><br><span class="line">- (<span class="built_in">NSString</span> *)stringByDeletingPathExtension:(<span class="built_in">NSString</span> *)path &#123;</span><br><span class="line">    <span class="built_in">NSRange</span> range = [path rangeOfString:<span class="string">@"."</span> options:<span class="built_in">NSBackwardsSearch</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSString</span> * str = [path substringToIndex:range.location];</span><br><span class="line">    <span class="keyword">return</span> [<span class="built_in">NSString</span> stringWithString:str];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 去除里面多余的 /路径  Duplicate重复 Slash表示斜线</span></span><br><span class="line"><span class="comment">// path = @"///home//xuanmac/ios/oc/day1/"; 返回@"/home/xuanmac/ios/oc/day1"</span></span><br><span class="line">- (<span class="built_in">NSString</span> *) removeDuplicateSlash:(<span class="built_in">NSString</span> *)path &#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> 1</span></span><br><span class="line">    <span class="comment">//看到//我们就要处理掉一个，知道在path没有// NSNotFound</span></span><br><span class="line">    <span class="comment">//path 转换成可变字符串</span></span><br><span class="line">    <span class="built_in">NSMutableString</span> * mStr = [<span class="built_in">NSMutableString</span> stringWithString:path];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">NSRange</span> range = [mStr rangeOfString:<span class="string">@"//"</span>];</span><br><span class="line">        <span class="comment">//判断是否还存在，如果不存在@"//",跳出循环</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">NSNotFound</span> == range.location) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//每次都删除//当中的一个</span></span><br><span class="line">        [mStr deleteCharactersInRange:<span class="built_in">NSMakeRange</span>(range.location, <span class="number">1</span>)];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//处理完//之后，我们要处理路径末尾的/</span></span><br><span class="line">    <span class="keyword">if</span>([mStr hasSuffix:<span class="string">@"/"</span>])</span><br><span class="line">    &#123;</span><br><span class="line">        [mStr deleteCharactersInRange:<span class="built_in">NSMakeRange</span>(mStr.length - <span class="number">1</span>, <span class="number">1</span>)];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> [<span class="built_in">NSString</span> stringWithString:mStr];</span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span> </span></span><br><span class="line">    <span class="built_in">NSArray</span> * array = [path componentsSeparatedByString:<span class="string">@"/"</span>];</span><br><span class="line">    <span class="built_in">NSMutableArray</span> * mArray = [<span class="built_in">NSMutableArray</span> arrayWithArray:array];</span><br><span class="line">    [mArray removeObject:<span class="string">@""</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> [mArray componentsJoinedByString:<span class="string">@"/"</span>];<span class="comment">//?????</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//-获取路径中的所有目录名----&gt;/home/xuanmac/ios/oc ---&gt;home  xuanmac  ios   oc</span></span><br><span class="line">- (<span class="built_in">NSArray</span> *)pathComponents:(<span class="built_in">NSString</span>*)path &#123;</span><br><span class="line">    <span class="keyword">return</span> [path componentsSeparatedByString:<span class="string">@"/"</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">+ (<span class="keyword">void</span>)test &#123;</span><br><span class="line">    FyQuestion * test = [[FyQuestion alloc] init];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"第一题"</span>);</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%hhd"</span>,[test isAbsolutePath:<span class="string">@"./ios/day1/"</span>]);</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%hhd"</span>,[test isAbsolutePath:<span class="string">@"/ios/day1/"</span>]);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"第二题"</span>);</span><br><span class="line">    <span class="built_in">NSString</span> * str1 = [test lastPathComponent:<span class="string">@"/ios/day1/"</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,str1);</span><br><span class="line">    <span class="built_in">NSString</span> * str2 = [test lastPathComponent:<span class="string">@"/ios/day1/1.txt"</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,str2);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"第三题"</span>);</span><br><span class="line">    <span class="built_in">NSString</span> * str3 = [test stringByDeletingLastPathComponent:<span class="string">@"/ios/day1/"</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,str3);</span><br><span class="line">    <span class="built_in">NSString</span> * str4 = [test stringByDeletingLastPathComponent:<span class="string">@"/ios/day1/1.txt"</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,str4);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"第四题"</span>);</span><br><span class="line">    <span class="built_in">NSString</span> * str5 = [test stringByAppendingPathComponent:<span class="string">@"/ios/day1/"</span> withPath:<span class="string">@"1.txt"</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,str5);</span><br><span class="line">    <span class="built_in">NSString</span> * str6 = [test stringByAppendingPathComponent:<span class="string">@"/ios/day1"</span> withPath:<span class="string">@"/test/1.txt"</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,str6);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"第五题"</span>);</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,[test pathExtension:<span class="string">@"/test/1.txt"</span>]);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"第六题"</span>);</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,[test stringByDeletingPathExtension:<span class="string">@"/test/1.txt"</span>]);</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"第七题"</span>);</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,[test removeDuplicateSlash:<span class="string">@"/////////fdjkasj//fdhk///fdjsalfkjs///"</span>]);</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"第八题"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"第备用题"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Objective-C </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 路径解析 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UITextFieldDelegate</title>
      <link href="/2017/02/13/UITextFieldDelegate/"/>
      <url>/2017/02/13/UITextFieldDelegate/</url>
      
        <content type="html"><![CDATA[<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"RootViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">RootViewController</span> ()&lt;<span class="title">UITextFieldDelegate</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">RootViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span> createTextField];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//创建UITextField</span></span><br><span class="line">-(<span class="keyword">void</span>)createTextField&#123;</span><br><span class="line"><span class="comment">//    初始化UITextField</span></span><br><span class="line">    <span class="built_in">UITextField</span> *textField = [[<span class="built_in">UITextField</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">100</span>, <span class="number">400</span>, <span class="number">180</span>, <span class="number">50</span>)];</span><br><span class="line"><span class="comment">//    设置背景色</span></span><br><span class="line">    textField.backgroundColor = [<span class="built_in">UIColor</span> yellowColor];</span><br><span class="line"><span class="comment">//    设置边框样式</span></span><br><span class="line">    textField.borderStyle = <span class="built_in">UITextBorderStyleRoundedRect</span>;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">//    一键清除butotn</span></span><br><span class="line">    textField.clearButtonMode = <span class="built_in">UITextFieldViewModeWhileEditing</span>;</span><br><span class="line">    </span><br><span class="line">    textField.delegate = <span class="keyword">self</span>;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    添加到视图</span></span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:textField];</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark - delegate</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//点击return键，执行的方法</span></span><br><span class="line">-(<span class="built_in">BOOL</span>)textFieldShouldReturn:(<span class="built_in">UITextField</span> *)textField&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"点击了return"</span>);</span><br><span class="line"><span class="comment">//    注销第一响应</span></span><br><span class="line">    [textField resignFirstResponder];</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//是否能进入编辑</span></span><br><span class="line">-(<span class="built_in">BOOL</span>)textFieldShouldBeginEditing:(<span class="built_in">UITextField</span> *)textField&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"将要开始编辑"</span>);</span><br><span class="line"><span class="comment">//    YES:可以进入编辑</span></span><br><span class="line"><span class="comment">//    NO:不能进入编辑</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//当上面的方法返回YES的时候，才会调用此代理方法</span></span><br><span class="line">-(<span class="keyword">void</span>)textFieldDidBeginEditing:(<span class="built_in">UITextField</span> *)textField&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"已经开始编辑"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//将要结束编辑</span></span><br><span class="line">-(<span class="built_in">BOOL</span>)textFieldShouldEndEditing:(<span class="built_in">UITextField</span> *)textField&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"将要结束编辑"</span>);</span><br><span class="line">    <span class="comment">//    YES:可以结束编辑</span></span><br><span class="line">    <span class="comment">//    NO:不能结束编辑</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//当上面的方法返回YES的时候，才会调用此代理方法</span></span><br><span class="line"><span class="comment">//已经结束编辑</span></span><br><span class="line">-(<span class="keyword">void</span>)textFieldDidEndEditing:(<span class="built_in">UITextField</span> *)textField&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"已经结束编辑"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//点击clearButton时调用的方法</span></span><br><span class="line">-(<span class="built_in">BOOL</span>)textFieldShouldClear:(<span class="built_in">UITextField</span> *)textField&#123;</span><br><span class="line"><span class="comment">//    当textField.text值是1的时候，不允许删除</span></span><br><span class="line">    <span class="keyword">if</span> ([textField.text isEqualToString:<span class="string">@"1"</span>]) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NO</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    YES:允许删除</span></span><br><span class="line"><span class="comment">//    NO:不允许删除</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//获得每一次输入的字符</span></span><br><span class="line">-(<span class="built_in">BOOL</span>)textField:(<span class="built_in">UITextField</span> *)textField shouldChangeCharactersInRange:(<span class="built_in">NSRange</span>)range replacementString:(<span class="built_in">NSString</span> *)string&#123;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    NSLog(@"string = %@",string);</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//    根据每次输入的字符，组成一个字符串</span></span><br><span class="line">    <span class="built_in">NSMutableString</span> *mutableString = [[<span class="built_in">NSMutableString</span> alloc]initWithString:textField.text];</span><br><span class="line">    [mutableString insertString:string atIndex:range.location];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,mutableString);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Objective-C </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UITextField </tag>
            
            <tag> UITextFieldDelegate </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>View切换层级</title>
      <link href="/2017/02/12/View%E5%B1%82%E7%BA%A7%E5%85%B3%E7%B3%BB/"/>
      <url>/2017/02/12/View%E5%B1%82%E7%BA%A7%E5%85%B3%E7%B3%BB/</url>
      
        <content type="html"><![CDATA[<h4 id="View切换层级"><a href="#View切换层级" class="headerlink" title="View切换层级"></a>View切换层级</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"RootViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">RootViewController</span> ()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">RootViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span> createSubViews];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">-(<span class="keyword">void</span>)createSubViews&#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">UILabel</span> *redLabel = [[<span class="built_in">UILabel</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">10</span>, <span class="number">10</span>, <span class="number">100</span>, <span class="number">100</span>)];</span><br><span class="line">    redLabel.backgroundColor = [<span class="built_in">UIColor</span> redColor];</span><br><span class="line">    redLabel.text = <span class="string">@"红色"</span>;</span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:redLabel];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UILabel</span> *greenLabel = [[<span class="built_in">UILabel</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">50</span>, <span class="number">50</span>, <span class="number">100</span>, <span class="number">100</span>)];</span><br><span class="line">    greenLabel.backgroundColor = [<span class="built_in">UIColor</span> greenColor];</span><br><span class="line">    greenLabel.text = <span class="string">@"绿色"</span>;</span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:greenLabel];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UILabel</span> *blueLabel = [[<span class="built_in">UILabel</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">80</span>, <span class="number">80</span>, <span class="number">100</span>, <span class="number">100</span>)];</span><br><span class="line">    blueLabel.backgroundColor = [<span class="built_in">UIColor</span> blueColor];</span><br><span class="line">    blueLabel.text = <span class="string">@"蓝色"</span>;</span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:blueLabel];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    把子视图提到最前面</span></span><br><span class="line"><span class="comment">//    [self.view bringSubviewToFront:redLabel];</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//    把子视图放到最底层</span></span><br><span class="line"><span class="comment">//    [self.view sendSubviewToBack:blueLabel];</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//    把某一个子视图放到第0层</span></span><br><span class="line"><span class="comment">//    [self.view insertSubview:blueLabel atIndex:0];</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//    把blueLabel 放到greenLabel 下面</span></span><br><span class="line"><span class="comment">//    [self.view insertSubview:blueLabel belowSubview:greenLabel];</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//    把blueLabel放置到redLabel 上面</span></span><br><span class="line"><span class="comment">//    [self.view insertSubview:redLabel aboveSubview:blueLabel];</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"subViews = %@"</span>,<span class="keyword">self</span>.view.subviews);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Objective-C </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Objective-C </tag>
            
            <tag> View层级 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>键盘状态监听(Objc)</title>
      <link href="/2017/02/10/%E9%94%AE%E7%9B%98%E7%8A%B6%E6%80%81%E7%9B%91%E5%90%AC/"/>
      <url>/2017/02/10/%E9%94%AE%E7%9B%98%E7%8A%B6%E6%80%81%E7%9B%91%E5%90%AC/</url>
      
        <content type="html"><![CDATA[<h4 id="键盘状态监听"><a href="#键盘状态监听" class="headerlink" title="键盘状态监听"></a>键盘状态监听</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"RootViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">RootViewController</span> ()&lt;<span class="title">UITextFieldDelegate</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">RootViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UIView</span> *myView = [[<span class="built_in">UIView</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">200</span>, <span class="number">200</span>)];</span><br><span class="line">    myView.backgroundColor = [<span class="built_in">UIColor</span> blackColor];</span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:myView];</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span>.view setBackgroundColor:[<span class="built_in">UIColor</span> redColor]];</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span> createTextField];</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)createTextField&#123;</span><br><span class="line"><span class="comment">//    初始化UITextField并设置frame</span></span><br><span class="line">    <span class="built_in">UITextField</span> *textField = [[<span class="built_in">UITextField</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">100</span>, <span class="number">400</span>, <span class="number">100</span>, <span class="number">50</span>)];</span><br><span class="line"><span class="comment">//    设置背景色</span></span><br><span class="line">    textField.backgroundColor = [<span class="built_in">UIColor</span> yellowColor];</span><br><span class="line">    </span><br><span class="line">    textField.delegate = <span class="keyword">self</span>;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    添加到视图</span></span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:textField];</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//    键盘状态改变的时候，会发出以下通知</span></span><br><span class="line">    <span class="comment">//    UIKeyboardWillShowNotification; 键盘即将显示</span></span><br><span class="line">    <span class="comment">//    UIKeyboardDidShowNotification; 键盘显示完毕</span></span><br><span class="line">    <span class="comment">//    UIKeyboardWillHideNotification; 键盘即将消失</span></span><br><span class="line">    <span class="comment">//    UIKeyboardDidHideNotification;键盘消失完毕</span></span><br><span class="line">    <span class="comment">//    UIKeyboardWillChangeFrameNotification 键盘即将改变frame</span></span><br><span class="line">    <span class="comment">//    UIKeyboardDidChangeFrameNotification 键盘已经改变frame</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//    获取通知中心</span></span><br><span class="line">    <span class="built_in">NSNotificationCenter</span>*center =  [<span class="built_in">NSNotificationCenter</span> defaultCenter];</span><br><span class="line">   </span><br><span class="line"><span class="comment">//  监听键盘弹出通知</span></span><br><span class="line">    [center addObserver:<span class="keyword">self</span> selector:<span class="keyword">@selector</span>(KeyboardWillShow:) name:<span class="built_in">UIKeyboardWillShowNotification</span> object:<span class="literal">nil</span>];</span><br><span class="line"><span class="comment">//    监听键盘收起通知</span></span><br><span class="line">    [center addObserver:<span class="keyword">self</span> selector:<span class="keyword">@selector</span>(KeyboardWillHide:) name:<span class="built_in">UIKeyboardWillHideNotification</span> object:<span class="literal">nil</span>];</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    成为第一响应者</span></span><br><span class="line"><span class="comment">//    [textField becomeFirstResponder];</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//键盘将要消失时</span></span><br><span class="line">-(<span class="keyword">void</span>)KeyboardWillHide:(<span class="built_in">NSNotification</span>*)noti&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,noti.userInfo);</span><br><span class="line"><span class="comment">//    UIKeyboardAnimationDurationUserInfoKey = "0.25";</span></span><br><span class="line"><span class="comment">//    UIKeyboardBoundsUserInfoKey = "NSRect: &#123;&#123;0, 0&#125;, &#123;375, 258&#125;&#125;";</span></span><br><span class="line"><span class="comment">//    UIKeyboardFrameBeginUserInfoKey = "NSRect: &#123;&#123;0, 409&#125;, &#123;375, 258&#125;&#125;";</span></span><br><span class="line"><span class="comment">//    UIKeyboardFrameEndUserInfoKey = "NSRect: &#123;&#123;0,667&#125;, &#123;375, 258&#125;&#125;";</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">self</span>.view.frame = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="keyword">self</span>.view.frame.size.width, <span class="keyword">self</span>.view.frame.size.height);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//键盘将要出现</span></span><br><span class="line">-(<span class="keyword">void</span>)KeyboardWillShow:(<span class="built_in">NSNotification</span>*)noti&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,noti.userInfo);</span><br><span class="line"><span class="comment">//    UIKeyboardAnimationDurationUserInfoKey = "0.25";</span></span><br><span class="line"><span class="comment">//    UIKeyboardBoundsUserInfoKey = "NSRect: &#123;&#123;0, 0&#125;, &#123;375, 258&#125;&#125;";</span></span><br><span class="line"><span class="comment">//    UIKeyboardFrameBeginUserInfoKey = "NSRect: &#123;&#123;0, 667&#125;, &#123;375, 258&#125;&#125;";</span></span><br><span class="line"><span class="comment">//    UIKeyboardFrameEndUserInfoKey = "NSRect: &#123;&#123;0, 409&#125;, &#123;375, 258&#125;&#125;";</span></span><br><span class="line"><span class="comment">//    UIKeyboardIsLocalUserInfoKey = 1;</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">CGRect</span> rect =  [noti.userInfo[<span class="built_in">UIKeyboardFrameEndUserInfoKey</span>]<span class="built_in">CGRectValue</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"rect = %@"</span>,<span class="built_in">NSStringFromCGRect</span>(rect));</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">self</span>.view.frame  = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, -rect.size.height, <span class="keyword">self</span>.view.frame.size.width, <span class="keyword">self</span>.view.frame.size.height);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark - textField delegate</span></span><br><span class="line">-(<span class="built_in">BOOL</span>)textFieldShouldReturn:(<span class="built_in">UITextField</span> *)textField&#123;</span><br><span class="line"><span class="comment">//    取消第一响应者</span></span><br><span class="line">    [textField resignFirstResponder];</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Objective-C </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 键盘监听 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>手机晃动事件(Objc)</title>
      <link href="/2017/01/29/%E6%89%8B%E6%9C%BA%E6%99%83%E5%8A%A8%E4%BA%8B%E4%BB%B6OC/"/>
      <url>/2017/01/29/%E6%89%8B%E6%9C%BA%E6%99%83%E5%8A%A8%E4%BA%8B%E4%BB%B6OC/</url>
      
        <content type="html"><![CDATA[<h4 id="手机晃动事件"><a href="#手机晃动事件" class="headerlink" title="手机晃动事件"></a>手机晃动事件</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> screenWidth self.view.frame.size.width</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> screenHeight self.view.frame.size.height</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">UIImageView</span> *_topImageView;</span><br><span class="line">    <span class="built_in">UIImageView</span> *_bottomImageView;</span><br><span class="line">    <span class="built_in">UIImageView</span> *_showImageView;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span> createImageViews];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//检测到手机晃动</span></span><br><span class="line">-(<span class="keyword">void</span>)motionBegan:(<span class="built_in">UIEventSubtype</span>)motion withEvent:(<span class="built_in">UIEvent</span> *)event&#123;</span><br><span class="line"><span class="comment">//    显示中间的图片</span></span><br><span class="line">    [<span class="keyword">self</span> showImageView];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"晃动开始"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//晃动结束</span></span><br><span class="line">-(<span class="keyword">void</span>)motionEnded:(<span class="built_in">UIEventSubtype</span>)motion withEvent:(<span class="built_in">UIEvent</span> *)event&#123;</span><br><span class="line"><span class="comment">//    隐藏中间的图片</span></span><br><span class="line">    [<span class="keyword">self</span> hideImageView];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"晃动结束"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">-(<span class="keyword">void</span>)hideImageView&#123;</span><br><span class="line">    [<span class="built_in">UIView</span> animateWithDuration:<span class="number">2</span> animations:^&#123;</span><br><span class="line">      <span class="comment">//        设置返回原始位置</span></span><br><span class="line">        _topImageView.frame = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, screenWidth, screenHeight/<span class="number">2</span>);</span><br><span class="line">        _bottomImageView.frame = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, screenHeight/<span class="number">2</span>, screenWidth, screenHeight/<span class="number">2</span>);</span><br><span class="line">    &#125;];</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)showImageView&#123;</span><br><span class="line"><span class="comment">//    使用动画为了更美观</span></span><br><span class="line">    [<span class="built_in">UIView</span> animateWithDuration:<span class="number">1</span> animations:^&#123;</span><br><span class="line">        </span><br><span class="line">        _topImageView.frame = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">-100</span>, screenWidth, screenHeight/<span class="number">2</span>);</span><br><span class="line">        _bottomImageView.frame = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, screenHeight/<span class="number">2</span> + <span class="number">100</span>, screenWidth, screenHeight/<span class="number">2</span>);</span><br><span class="line">    &#125;];</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark 创建UI</span></span><br><span class="line">-(<span class="keyword">void</span>)createImageViews&#123;</span><br><span class="line">    </span><br><span class="line">    _showImageView = [[<span class="built_in">UIImageView</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">150</span>, <span class="number">150</span>)];</span><br><span class="line">    _showImageView.center = <span class="keyword">self</span>.view.center;</span><br><span class="line">    _showImageView.image = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"ShakeHideImg_women"</span>];</span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:_showImageView];</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    _topImageView = [[<span class="built_in">UIImageView</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="keyword">self</span>.view.frame.size.width, <span class="keyword">self</span>.view.frame.size.height/<span class="number">2</span>)];</span><br><span class="line">    _topImageView.image = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"Shake_Logo_Up"</span>];</span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:_topImageView];</span><br><span class="line">    </span><br><span class="line">    _bottomImageView = [[<span class="built_in">UIImageView</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="keyword">self</span>.view.frame.size.height/<span class="number">2</span>, <span class="keyword">self</span>.view.frame.size.width, <span class="keyword">self</span>.view.frame.size.height/<span class="number">2</span>)];</span><br><span class="line">    _bottomImageView.image = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"Shake_Logo_Down"</span>];</span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:_bottomImageView];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Objective-C </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 手机晃动事件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OC画图</title>
      <link href="/2017/01/27/OC%E7%94%BB%E5%9B%BE/"/>
      <url>/2017/01/27/OC%E7%94%BB%E5%9B%BE/</url>
      
        <content type="html"><![CDATA[<h4 id="OC画图"><a href="#OC画图" class="headerlink" title="OC画图"></a>OC画图</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"Customview.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Customview</span></span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSMutableArray</span> *lineArray;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">id</span>)initWithFrame:(<span class="built_in">CGRect</span>)frame</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">self</span> = [<span class="keyword">super</span> initWithFrame:frame];</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>) &#123;</span><br><span class="line">        [<span class="keyword">self</span> setBackgroundColor:[<span class="built_in">UIColor</span> whiteColor]];</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">UIButton</span> *button=[<span class="built_in">UIButton</span> buttonWithType:<span class="built_in">UIButtonTypeRoundedRect</span>];</span><br><span class="line">        [button setTitle:<span class="string">@"撤销"</span> forState:<span class="built_in">UIControlStateNormal</span>];</span><br><span class="line">        [button addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(doButton:) forControlEvents:<span class="built_in">UIControlEventTouchDown</span>];</span><br><span class="line">        button.frame=<span class="built_in">CGRectMake</span>(<span class="number">110</span>, <span class="number">380</span>, <span class="number">100</span>, <span class="number">40</span>);</span><br><span class="line">        [button setBackgroundColor:[<span class="built_in">UIColor</span> redColor]];</span><br><span class="line">        [<span class="keyword">self</span> addSubview:button];</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">UIButton</span> *button2=[<span class="built_in">UIButton</span> buttonWithType:<span class="built_in">UIButtonTypeRoundedRect</span>];</span><br><span class="line">        [button2 setTitle:<span class="string">@"橡皮擦"</span> forState:<span class="built_in">UIControlStateNormal</span>];</span><br><span class="line">        [button2 addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(doButton:) forControlEvents:<span class="built_in">UIControlEventTouchDown</span>];</span><br><span class="line">        button2.frame=<span class="built_in">CGRectMake</span>(<span class="number">110</span>, <span class="number">430</span>, <span class="number">100</span>, <span class="number">40</span>);</span><br><span class="line">        [button2 setBackgroundColor:[<span class="built_in">UIColor</span> redColor]];</span><br><span class="line">      </span><br><span class="line">        [<span class="keyword">self</span> addSubview:button2];</span><br><span class="line"></span><br><span class="line">        <span class="comment">//实例化数组（用来存放移动点的数组）</span></span><br><span class="line">        lineArray =[[<span class="built_in">NSMutableArray</span> alloc]init];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">-(<span class="keyword">void</span>)doButton:(<span class="keyword">id</span>)button</span><br><span class="line">&#123;</span><br><span class="line">    [lineArray removeLastObject];</span><br><span class="line">    [<span class="keyword">self</span> setNeedsDisplay];</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)touchesBegan:(<span class="built_in">NSSet</span> *)touches withEvent:(<span class="built_in">UIEvent</span> *)event</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//创建触摸事件对象</span></span><br><span class="line">    <span class="built_in">UITouch</span> *touch = [touches anyObject];</span><br><span class="line">    <span class="comment">//拿到初始点</span></span><br><span class="line">    <span class="built_in">CGPoint</span> firstPoint = [touch locationInView:<span class="keyword">self</span>];</span><br><span class="line">    <span class="comment">//转换成value对象</span></span><br><span class="line">    <span class="built_in">NSValue</span> *value = [<span class="built_in">NSValue</span> valueWithCGPoint:firstPoint];</span><br><span class="line">    <span class="comment">//创建存放每个点的内层数组（一条线）</span></span><br><span class="line">    <span class="built_in">NSMutableArray</span> *pointArray = [[<span class="built_in">NSMutableArray</span> alloc]init];</span><br><span class="line">    [pointArray addObject:value];</span><br><span class="line">    <span class="comment">//把每一笔画对应 的数组放入外层数组</span></span><br><span class="line">    [lineArray addObject:pointArray];</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)touchesMoved:(<span class="built_in">NSSet</span> *)touches withEvent:(<span class="built_in">UIEvent</span> *)event</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">UITouch</span> *touch = [touches anyObject];</span><br><span class="line">      <span class="comment">//拿到移动 时的每一个点</span></span><br><span class="line">    <span class="built_in">CGPoint</span> currentPoint = [touch locationInView:<span class="keyword">self</span>];</span><br><span class="line">    <span class="comment">//拿到最后笔画对应的数组</span></span><br><span class="line">    <span class="built_in">NSMutableArray</span> *pointAaary = [lineArray lastObject];</span><br><span class="line">    <span class="built_in">NSValue</span> *value = [<span class="built_in">NSValue</span> valueWithCGPoint:currentPoint];</span><br><span class="line">    <span class="comment">//把移动 的每一个点放入对应的数组</span></span><br><span class="line">    [pointAaary addObject:value];</span><br><span class="line">    <span class="comment">//让视图重绘（调用该方法后self的drawrect方法会被调用）</span></span><br><span class="line">    [<span class="keyword">self</span> setNeedsDisplay];</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)touchesEnded:(<span class="built_in">NSSet</span> *)touches withEvent:(<span class="built_in">UIEvent</span> *)event</span><br><span class="line">&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//iOS的绘图操作是在UIView类的drawRect方法中完成的，所以如果我们要想在一个UIView中绘图，需要写一个扩展UIView 的类，并重写drawRect方法，在这里进行绘图操作，程序会自动调用此方法进行绘图。</span></span><br><span class="line">- (<span class="keyword">void</span>)drawRect:(<span class="built_in">CGRect</span>)rect</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//拿到当前绘图上下文环境</span></span><br><span class="line">    <span class="built_in">CGContextRef</span> currentText = <span class="built_in">UIGraphicsGetCurrentContext</span>();</span><br><span class="line">    <span class="comment">//设置画笔线条的宽度</span></span><br><span class="line">    <span class="built_in">CGContextSetLineWidth</span>(currentText, <span class="number">2</span>);</span><br><span class="line">    <span class="comment">//将画笔设置为红色</span></span><br><span class="line">    <span class="built_in">CGColorRef</span> cf = [<span class="built_in">UIColor</span> redColor].CGColor;</span><br><span class="line">    <span class="built_in">CGContextSetStrokeColorWithColor</span>(currentText, cf);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; [lineArray count]; i++) &#123;</span><br><span class="line">        <span class="comment">//拿到每一个笔画对应的数组</span></span><br><span class="line">       <span class="built_in">NSMutableArray</span> *pArray = [lineArray objectAtIndex:i];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; [pArray count]<span class="number">-1</span>; j++) &#123;</span><br><span class="line">            </span><br><span class="line">            <span class="built_in">NSValue</span> *previousValue = [pArray objectAtIndex:j];</span><br><span class="line">            <span class="built_in">NSValue</span> *currentValue = [pArray objectAtIndex:j+<span class="number">1</span>];</span><br><span class="line">            </span><br><span class="line">            <span class="built_in">CGPoint</span> previousPoint = [previousValue <span class="built_in">CGPointValue</span>];</span><br><span class="line">            <span class="built_in">CGPoint</span> currentValuePoint = [currentValue <span class="built_in">CGPointValue</span>];</span><br><span class="line">            <span class="comment">//设置画笔的起点</span></span><br><span class="line">            <span class="built_in">CGContextMoveToPoint</span>(currentText, previousPoint.x, previousPoint.y);</span><br><span class="line">            <span class="comment">//设置两点确定一条直线的另一点</span></span><br><span class="line">            <span class="built_in">CGContextAddLineToPoint</span>(currentText, currentValuePoint.x, currentValuePoint.y);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//提交描绘的轨迹，这才是真正画线的地方</span></span><br><span class="line">        <span class="built_in">CGContextStrokePath</span>(currentText);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Objective-C </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OC画图 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>delegate反向传值</title>
      <link href="/2017/01/27/delegate%E5%8F%8D%E5%90%91%E4%BC%A0%E5%80%BC/"/>
      <url>/2017/01/27/delegate%E5%8F%8D%E5%90%91%E4%BC%A0%E5%80%BC/</url>
      
        <content type="html"><![CDATA[<h4 id="delegate反向传值"><a href="#delegate反向传值" class="headerlink" title="delegate反向传值"></a>delegate反向传值</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"RootViewController.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"SecondViewController.h"</span></span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">RootViewController</span> ()&lt;<span class="title">SecondViewControllerDelegate</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">RootViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line"></span><br><span class="line">    [<span class="keyword">self</span> createButton];</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)createButton&#123;</span><br><span class="line">    <span class="built_in">UIButton</span> *button = [<span class="built_in">UIButton</span> buttonWithType:<span class="built_in">UIButtonTypeCustom</span>];</span><br><span class="line">    button.frame = <span class="built_in">CGRectMake</span>(<span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">    button.backgroundColor = [<span class="built_in">UIColor</span> lightGrayColor];</span><br><span class="line">    [button setTitle:<span class="string">@"下一页"</span> forState:<span class="built_in">UIControlStateNormal</span>];</span><br><span class="line">    [button addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(onClick) forControlEvents:<span class="built_in">UIControlEventTouchUpInside</span>];</span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:button];</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)onClick&#123;</span><br><span class="line">    SecondViewController *secondVc = [[SecondViewController alloc]init];</span><br><span class="line">    secondVc.delegate = <span class="keyword">self</span>;</span><br><span class="line">    [<span class="keyword">self</span>.navigationController pushViewController:secondVc animated:<span class="literal">YES</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">-(<span class="keyword">void</span>)changeColor:(<span class="built_in">UIColor</span> *)color&#123;</span><br><span class="line">    [<span class="keyword">self</span>.view setBackgroundColor:color];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"SecondViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">SecondViewController</span> ()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">SecondViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">    <span class="comment">// Do any additional setup after loading the view.</span></span><br><span class="line">    [<span class="keyword">self</span> createButton];</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span>.view setBackgroundColor:[<span class="built_in">UIColor</span> lightGrayColor]];</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)createButton&#123;</span><br><span class="line">    <span class="built_in">UIButton</span> *button = [<span class="built_in">UIButton</span> buttonWithType:<span class="built_in">UIButtonTypeCustom</span>];</span><br><span class="line">    button.frame = <span class="built_in">CGRectMake</span>(<span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">    button.backgroundColor = [<span class="built_in">UIColor</span> lightGrayColor];</span><br><span class="line">    [button setTitle:<span class="string">@"上一页"</span> forState:<span class="built_in">UIControlStateNormal</span>];</span><br><span class="line">    [button addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(onClick) forControlEvents:<span class="built_in">UIControlEventTouchUpInside</span>];</span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:button];</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)onClick&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>.delegate &amp;&amp; [<span class="keyword">self</span>.delegate respondsToSelector:<span class="keyword">@selector</span>(changeColor:)]) &#123;</span><br><span class="line">        [<span class="keyword">self</span>.delegate changeColor:[<span class="built_in">UIColor</span> yellowColor]];</span><br><span class="line">    &#125;</span><br><span class="line">    [<span class="keyword">self</span>.navigationController popViewControllerAnimated:<span class="literal">YES</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Objective-C </category>
          
      </categories>
      
      
        <tags>
            
            <tag> delegate </tag>
            
            <tag> delegate反向传值 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
